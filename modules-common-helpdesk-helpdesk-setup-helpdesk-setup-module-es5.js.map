{"version":3,"sources":["webpack:///src/app/modules/common/helpdesk/helpdesk-setup/add-ticket-category/add-ticket-category.component.html","webpack:///src/app/modules/common/helpdesk/helpdesk-setup/common-category/common-category.component.html","webpack:///src/app/modules/common/helpdesk/helpdesk-setup/helpdesk-setup.component.html","webpack:///src/app/modules/common/helpdesk/helpdesk-setup/private-category/private-category.component.html","webpack:///src/app/modules/common/helpdesk/helpdesk-setup/add-ticket-category/add-ticket-category.component.scss","webpack:///src/app/modules/common/helpdesk/helpdesk-setup/add-ticket-category/add-ticket-category.component.ts","webpack:///src/app/modules/common/helpdesk/helpdesk-setup/common-category/common-category.component.scss","webpack:///src/app/modules/common/helpdesk/helpdesk-setup/common-category/common-category.component.ts","webpack:///src/app/modules/common/helpdesk/helpdesk-setup/helpdesk-setup-routing.module.ts","webpack:///src/app/modules/common/helpdesk/helpdesk-setup/helpdesk-setup.component.scss","webpack:///src/app/modules/common/helpdesk/helpdesk-setup/helpdesk-setup.component.ts","webpack:///src/app/modules/common/helpdesk/helpdesk-setup/helpdesk-setup.module.ts","webpack:///src/app/modules/common/helpdesk/helpdesk-setup/private-category/private-category.component.scss","webpack:///src/app/modules/common/helpdesk/helpdesk-setup/private-category/private-category.component.ts"],"names":["AddTicketCategoryComponent","dialogRef","staffService","sessionService","lookupService","ticketService","sharedService","_changeDetectorRef","data","ticketCategoryData","staffsList","editData","isTicketSubmitted","message","event","type","staffOne","userId","staffTwo","staffThree","form","valid","window","scroll","top","behavior","appearance","content","shake","showIcon","markForCheck","entity","description","categoryName","lookupTypeId","lookupValueName","apartmentId","insertedBy","parseInt","insertedOn","toISOString","isActive","updatedBy","updatedOn","lookupvalue","addLookupValue","subscribe","res","code","openSnackBar","statusMessage","createEsclation","responseData","value","errorMessage","error","ticketCategoryId","addTicket","esclator","ticketTypeId","isDefault","mode","i","esclatorMain","ticketManagerId","escalationLevelId","escalationDays","push","escalationDaysOne","ticketManagerIdOne","escalationDaysTwo","ticketManagerIdTwo","params","ticketManagers","addTicketManagerMultiple","close","ticketCategoryName","lookupValueId","updateLookupValue","staffParms","RoleTypeId","roleTypeId","getAllStaffs","length","forEach","ele","customLabel","staffName","roleName","staffCategoryName","console","log","categoryId","queryParamBase","getTicketManagerByTicketCategoryId","escalationLevelId0","escalationLevelId1","escalationLevelId2","selector","template","encapsulation","None","animations","CommonCategoryComponent","dialog","injector","commonFilter","isDataLoaded","totalItems","modalService","get","open","panelClass","afterClosed","result","getCommonCategoryList","detail","dataRecord","commondatagrid","getrowdata","rowId","showConfirmModal","id","index","filtergroup","jqx","filter","filter_or_operator","filtervalue","filtercondition","filterData","createfilter","operator","addfilter","showfiltercolumnbackground","commonColumns","item","datafield","applyfilters","clearfilters","getAllTicketManagerByApartmentId","localdata","reverse","datatype","commonListData","dataAdapter","cellsrendererCommon","row","column","columnrendererCommon","text","width","pinned","cellsrenderer","renderer","field","loadedData","userName","minwidth","cellsalign","align","apiSubscribe","unitlistdeleteindexcast","deleteBy","deleteTicketManagerByTicketCategoryId","setUnitListDeleteIndex","deleterow","unsubscribe","showConfirmDeleteEventCommon","CustomEvent","dispatchEvent","editCommonCatEvent","routes","path","component","canActivate","children","redirectTo","pathMatch","HelpdeskSetupRoutingModule","imports","forChild","exports","HelpdeskSetupComponent","navArray","link","name","HelpdeskSetupModule","declarations","PrivateCategoryComponent","privateFilter","getPrivateCategoryList","privatedatagrid","privateColumns","privateListData","cellsrendererPrivate","columnrendererPrivate","showConfirmDeleteEventPrivate","editPrivateCatEvent"],"mappings":"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","file":"modules-common-helpdesk-helpdesk-setup-helpdesk-setup-module-es5.js","sourcesContent":["export default \"<div class=\\\"add-ticket-cateory-wrapper\\\">\\n    <div class=\\\"main\\\">\\n        <div class=\\\"bg-card shadow mb-0\\\">\\n            <div class=\\\"d-flex mb-4\\\">\\n                <h4>\\n                    <span *ngIf=\\\"data.type == 'common'\\\">COMMON TICKET CATEGORY</span>\\n                    <span *ngIf=\\\"data.type == 'private'\\\">PRIVATE TICKET CATEGORY</span>\\n                </h4>\\n                <mat-icon class=\\\"ml-auto\\\" [svgIcon]=\\\"'close'\\\" mat-dialog-close></mat-icon>\\n            </div>\\n            <condo-message class=\\\"mb-3\\\" *ngIf=\\\"message\\\"\\n                [appearance]=\\\"message.appearance\\\"\\n                [showIcon]=\\\"message.showIcon\\\"\\n                [type]=\\\"message.type\\\"\\n                [@shake]=\\\"message.shake\\\">\\n                {{message.content}}\\n            </condo-message>\\n            <form #ticketCategoryForm=\\\"ngForm\\\" name=\\\"ticketCategoryForm\\\">\\n                <div class=\\\"row\\\">\\n                    <div class=\\\"col-sm-12\\\">\\n                        <div class=\\\"input-box\\\">\\n                            <label>Category Name<span class=\\\"required\\\">*</span></label>\\n                            <input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Category Name\\\" name=\\\"categoryName\\\" [(ngModel)]=\\\"ticketCategoryData.categoryName\\\" (input)=\\\"errorMessage=''\\\" required>\\n                        </div>\\n                    </div>\\n                    <div class=\\\"col-sm-12\\\">\\n                        <condo-select \\n                            labelText=\\\"Default Supervisor\\\"\\n                            fieldPlaceholder=\\\"Default Supervisor\\\"\\n                            [fieldList]=\\\"staffsList | orderBy : 'staffName'\\\"\\n                            fieldValue=\\\"customLabel\\\"\\n                            [fieldModel]=\\\"ticketCategoryData.staffOne\\\"\\n                            fieldId=\\\"userId\\\"\\n                            (fieldParams)=\\\"isExistUser($event,'one')\\\" \\n                        ></condo-select>  \\n                    </div>\\n                    <div class=\\\"col-sm-12\\\">\\n                        <h6 class=\\\"mb-4\\\">Esclation Setup (Optional)</h6>\\n                    </div>\\n                    <div class=\\\"col-sm-12\\\">\\n                        <div class=\\\"input-box\\\">\\n                            <label>Auto Esclate to Level 1 After</label>\\n                            <div class=\\\"d-flex\\\">\\n                                <input OnlyNumber=\\\"true\\\" class=\\\"form-control\\\" placeholder=\\\"Days\\\" name=\\\"escdayone\\\" [(ngModel)]=\\\"ticketCategoryData.escalationDaysOne\\\">\\n                                <label class=\\\"ml-4 align-self-end\\\">Days</label>\\n                            </div>\\n                        </div>\\n                    </div>\\n                    <div class=\\\"col-sm-12\\\">\\n                        <condo-select \\n                        labelText=\\\"Select Level-1 Manager\\\"\\n                        fieldPlaceholder=\\\"Select Level-1 Manager\\\"\\n                        [fieldList]=\\\"staffsList | orderBy : 'staffName'\\\"\\n                        fieldValue=\\\"customLabel\\\"\\n                        [fieldModel]=\\\"ticketCategoryData.staffTwo\\\"\\n                        fieldId=\\\"userId\\\"\\n                        (fieldParams)=\\\"isExistUser($event,'two')\\\" \\n                        ></condo-select> \\n                    </div>\\n                    <div class=\\\"col-sm-12\\\">\\n                        <div class=\\\"input-box\\\">\\n                            <label>Auto Esclate to Level 2 After</label>\\n                            <div class=\\\"d-flex\\\">\\n                                <input OnlyNumber=\\\"true\\\" class=\\\"form-control d-inline-block w-40\\\" placeholder=\\\"Days\\\" name=\\\"escdaytwo\\\" [(ngModel)]=\\\"ticketCategoryData.escalationDaysTwo\\\">\\n                                <label class=\\\"ml-4 align-self-end\\\">Days</label>\\n                            </div>\\n                        </div>\\n                    </div>\\n                    <div class=\\\"col-sm-12\\\">\\n                        <condo-select \\n                        labelText=\\\"Select Level-2 Manager\\\"\\n                        fieldPlaceholder=\\\"Select Level-2 Manager\\\"\\n                        [fieldList]=\\\"staffsList | orderBy : 'staffName'\\\"\\n                        fieldValue=\\\"customLabel\\\"\\n                        [fieldModel]=\\\"ticketCategoryData.staffThree\\\"\\n                        fieldId=\\\"userId\\\"\\n                        (fieldParams)=\\\"isExistUser($event,'three')\\\" \\n                        ></condo-select> \\n                    </div>\\n                </div>\\n                <div class=\\\"row\\\">\\n                    <div class=\\\"col-sm-12\\\">\\n                        <submit-button class=\\\"float-right\\\" [isSubmit]=\\\"isTicketSubmitted\\\" *ngIf=\\\"data.mode == 'create'\\\" (click)=\\\"createCategory()\\\">Create</submit-button>\\n                        <submit-button class=\\\"float-right\\\" [isSubmit]=\\\"isTicketSubmitted\\\" *ngIf=\\\"data.mode == 'edit'\\\" (click)=\\\"updateCategory()\\\">Update</submit-button>\\n                    </div>\\n                </div>\\n            </form>\\n        </div>\\n    </div>\\n</div>\";","export default \"<div class=\\\"common-category-wrapper\\\">\\n    <!-- Loader -->\\n    <app-loader *ngIf=\\\"isDataLoaded\\\"></app-loader>\\n    <!-- Table -->\\n    <condo-card *ngIf=\\\"!isDataLoaded\\\">\\n        <div CondoCardHeader>\\n            <div class=\\\"d-flex\\\">\\n                <div>\\n                    <h4>Common Category</h4>\\n                    <p>{{totalItems}} results</p>\\n                </div>\\n                <div class=\\\"ml-auto mr-3\\\">\\n                    <app-table-search [input]=\\\"commonFilter\\\" (outputParams)=\\\"onGlSearchFilter($event)\\\"></app-table-search>\\n                </div>\\n                <div class=\\\"mr-3\\\">\\n                    <app-print-dropdown (outputParams) =\\\"getPrintParams($event)\\\"></app-print-dropdown>\\n                </div>\\n                <div>\\n                    <button mat-flat-button [color]=\\\"'primary'\\\" (click)=\\\"addTicket('create','')\\\">\\n                        <mat-icon class=\\\"mr-2\\\" [svgIcon]=\\\"'add'\\\"></mat-icon>Add\\n                    </button>\\n                </div>\\n            </div>\\n        </div>\\n        <div CondoCardBody>\\n            <jqxGrid \\n                [theme]=\\\"'material'\\\"\\n                [width]=\\\"'100%'\\\"\\n                [rowsheight]=\\\"48\\\"\\n                [autoheight]=\\\"true\\\"\\n                [pageable]=\\\"true\\\"\\n                [filterable]=\\\"true\\\"\\n                [sortable]=\\\"true\\\"\\n                [source]=\\\"commonListData\\\"\\n                [columns]=\\\"commonColumns\\\"\\n                [columnsresize]=\\\"true\\\"\\n                [enablehover]=\\\"false\\\"\\n                #commondatagrid>\\n            </jqxGrid> \\n        </div>\\n    </condo-card>\\n</div>\\n        \";","export default \"<div class=\\\"helpdesk-setup-wrapper\\\">  \\n\\t<div class=\\\"main\\\">\\n\\t\\t<h4 class=\\\"mb-4\\\">Settings</h4>\\n\\t\\t<!-- Tips -->\\n\\t\\t<div class=\\\"bg-card shadow p-0\\\">\\n\\t\\t\\t<mat-accordion>\\n\\t\\t\\t\\t<mat-expansion-panel>\\n\\t\\t\\t\\t\\t<mat-expansion-panel-header>\\n\\t\\t\\t\\t\\t\\t<mat-panel-title>Tips</mat-panel-title>\\n\\t\\t\\t\\t\\t</mat-expansion-panel-header>\\n\\t\\t\\t\\t\\t<mat-panel-description>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"text-hint\\\">\\n\\t\\t\\t\\t\\t\\t\\t<p>Tips :  You have two types of Ticket Category to setup.</p>\\n\\t\\t\\t\\t\\t\\t\\t<p>Common category refer to the issues related to condo which is at common to all units (For Example : Swimming pool not clean)</p>\\n\\t\\t\\t\\t\\t\\t\\t<p>Private category refer to the issues inside  the units ( For Example : Plumbing inside the Condo)</p>\\n\\t\\t\\t\\t\\t\\t\\t<p class=\\\"mt-4\\\">We have some standard Common Categories created for you, you can assign a supervisor and assign escalation if you required.</p>\\n\\t\\t\\t\\t\\t\\t\\t<p>If you have supervisor assigned to a Category , tickets will get assigned to Supervisor automatically. Supervisor will have to re-assign the ticket to Staff.</p>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</mat-panel-description>\\n\\t\\t\\t\\t</mat-expansion-panel>\\n\\t\\t\\t</mat-accordion>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"bg-card shadow p-0\\\">\\n\\t\\t\\t<nav mat-tab-nav-bar>\\n\\t\\t\\t\\t<a mat-tab-link *ngFor=\\\"let link of navArray\\\" [routerLink]=\\\"link.link\\\" \\n\\t\\t\\t\\t\\trouterLinkActive #rla=\\\"routerLinkActive\\\" [active]=\\\"rla.isActive\\\">\\n\\t\\t\\t\\t{{link.name}}\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t</nav>\\n\\t\\t\\t<router-outlet></router-outlet>\\n\\t\\t</div>\\n\\t</div>\\n</div>\\n\\n\";","export default \"<div class=\\\"private-category-wrapper\\\">\\n    <!-- Loader -->\\n    <app-loader *ngIf=\\\"isDataLoaded\\\"></app-loader>\\n    <!-- Table -->\\n    <condo-card *ngIf=\\\"!isDataLoaded\\\">\\n        <div CondoCardHeader>\\n            <div class=\\\"d-flex\\\">\\n                <div>\\n                    <h4>Private Category</h4>\\n                    <p>{{totalItems}} results</p>\\n                </div>\\n                <div class=\\\"ml-auto mr-3\\\">\\n                    <app-table-search [input]=\\\"privateFilter\\\" (outputParams)=\\\"onGlSearchFilter($event)\\\"></app-table-search>\\n                </div>\\n                <div class=\\\"mr-3\\\">\\n                    <app-print-dropdown (outputParams) =\\\"getPrintParams($event)\\\"></app-print-dropdown>\\n                </div>\\n                <div>\\n                    <button mat-flat-button [color]=\\\"'primary'\\\" (click)=\\\"addTicket('create','')\\\">\\n                        <mat-icon class=\\\"mr-2\\\" [svgIcon]=\\\"'add'\\\"></mat-icon>Add\\n                    </button>\\n                </div>\\n            </div>\\n        </div>\\n        <div CondoCardBody>\\n            <jqxGrid \\n                [theme]=\\\"'material'\\\"\\n                [width]=\\\"'100%'\\\"\\n                [rowsheight]=\\\"48\\\"\\n                [autoheight]=\\\"true\\\"\\n                [pageable]=\\\"true\\\"\\n                [filterable]=\\\"true\\\"\\n                [sortable]=\\\"true\\\"\\n                [source]=\\\"privateListData\\\"\\n                [columns]=\\\"privateColumns\\\"\\n                [columnsresize]=\\\"true\\\"\\n                [enablehover]=\\\"false\\\"\\n                #privatedatagrid>\\n            </jqxGrid> \\n        </div>\\n    </condo-card>\\n</div>\\n    \";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvY29tbW9uL2hlbHBkZXNrL2hlbHBkZXNrLXNldHVwL2FkZC10aWNrZXQtY2F0ZWdvcnkvYWRkLXRpY2tldC1jYXRlZ29yeS5jb21wb25lbnQuc2NzcyJ9 */\";","import { Component, OnInit, Inject, ViewEncapsulation, ViewChild, ChangeDetectorRef } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\nimport { StaffService } from 'src/app/api/controllers/Staff';\nimport { SessionService } from 'src/app/core/session/session.service';\nimport { LookupService } from 'src/app/api/controllers/Lookup';\nimport { TicketService } from 'src/app/api/controllers/Ticket';\nimport { SharedService } from 'src/app/shared/services/shared.service';\nimport { CondoAnimations } from 'src/@condo/animations';\n\nimport * as moment from 'moment';\nimport _moment from \"moment-timezone\";\n\n@Component({\n  selector: 'app-add-ticket-category',\n  templateUrl: './add-ticket-category.component.html',\n  styleUrls: ['./add-ticket-category.component.scss'],\n  encapsulation  : ViewEncapsulation.None,\n  animations   : CondoAnimations\n})\nexport class AddTicketCategoryComponent implements OnInit {\n  @ViewChild('ticketCategoryForm') form:any;\n  ticketCategoryData:any= {};\n  staffsList = [];\n  editData:any = {};\n  errorMessage:string;\n  isTicketSubmitted:boolean = false;\n  message = null;\n  constructor(public dialogRef: MatDialogRef<AddTicketCategoryComponent>,\n    private staffService: StaffService,\n    private sessionService: SessionService,\n    private lookupService: LookupService,\n    private ticketService: TicketService,\n    private sharedService:SharedService,\n    private _changeDetectorRef: ChangeDetectorRef,\n    @Inject(MAT_DIALOG_DATA) public data: any) \n  { }\n\n  isExistUser(event,type) {\n    if(type == 'one') \n      this.ticketCategoryData.staffOne = event[0].userId;\n    else if(type == 'two')\n      this.ticketCategoryData.staffTwo = event[0].userId;\n    else if (type == 'three')\n      this.ticketCategoryData.staffThree = event[0].userId;\n  }\n\n  createCategory() {\n    this.message = null;\n    if(!this.form.valid){\n      window.scroll({\n        top: 0,\n        behavior: 'smooth'\n      });\n      // Show the validation message\n      this.message = {\n        appearance: 'outline',\n        content   : \"Fill the Required Fields\",\n        shake     : true,\n        showIcon  : true,\n        type      : 'error'\n      };\n      //Mark for check\n      this._changeDetectorRef.markForCheck();\n    } else {\n      this.isTicketSubmitted = true;\n      let entity = {\n        description: this.ticketCategoryData.categoryName,\n        lookupTypeId: this.data.type == 'private' ? 16 : 17,  //privateId=16 && category=17\n        lookupValueName: this.ticketCategoryData.categoryName,\n        apartmentId : this.sessionService.apartmentId,\n        insertedBy:  parseInt(this.sessionService.userId),\n        insertedOn: _moment().toISOString(),\n        isActive: true,\n        updatedBy: 0,\n        updatedOn: null\n      }\n      let lookupvalue = {\n        lookupvalue  : entity\n      }\n      this.lookupService.addLookupValue(lookupvalue).subscribe((res:any) => {\n        if(res.code == 200) {\n          this.sharedService.openSnackBar(res.statusMessage, 'success');\n          this.createEsclation(parseInt(res.message));\n        } else {\n          this.isTicketSubmitted = false;\n          this.sharedService.openSnackBar(res.responseData.value.errorMessage, 'error');\n        }\n      },\n      (error)=>{\n        this.isTicketSubmitted = false;\n        this.sharedService.openSnackBar('Network Error', 'error');\n      })\n    }\n  }\n\n  createEsclation(ticketCategoryId) {\n    let addTicket = [];\n    let esclator = {\n      ticketCategoryId: ticketCategoryId,\n      ticketTypeId : this.data.type == 'private' ? 27 : 24, //privateId=27 && category=24\n      isDefault: true,\n      isActive: true,\n      apartmentId : this.sessionService.apartmentId,\n      insertedBy:  parseInt(this.sessionService.userId),\n      insertedOn: _moment().toISOString(),\n      updatedBy: this.data.mode=='edit' ?  parseInt(this.sessionService.userId) : 0,\n      updatedOn: this.data.mode=='edit' ? _moment().toISOString() : null\n    }\n    for(let i=0; i<3; i++) {\n      if(i == 0) {\n        let esclatorMain = {\n          ticketManagerId : this.data.mode=='edit' ? this.ticketCategoryData.ticketManagerId : 0,\n          userId:  this.ticketCategoryData.staffOne ? this.ticketCategoryData.staffOne : null,\n          escalationLevelId: 0,\n          escalationDays: 0,\n        }\n        addTicket.push({...esclator,...esclatorMain});\n      } else if(i==1 && this.ticketCategoryData.staffTwo  && this.ticketCategoryData.escalationDaysOne) {\n        let esclatorMain = {\n          ticketManagerId : this.data.mode=='edit' ? this.ticketCategoryData.ticketManagerIdOne : 0,\n          userId:  this.ticketCategoryData.staffTwo,\n          escalationLevelId: 1,\n          escalationDays: this.ticketCategoryData.escalationDaysOne,\n        }\n        addTicket.push({...esclator,...esclatorMain});\n      } else if(i==2 && this.ticketCategoryData.staffThree && this.ticketCategoryData.escalationDaysTwo) {\n        let esclatorMain = {\n          ticketManagerId : this.data.mode=='edit' ? this.ticketCategoryData.ticketManagerIdTwo : 0,\n          userId: this.ticketCategoryData.staffThree,\n          escalationLevelId: 2,\n          escalationDays: this.ticketCategoryData.escalationDaysTwo,\n        }\n        addTicket.push({...esclator,...esclatorMain});\n      }\n    }\n    let params = {\n      ticketManagers : addTicket\n    }\n    this.ticketService.addTicketManagerMultiple(params).subscribe((res:any)=>{\n      if(res.code == 200) {\n        this.isTicketSubmitted = false;\n        this.sharedService.openSnackBar(res.statusMessage,'success');\n        this.dialogRef.close(true);\n      } else {\n        this.isTicketSubmitted = false;\n        this.sharedService.openSnackBar(res.errorMessage,'error');\n      }\n    },(error)=>{\n      this.isTicketSubmitted = false;\n      this.sharedService.openSnackBar('Server Error','error');\n    })\n  }\n\n  updateCategory() {\n    this.message = null;\n    if(!this.form.valid){\n      window.scroll({\n        top: 0,\n        behavior: 'smooth'\n      });\n      // Show the validation message\n      this.message = {\n        appearance: 'outline',\n        content   : \"Fill the Required Fields\",\n        shake     : true,\n        showIcon  : true,\n        type      : 'error'\n      };\n      //Mark for check\n      this._changeDetectorRef.markForCheck();\n    } else {\n      this.isTicketSubmitted = true;\n      if(this.ticketCategoryData.categoryName != this.editData.ticketCategoryName) {\n        let entity = {\n          lookupValueId: this.editData.ticketCategoryId,\n          description: this.ticketCategoryData.categoryName,\n          lookupTypeId: this.data.type == 'private' ? 16 : 17,\n          lookupValueName: this.ticketCategoryData.categoryName,\n          apartmentId : this.sessionService.apartmentId,\n          insertedBy: parseInt(this.sessionService.userId),\n          insertedOn: _moment().toISOString(),\n          isActive: true,\n          updatedBy: parseInt(this.sessionService.userId),\n          updatedOn: _moment().toISOString(),\n        }\n        let lookupvalue = {\n          lookupvalue  : entity\n        }\n        this.lookupService.updateLookupValue(lookupvalue).subscribe((res:any) => {\n          if(res.message) {\n            this.sharedService.openSnackBar(res.message,'success');\n            this.createEsclation( this.editData.ticketCategoryId);\n          } else {\n            this.isTicketSubmitted = false;\n            this.sharedService.openSnackBar(res.errorMessage,'error');\n          }\n        },(error)=>{\n          this.isTicketSubmitted = false;\n          this.sharedService.openSnackBar('Server Error','error');\n        })\n      } else {\n        this.createEsclation(this.editData.ticketCategoryId)\n      }\n    }\n  }\n\n  ngOnInit(): void {\n    let staffParms = {\n      apartmentId: this.sessionService.apartmentId,\n      RoleTypeId: this.sessionService.roleTypeId\n    }\n    this.staffService.getAllStaffs(staffParms).subscribe((res:any) => {\n      if(res.length) {\n        res.forEach((ele)=>{\n          ele.customLabel = `${ele.staffName}, ${ele.roleName} - ${ele.staffCategoryName}`;\n        })\n        this.staffsList = res;\n      }\n    },error => {\n      console.log(error)\n    });\n    //Edit Mode\n    if(this.data.mode=='edit' && this.data.categoryId) {\n      let queryParamBase = {\n        apartmentId: this.sessionService.apartmentId,\n        ticketCategoryId: this.data.categoryId,\n        ticketTypeId: this.data.type == 'private' ? 27 : 24,\n      };\n      this.ticketService.getTicketManagerByTicketCategoryId(queryParamBase).subscribe((res:any)=>{\n        this.editData = res[0];\n        this.ticketCategoryData.categoryName = res[0].ticketCategoryName;\n        this.ticketCategoryData.ticketManagerId = res[0].escalationLevelId0.ticketManagerId;\n        this.ticketCategoryData.staffOne = res[0].escalationLevelId0.userId;\n        if(res[0].escalationLevelId1) {\n          this.ticketCategoryData.escalationDaysOne = res[0].escalationLevelId1.escalationDays;\n          this.ticketCategoryData.ticketManagerIdOne = res[0].escalationLevelId1.ticketManagerId;\n          this.ticketCategoryData.staffTwo = res[0].escalationLevelId1.userId;\n        }\n        if(res[0].escalationLevelId2) {\n          this.ticketCategoryData.escalationDaysTwo = res[0].escalationLevelId2.escalationDays;\n          this.ticketCategoryData.ticketManagerIdTwo = res[0].escalationLevelId2.ticketManagerId;\n          this.ticketCategoryData.staffThree = res[0].escalationLevelId2.userId;\n        }\n      })\n    }\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvY29tbW9uL2hlbHBkZXNrL2hlbHBkZXNrLXNldHVwL2NvbW1vbi1jYXRlZ29yeS9jb21tb24tY2F0ZWdvcnkuY29tcG9uZW50LnNjc3MifQ== */\";","import { Component, OnInit, HostListener, ViewChild, Injector } from '@angular/core';\nimport { SessionService } from 'src/app/core/session/session.service';\nimport { jqxGridComponent } from 'src/app/shared/jqwidgets-scripts/jqwidgets-ts/angular_jqxgrid';\nimport { Router } from '@angular/router';\nimport { MatDialog } from '@angular/material/dialog';\nimport { AddTicketCategoryComponent } from '../add-ticket-category/add-ticket-category.component';\nimport { TicketService } from 'src/app/api/controllers/Ticket';\nimport { Subscription } from 'rxjs';\nimport { SharedService } from 'src/app/shared/services/shared.service';\nimport { ModalService } from 'src/app/shared/services/modal.service';\n\n@Component({\n  selector: 'app-common-category',\n  templateUrl: './common-category.component.html',\n  styleUrls: ['./common-category.component.scss']\n})\nexport class CommonCategoryComponent implements OnInit {\n  @ViewChild('commondatagrid', { static: false }) commondatagrid: jqxGridComponent;\n  commonColumns:any;\n  commonFilter: string = \"\";\n  commonListData: any;\n  isDataLoaded:boolean = true;\n  totalItems:number = 0;\n  apiSubscribe:Subscription;\n  modalService:any;\n\n  constructor( \n    public dialog: MatDialog,\n    private sharedService:SharedService,\n    private ticketService: TicketService,\n    private sessionService:SessionService,\n    private injector: Injector) {\n      this.modalService = this.injector.get(ModalService);\n    }\n\n  addTicket(mode,categoryId) {\n    let data:any= {type:'common',mode,categoryId};\n    const dialogRef = this.dialog.open(AddTicketCategoryComponent, {\n      panelClass: 'material-dialog-medium',\n      data: data\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      if(result) {\n        this.getCommonCategoryList();\n      }\n    });\n  }\n\n  @HostListener('window:onCommonCatEdit', ['$event.detail'])\n  onCommonCatEdit(detail) {\n    let dataRecord = this.commondatagrid.getrowdata(detail.rowId);\n    this.addTicket('edit',dataRecord.ticketCategoryId)\n  }\n\n\n  @HostListener('window:onCommonCatDelete', ['$event.detail'])\n  onCommonCatDelete(detail) {\n    let dataRecord = this.commondatagrid.getrowdata(detail.rowId);\n    this.modalService.showConfirmModal({id:dataRecord.ticketCategoryId,index:detail.rowId});\n  }\n\n  onGlSearchFilter(event) {\n    if (event != \"\") {\n      let filtergroup = new jqx.filter();\n      let filter_or_operator = 1;\n      let filtervalue = event;\n      let filtercondition = 'contains';\n      let filterData = filtergroup.createfilter('stringfilter', filtervalue, filtercondition);\n      filtergroup.operator = 'or';\n      filtergroup.addfilter(filter_or_operator, filterData);\n      this.commondatagrid.showfiltercolumnbackground(false);\n      this.commonColumns.forEach(item => {\n        if (item.datafield != 'Actions') {\n          this.commondatagrid.addfilter(item.datafield, filtergroup, true);\n        }\n      })\n      this.commondatagrid.applyfilters();\n    }\n    else {\n      this.commondatagrid.clearfilters();\n    }\n  }\n\n  getCommonCategoryList() {\n    this.isDataLoaded = true;\n    let params = {\n      apartmentId: this.sessionService.apartmentId,\n      ticketTypeId: 24,   //Common TicketType Id\n    }\n    this.ticketService.getAllTicketManagerByApartmentId(params).subscribe((res:any)=>{\n      if(res.length > 0) {\n        this.totalItems = res.length;\n        let data = {\n          localdata: res.reverse(),\n          datatype: \"array\"\n        }\n        this.commonListData = new jqx.dataAdapter(data);\n      }\n      this.isDataLoaded = false;\n    },(error)=>{\n      this.isDataLoaded = false;\n      this.sharedService.openSnackBar('Server Error' ,'error');\n    })\n  }\n\n  ngOnInit(): void {\n    this.getCommonCategoryList();\n    var cellsrendererCommon = (row, column, value) => {\n      return '<div class=\"jqx-custom-inner-cell\">' + value + '</div>';\n    }\n    var columnrendererCommon = (value) => {\n      return '<div style=\"padding: 14px\">' + value + '</div>';\n    }\n    this.commonColumns = [{\n      text: 'Category',\n      datafield: 'ticketCategoryName',\n      width: 200,\n      pinned: true,\n      cellsrenderer: cellsrendererCommon,\n      renderer: columnrendererCommon\n    },{\n      text: 'Supervisor',\n      datafield: \"escalationLevelId0\",\n      cellsrenderer:  (row, column, value) => {\n        let field = this.commonListData.loadedData[row].escalationLevelId0;\n        if(field && field.userName) \n          value = field.userName;\n        else \n          value = '';\n        return '<div class=\"jqx-custom-inner-cell\">' + value + '</div>';\n      },\n      minwidth: 150,\n      renderer: columnrendererCommon\n    },{\n      text: 'Level-1',\n      datafield: 'escalationLevelId1',\n      cellsrenderer:  (row, column, value) => {\n        let field = this.commonListData.loadedData[row].escalationLevelId1;\n        if(field && field.userName) \n          value = field.userName;\n        else \n          value = '';\n        return '<div class=\"jqx-custom-inner-cell\">' + value + '</div>';\n      },\n      minwidth: 150,\n      renderer: columnrendererCommon\n    },{\n      text: 'L1 escdays',\n      cellsrenderer:  (row, column, value) => {\n        let field = this.commonListData.loadedData[row].escalationLevelId1;\n        if(field && field.escalationDays) \n          value = field.escalationDays;\n        else \n          value = '';\n        return '<div class=\"jqx-custom-inner-cell\">' + value + '</div>';\n      },\n      width: 120,\n      renderer: columnrendererCommon\n    },{\n      text: 'Level-2',\n      datafield: 'escalationLevelId2',\n      cellsrenderer:  (row, column, value) => {\n        let field = this.commonListData.loadedData[row].escalationLevelId2;\n        if(field && field.userName) \n          value = field.userName;\n        else \n          value = '';\n        return '<div class=\"jqx-custom-inner-cell\">' + value + '</div>';\n      },\n      minwidth: 150,\n      renderer: columnrendererCommon\n    },{\n      text: 'L2 escdays',\n      cellsrenderer:  (row, column, value) => {\n        let field = this.commonListData.loadedData[row].escalationLevelId2;\n        if(field && field.escalationDays) \n          value = field.escalationDays;\n        else \n          value = '';\n        return '<div class=\"jqx-custom-inner-cell\">' + value + '</div>';\n      },\n      width: 120,\n      renderer: columnrendererCommon\n    },{\n      text: 'Actions',\n      cellsalign: 'center',\n      align: 'center',\n      width: 120,\n      cellsrenderer: (row: number): string => {\n        return '<div class=\"simple-actions\"><a href=\"javascript:void(0)\" class=\"mr-2\" onClick=\"editCommonCatEvent(' + row + ')\"><i class=\"fa fa-pencil icon edit\" title=\"Edit\" aria-hidden=\"true\"></i></a><a href=\"javascript:void(0)\" class=\"mr-2\" onClick=\"showConfirmDeleteEventCommon(' + row + ')\"><i class=\"fa fa-trash icon delete\" title=\"Delete\" aria-hidden=\"true\"></i></a></div>'\n      },\n      renderer: columnrendererCommon\n    }];\n\n     //Delete Category\n\t\tthis.apiSubscribe = this.sharedService.unitlistdeleteindexcast.subscribe( item => {\n\t\t\tif(item != null && item.id) {\n        let params = {\n          apartmentId: this.sessionService.apartmentId,\n          ticketCategoryId: item.id,\n          deleteBy: this.sessionService.userId\n        }\n        this.ticketService.deleteTicketManagerByTicketCategoryId(params).subscribe((res:any) => {\n          if(res.message) {\n            this.sharedService.setUnitListDeleteIndex(null);\n            this.commondatagrid.deleterow(item.index);\n          }\n        });\n      }\n\t\t})\n  }\n\n  ngOnDestroy(){\n\t\tthis.apiSubscribe.unsubscribe();\n\t}\n}\n\nfunction showConfirmDeleteEventCommon(row) {\n  var event = new CustomEvent('onCommonCatDelete', {\n    detail: {\n      rowId: row\n    }\n  })\n  window.dispatchEvent(event);\n}\n(window as any).showConfirmDeleteEventCommon = showConfirmDeleteEventCommon;\n\n\nfunction editCommonCatEvent(row) {\n  var event = new CustomEvent('onCommonCatEdit', {\n    detail: {\n      rowId: row\n    }\n  })\n  window.dispatchEvent(event);\n}\n(window as any).editCommonCatEvent = editCommonCatEvent;\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { HelpdeskSetupComponent } from './helpdesk-setup.component';\nimport { AuthGuard } from 'src/app/core/auth/guards/auth.guard';\nimport { PrivateCategoryComponent } from './private-category/private-category.component';\nimport { CommonCategoryComponent } from './common-category/common-category.component';\n\nconst routes: Routes = [\n\t{ path: '', component: HelpdeskSetupComponent, canActivate: [AuthGuard],\n\t\tchildren: [\n\t\t\t{ path: '', redirectTo: 'private-category', canActivate: [AuthGuard], pathMatch: 'full'},\n\t\t\t{ path: 'private-category', component: PrivateCategoryComponent, canActivate: [AuthGuard]},\n\t\t\t{ path: 'common-category', component: CommonCategoryComponent, canActivate: [AuthGuard]}, \n\t\t\t{ path: '**', redirectTo: 'private-category', pathMatch: 'full'}\n\t\t]\n\t},\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class HelpdeskSetupRoutingModule { }\n","export default \".mandatory {\\n  color: red;\\n  font-size: 16px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9jb21tb24vaGVscGRlc2svaGVscGRlc2stc2V0dXAvaGVscGRlc2stc2V0dXAuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxVQUFBO0VBQ0EsZUFBQTtBQUNGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9jb21tb24vaGVscGRlc2svaGVscGRlc2stc2V0dXAvaGVscGRlc2stc2V0dXAuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubWFuZGF0b3J5e1xuICBjb2xvcjogcmVkO1xuICBmb250LXNpemU6IDE2cHg7XG59XG4iXX0= */\";","import { Component, OnInit, Injector, HostListener, ViewChild, TemplateRef } from '@angular/core';\n\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\n\nimport { UserService } from 'src/app/api/controllers/User';\nimport { LookupService } from 'src/app/api/controllers/Lookup';\nimport { SharedService } from 'src/app/shared/services/shared.service';\nimport { ModalService } from 'src/app/shared/services/modal.service';\nimport { SessionService } from 'src/app/core/session/session.service';\nimport { jqxGridComponent } from 'src/app/shared/jqwidgets-scripts/jqwidgets-ts/angular_jqxgrid';\nimport * as _ from 'underscore';\nimport { Router } from '@angular/router'\n@Component({\n  selector: 'app-helpdesk-setup',\n  templateUrl: './helpdesk-setup.component.html',\n  styleUrls: ['./helpdesk-setup.component.scss']\n})\nexport class HelpdeskSetupComponent implements OnInit {\n  navArray:any;\n\n  constructor() {}\n \n  ngOnInit() {\n    this.navArray = [\n      {link:'private-category', name: 'Private Category'},\n      {link:'common-category', name: 'Common Category'} \n    ]\n  }\n}\n\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { HelpdeskSetupRoutingModule } from './helpdesk-setup-routing.module';\nimport { HelpdeskSetupComponent } from './helpdesk-setup.component';\nimport { AddTicketCategoryComponent } from './add-ticket-category/add-ticket-category.component';\nimport { CommonCategoryComponent } from './common-category/common-category.component';\nimport { PrivateCategoryComponent } from './private-category/private-category.component';\n\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport { CondoCardModule } from 'src/app/modules/ui/card/card.module';\nimport { SelectModule } from 'src/app/modules/ui/select/select.module';\n\n\n\n@NgModule({\n  declarations: [\n    HelpdeskSetupComponent,\n    AddTicketCategoryComponent,\n    CommonCategoryComponent,\n    PrivateCategoryComponent,\n  ],\n  imports: [\n    CommonModule,\n    SharedModule,\n    CondoCardModule,\n    SelectModule,\n    HelpdeskSetupRoutingModule\n  ]\n})\nexport class HelpdeskSetupModule { }\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvY29tbW9uL2hlbHBkZXNrL2hlbHBkZXNrLXNldHVwL3ByaXZhdGUtY2F0ZWdvcnkvcHJpdmF0ZS1jYXRlZ29yeS5jb21wb25lbnQuc2NzcyJ9 */\";","import { Component, OnInit, ViewChild, HostListener, Injector } from '@angular/core';\nimport { SessionService } from 'src/app/core/session/session.service';\nimport { jqxGridComponent } from 'src/app/shared/jqwidgets-scripts/jqwidgets-ts/angular_jqxgrid';\nimport { Router } from '@angular/router';\nimport { MatDialog } from '@angular/material/dialog';\nimport { AddTicketCategoryComponent } from '../add-ticket-category/add-ticket-category.component';\nimport { TicketService } from 'src/app/api/controllers/Ticket';\nimport { Subscription } from 'rxjs';\nimport { SharedService } from 'src/app/shared/services/shared.service';\nimport { ModalService } from 'src/app/shared/services/modal.service';\n\n@Component({\n  selector: 'app-private-category',\n  templateUrl: './private-category.component.html',\n  styleUrls: ['./private-category.component.scss']\n})\nexport class PrivateCategoryComponent implements OnInit {\n  @ViewChild('privatedatagrid', { static: false }) privatedatagrid: jqxGridComponent;\n  privateColumns: any;\n  privateFilter: string = '';\n  privateListData: any;\n  isDataLoaded:boolean = true;\n  totalItems:number = 0;\n  apiSubscribe:Subscription;\n  modalService:any;\n\n  constructor(\n    public dialog: MatDialog,\n    private sharedService:SharedService,\n    private ticketService: TicketService,\n    private injector: Injector,\n    private sessionService:SessionService) {\n      this.modalService = this.injector.get(ModalService);\n    }\n\n  addTicket(mode,categoryId) {\n    let data:any= {type:'private',mode,categoryId};\n    const dialogRef = this.dialog.open(AddTicketCategoryComponent, {\n      panelClass: 'material-dialog-medium',\n      data: data\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      if(result) {\n        this.getPrivateCategoryList();\n      }\n    });\n  }\n\n  @HostListener('window:onPrivateCatEdit', ['$event.detail'])\n  onPrivateCatEdit(detail) {\n    let dataRecord = this.privatedatagrid.getrowdata(detail.rowId);\n    this.addTicket('edit',dataRecord.ticketCategoryId)\n  }\n\n  @HostListener('window:onPrivateCatDelete', ['$event.detail'])\n  onPrivateCatDelete(detail) {\n    let dataRecord = this.privatedatagrid.getrowdata(detail.rowId);\n    this.modalService.showConfirmModal({id:dataRecord.ticketCategoryId,index:detail.rowId});\n  }\n\n  onGlSearchFilter(event) {\n    if (event != \"\") {\n      let filtergroup = new jqx.filter();\n      let filter_or_operator = 1;\n      let filtervalue = event;\n      let filtercondition = 'contains';\n      let filterData = filtergroup.createfilter('stringfilter', filtervalue, filtercondition);\n      filtergroup.operator = 'or';\n      filtergroup.addfilter(filter_or_operator, filterData);\n      this.privatedatagrid.showfiltercolumnbackground(false);\n      this.privateColumns.forEach(item => {\n        if (item.datafield != 'Actions') {\n          this.privatedatagrid.addfilter(item.datafield, filtergroup, true);\n        }\n      })\n      this.privatedatagrid.applyfilters();\n    }\n    else {\n      this.privatedatagrid.clearfilters();\n    }\n  }\n\n  getPrivateCategoryList() {\n    this.isDataLoaded = true;\n    let params = {\n      apartmentId: this.sessionService.apartmentId,\n      ticketTypeId: 27,   //Private TicketType Id\n    }\n    this.ticketService.getAllTicketManagerByApartmentId(params).subscribe((res:any)=>{\n      if(res.length > 0) {\n        this.totalItems = res.length;\n        let data = {\n          localdata: res.reverse(),\n          datatype: \"array\"\n        }\n        this.privateListData = new jqx.dataAdapter(data);\n      }\n      this.isDataLoaded = false;\n    },(error)=>{\n      this.isDataLoaded = false;\n      this.sharedService.openSnackBar('Server Error' ,'error');\n    })\n  }\n\n  ngOnInit(): void {\n    this.getPrivateCategoryList();\n    var cellsrendererPrivate = (row, column, value) => {\n      return '<div class=\"jqx-custom-inner-cell\">' + value + '</div>';\n    }\n    var columnrendererPrivate = (value) => {\n      return '<div style=\"padding: 14px\">' + value + '</div>';\n    }\n    this.privateColumns = [{\n      text: 'Category',\n      datafield: 'ticketCategoryName',\n      width: 200,\n      pinned: true,\n      cellsrenderer: cellsrendererPrivate,\n      renderer: columnrendererPrivate\n    },{\n      text: 'Supervisor',\n      datafield: \"escalationLevelId0\",\n      cellsrenderer:  (row, column, value) => {\n        let field = this.privateListData.loadedData[row].escalationLevelId0;\n        if(field && field.userName) \n          value = field.userName;\n        else \n          value = '';\n        return '<div class=\"jqx-custom-inner-cell\">' + value + '</div>';\n      },\n      minwidth: 150,\n      renderer: columnrendererPrivate\n    },{\n      text: 'Level-1',\n      datafield: 'escalationLevelId1',\n      cellsrenderer:  (row, column, value) => {\n        let field = this.privateListData.loadedData[row].escalationLevelId1;\n        if(field && field.userName) \n          value = field.userName;\n        else \n          value = '';\n        return '<div class=\"jqx-custom-inner-cell\">' + value + '</div>';\n      },\n      minwidth: 150,\n      renderer: columnrendererPrivate\n    },{\n      text: 'L1 escdays',\n      cellsrenderer:  (row, column, value) => {\n        let field = this.privateListData.loadedData[row].escalationLevelId1;\n        if(field && field.escalationDays) \n          value = field.escalationDays;\n        else \n          value = '';\n        return '<div class=\"jqx-custom-inner-cell\">' + value + '</div>';\n      },\n      width: 120,\n      renderer: columnrendererPrivate\n    },{\n      text: 'Level-2',\n      datafield: 'escalationLevelId2',\n      cellsrenderer:  (row, column, value) => {\n        let field = this.privateListData.loadedData[row].escalationLevelId2;\n        if(field && field.userName) \n          value = field.userName;\n        else \n          value = '';\n        return '<div class=\"jqx-custom-inner-cell\">' + value + '</div>';\n      },\n      minwidth: 150,\n      renderer: columnrendererPrivate\n    },{\n      text: 'L2 escdays',\n      cellsrenderer:  (row, column, value) => {\n        let field = this.privateListData.loadedData[row].escalationLevelId2;\n        if(field && field.escalationDays) \n          value = field.escalationDays;\n        else \n          value = '';\n        return '<div class=\"jqx-custom-inner-cell\">' + value + '</div>';\n      },\n      width: 120,\n      renderer: columnrendererPrivate\n    },{\n      text: 'Actions',\n      cellsalign: 'center',\n      align: 'center',\n      width: 120,\n      cellsrenderer: (row: number): string => {\n        return '<div class=\"simple-actions\"><a href=\"javascript:void(0)\" class=\"mr-2\" onClick=\"editPrivateCatEvent(' + row + ')\"><i class=\"fa fa-pencil icon edit\" title=\"Edit\" aria-hidden=\"true\"></i></a><a href=\"javascript:void(0)\" class=\"mr-2\" onClick=\"showConfirmDeleteEventPrivate(' + row + ')\"><i class=\"fa fa-trash icon delete\" title=\"Delete\" aria-hidden=\"true\"></i></a></div>'\n      },\n      renderer: columnrendererPrivate\n    }];\n\n      //Delete Category\n\t\tthis.apiSubscribe = this.sharedService.unitlistdeleteindexcast.subscribe( item => {\n\t\t\tif(item != null && item.id) {\n        let params = {\n          apartmentId: this.sessionService.apartmentId,\n          ticketCategoryId: item.id,\n          deleteBy: this.sessionService.userId\n        }\n        this.ticketService.deleteTicketManagerByTicketCategoryId(params).subscribe((res:any) => {\n          if(res.message) {\n            this.sharedService.setUnitListDeleteIndex(null);\n            this.privatedatagrid.deleterow(item.index);\n          }\n        });\n      }\n\t\t})\n  }\n\n  ngOnDestroy(){\n\t\tthis.apiSubscribe.unsubscribe();\n\t}\n}\n\nfunction showConfirmDeleteEventPrivate(row) {\n  var event = new CustomEvent('onPrivateCatDelete', {\n    detail: {\n      rowId: row\n    }\n  })\n  window.dispatchEvent(event);\n}\n(window as any).showConfirmDeleteEventPrivate = showConfirmDeleteEventPrivate;\n\nfunction editPrivateCatEvent(row) {\n  var event = new CustomEvent('onPrivateCatEdit', {\n    detail: {\n      rowId: row\n    }\n  })\n  window.dispatchEvent(event);\n}\n(window as any).editPrivateCatEvent = editPrivateCatEvent;\n\n"]}