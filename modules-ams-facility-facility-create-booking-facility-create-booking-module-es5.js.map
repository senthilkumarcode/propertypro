{"version":3,"sources":["webpack:///node_modules/@fullcalendar/resource-common/main.esm.js","webpack:///node_modules/@fullcalendar/resource-timeline/main.esm.js","webpack:///node_modules/@fullcalendar/timeline/main.esm.js","webpack:///src/app/modules/ams/facility/facility-create-booking/facility-calender/facility-calender.component.html","webpack:///src/app/modules/ams/facility/facility-create-booking/facility-create-booking/facility-create-booking.component.html","webpack:///src/app/modules/ams/facility/facility-create-booking/facility-expected-visitor/facility-expected-visitor.component.html","webpack:///src/app/modules/ams/facility/facility-create-booking/facility-modal/facility-modal.component.html","webpack:///src/app/modules/ams/facility/facility-create-booking/user-facility-booking-list/user-facility-booking-list.component.html","webpack:///src/app/modules/ams/facility/facility-create-booking/facility-calender/facility-calender.component.scss","webpack:///src/app/modules/ams/facility/facility-create-booking/facility-calender/facility-calender.component.ts","webpack:///src/app/modules/ams/facility/facility-create-booking/facility-create-booking-routing.module.ts","webpack:///src/app/modules/ams/facility/facility-create-booking/facility-create-booking.module.ts","webpack:///src/app/modules/ams/facility/facility-create-booking/facility-create-booking/facility-create-booking.component.scss","webpack:///src/app/modules/ams/facility/facility-create-booking/facility-create-booking/facility-create-booking.component.ts","webpack:///src/app/modules/ams/facility/facility-create-booking/facility-expected-visitor/facility-expected-visitor.component.scss","webpack:///src/app/modules/ams/facility/facility-create-booking/facility-expected-visitor/facility-expected-visitor.component.ts","webpack:///src/app/modules/ams/facility/facility-create-booking/facility-modal/facility-modal.component.scss","webpack:///src/app/modules/ams/facility/facility-create-booking/facility-modal/facility-modal.component.ts","webpack:///src/app/modules/ams/facility/facility-create-booking/user-facility-booking-list/user-facility-booking-list.component.scss","webpack:///src/app/modules/ams/facility/facility-create-booking/user-facility-booking-list/user-facility-booking-list.component.ts"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","massageEventDragMutation","eventMutation","hit0","hit1","resource0","dateSpan","resourceId","resource1","resourceMutation","matchResourceId","setResourceId","applyEventDefMutation","eventDef","mutation","calendar","computeResourceEditable","index","resourceIds","indexOf","slice","splice","push","resourceEditable","source","sourceId","state","eventSources","extendedProps","opt","transformEventDrop","oldResource","getResourceById","newResource","ResourceDataAdder","filterResources","transform","viewProps","viewSpec","calendarProps","allOptions","needsResourceData","resourceStore","filterResourcesWithEvents","eventStore","dateProfile","activeRange","resourceEntityExpansions","doFilterResourcesWithEvents","instancesInRange","filterEventInstancesInRange","instances","hasEvents_1","computeHasEvents","defs","computeAncestorHasEvents","resource","eventInstances","eventInstance","range","eventDefs","hasEvents","instanceId","instance","_i","_a","defId","res","parentId","ResourceEventConfigAdder","buildResourceEventUis","injectResourceEventUis","eventUiBases","ui","resourceEventUis","eventUi","injectResourceEventUi","origEventUi","parts","unshift","transformIsDraggable","val","view","context","RESOURCE_SOURCE_PROPS","id","String","uid","registerResourceSourceDef","def","getResourceSourceDef","doesSourceIgnoreRange","Boolean","sourceDefId","ignoreRange","parseResourceSource","input","meta","parseMeta","parseResourceSourceProps","_raw","props","publicId","isFetching","latestFetchId","fetchRange","reduceResourceSource","action","type","createSource","resourceSourceInput","handleRange","receiveResponse","fetchId","fetchSource","uid$1","forceFetch","sourceDef","fetch","resourceSource","afterSizingTriggers","_resourcesRendered","dispatch","rawResources","error","RESOURCE_PROPS","title","businessHours","children","PRIVATE_ID_PREFIX","uid$2","parseResource","store","leftovers0","leftovers1","freeze","classNames","childInput","getPublicId","reduceResourceStore","receiveRawResources","addResource","resourceHash","removeResource","setResourceProp","propName","propValue","existingStore","inputs","nextStore","inputs_1","additions","newStore","childResourceId","name","value","_b","existingResource","reduceResourceEntityExpansions","expansions","isExpanded","resourcesReducers","loadingLevel","RESOURCE_RELATED_PROPS","items","map","item","parseEventDef","leftovers","resourceRelatedProps","transformDateSelectionJoin","resourceId0","resourceId1","component","allowAcrossResources","ResourceApi","rawResource","_calendar","_resource","setProp","remove","getParent","getChildren","thisResourceId","childApis","getEvents","eventApis","defineProperty","get","enumerable","configurable","constraints","overlap","allows","backgroundColor","borderColor","textColor","scrollTo","addScroll","forcedRowId","getResources","resourceApis","getTopLevelResources","rerenderResources","refetchResources","transformDatePoint","transformDateSpan","ResourceSplitter","_super","getKeyInfo","getKeysForDateSpan","getKeysForEventDef","isPropsValidWithResources","splitter","sets","splitProps","props_1","filterConfig","bind","config","filterConstraints","constraint","transformExternalDef","transformEventResizeJoin","_def","setResources","resources","resources_1","console","warn","mutate","standardProps","RELEASE_DATE","UPGRADE_WINDOW","LICENSE_INFO_URL","PRESET_LICENSE_KEYS","CSS","position","bottom","left","background","padding","injectLicenseWarning","containerEl","key","isImmuneUrl","window","location","href","isValidKey","match","purchaseDate","Date","parseInt","releaseDate","mockSchedulerReleaseDate","minPurchaseDate","url","test","optionChangeHandlers","handleResources","newSourceInput","deepEqual","oldSourceInput","raw","isArray","arg","successCallback","success","failure","dateEnv","func","publicArg","start","toDate","end","startStr","formatIso","endStr","timeZone","method","toUpperCase","extraParams","failureCallback","requestParams","buildRequestParams","xhr","message","startParam","endParam","timeZoneParam","customRequestParams","params","buildResourceTextFunc","resourceTextSetting","ResourceDayHeader","parentEl","_this","processOptions","_processOptions","options","datesAboveResources","resourceTextFunc","resourceText","render","theme","innerHTML","appendChild","el","getClass","thead","querySelector","html","dateFormat","columnHeaderFormat","datesRepDistinctDays","dates","renderResourceRow","renderDayAndResourceRows","renderResourceAndDayRows","processResourceEls","destroy","cellHtmls","renderResourceCell","buildTr","dateHtmls","resourceHtmls","dates_1","date","renderDateCell","resources_2","dates_2","colspan","omitTime","renderIntroHtml","concat","isRtl","reverse","join","forEach","node","col","publiclyTrigger","AbstractResourceDayTable","dayTable","resourceIndex","ResourceIndex","rowCnt","colCnt","cells","buildCells","rows","row","rowCells","dateCol","resourceCol","htmlAttrs","computeCol","ResourceDayTable","dateI","resourceI","computeColRanges","dateStartI","dateEndI","firstCol","lastCol","isStart","isEnd","DayResourceTable","segs","indicesById","ids","VResourceSplitter","resourceDayTable","hash","NO_SEGS","VResourceJoiner","joinDateSelection","joinSegs","joinBusinessHours","joinFgEvents","joinBgEvents","joinEventDrags","joinInteractions","joinEventResizes","joinProps","propSets","dateSelectionSets","businessHoursSets","fgEventSets","bgEventSets","eventDrags","eventResizes","eventSelection","keys","keys_1","dateSelectionSegs","businessHourSegs","fgEventSegs","bgEventSegs","eventDrag","eventResize","segGroups","resourceCnt","transformedSegs","seg","transformSeg","_c","_d","expandSegs","segs_1","interactions","affectedInstances","isEvent","sourceSeg","interaction","flattenResources","orderSpecs","buildRowNodes","groupSpecs","isVGrouping","expansionDefault","complexNodes","buildHierarchy","flatNodes","flattenNodes","rowSpans","depth","complexNode","group","firstRowIndex","rowSpanIndex","firstRow","firstRowSpans","spec","field","hasChildren","resourceFields","maxDepth","resourceNodes","buildResourceNodes","builtNodes","resourceNode","insertResourceNode","nodeHash","buildResourceFields","parentNode","insertResourceNodeInSiblings","nodes","groupNode","ensureGroupNodes","groupSpec","groupValue","newGroupIndex","order","cmp","siblings","obj","isGroupsEqual","group0","group1","main","reducers","eventDefParsers","isDraggableTransformers","eventDragMutationMassagers","eventDefMutationAppliers","dateSelectionTransformers","datePointTransforms","dateSpanTransforms","viewPropsTransformers","isPropsValid","externalDefTransforms","eventResizeJoinTransforms","viewContainerModifiers","eventDropTransformers","Row","spreadsheetParent","spreadsheetNextSibling","timeAxisParent","timeAxisNextSibling","isSizeDirty","insertBefore","spreadsheetTr","document","createElement","timeAxisTr","updateSize","isResize","updateExpanderIcon","classList","add","clearExpanderIcon","updateTrResourceId","tr","setAttribute","GroupRow","_renderCells","renderCells","unrenderCells","_updateExpanderIcon","onExpanderClick","ev","spreadsheetColCnt","unrender","spreadsheetContentEl","renderSpreadsheetContent","className","colSpan","spreadsheetHeightEl","expanderIconEl","parentElement","addEventListener","timeAxisHeightEl","text","renderCellText","contentEl","filter","getHeightEls","addEqualityFuncs","SpreadsheetRow","_renderRow","renderRow","unrenderRow","_updateTrResourceId","colSpecs","mainTd","colSpec","rowSpan","isMain","renderIconHtml","td","rowspan","heightEl","childNodes","expanderEl","removeEventListener","ResourceRow","a","c","timeAxis","renderSkeleton","_renderSkeleton","_unrenderSkeleton","spreadsheetRow","receiveProps","lane","nextDayThreshold","dateSelection","cellEl","innerContainerEl","COL_MIN_WIDTH","SpreadsheetHeader","resizables","colWidths","emitter","colTags","superHeaderText","o","isLast","labelText","tableEl","thEls","querySelectorAll","colEls","resizerEls","initColResizing","resizable","ElementDraggingImpl","pluginSystem","hooks","elementDraggingImpl","handleEl","colIndex","dragging","startWidth","on","getBoundingClientRect","width","pev","Math","max","deltaX","trigger","setAutoScrollEnabled","Spreadsheet","headParentEl","bodyParentEl","_unrenderCells","layout","bodyEnhancedScroller","bodyScroller","enhancedScroll","canvas","bodyContainerEl","bodyColGroup","bodyTbody","headerEnhancedScroller","headerScroller","header","applyColWidths","renderColTags","bodyColEls","colSpecs_1","totalHeight","isAuto","setHeight","colWidth","headEl","bodyEl","styleVal","style","MIN_RESOURCE_AREA_WIDTH","ResourceTimelineView","isStickyScrollDirty","rowNodes","rowComponents","rowComponentsById","resourceAreaWidthDraggings","hasResourceBusinessHours","hasNesting","updateHasNesting","_updateHasNesting","startInteractive","_startInteractive","_stopInteractive","timeAxisEl","registerInteractiveComponent","unregisterInteractiveComponent","spreadsheet","dateProfileGenerator","slats","newRowNodes","resourcesInitiallyExpanded","diffRows","updateRowProps","startNowIndicator","allColSpecs","resourceColumns","resourceLabelText","defaultLabelText","plainColSpecs","groupColSpecs","isHGrouping","allColSpecs_1","hGroupField","resourceGroupField","resourceGroupText","resourceGroupRender","allOrderSpecs","resourceOrder","plainOrderSpecs","allOrderSpecs_1","orderSpec","isGroup","groupSpecs_1","eventOverlap","renderSkeletonHtml","resourceAreaHeadEl","setResourceAreaWidth","resourceAreaWidth","initResourceAreaWidthDragging","miscHeight","height","timeAxisRowContainer","timeAxisTbody","bgEl","bodyScrollJoiner","spreadsheetBodyStickyScroller","destroyRows","isNesting","newNodes","oldNodes","oldLen","oldIndexHash","oldI","newI","newNode","oldIFound","removeRows","addRow","rowNode","nextComponent","newComponent","buildChildComponent","startIndex","len","oldRowNodes","rowComponent","spreadsheetTbody","spreadsheetNext","timeAxisNext","fallbackBusinessHours","viewHeight","isBaseSizing","isViewUpdated","isDatesUpdated","isEventsUpdated","syncHeadHeights","rowSizingCnt","updateRowSizes","update","scrollJoiner","rowPositions","build","spreadsheetHeadEl","timeAxisHeadEl","dirtyRowComponents","elArrays","elArrays_1","elArray","elArray_1","dirtyRowComponents_1","maxHeights","maxHeight","elArray_2","resourceAreaWidthDragging","getNowIndicatorUnit","renderNowIndicator","unrenderNowIndicator","queryScroll","scroll","queryResourceScroll","applyScroll","applyResourceScroll","updateStickyScrollers","computeDateScroll","duration","queryDateScroll","applyDateScroll","scrollerTop","top","elBottom","rowId","innerTop","rowRect","scrollTop","setScrollTop","buildPositionCaches","queryHit","positionLeft","positionTop","rowIndex","topToIndex","slatHit","positionToHit","allDay","rect","right","tops","bottoms","dayEl","layer","widthVal","resourceAreaDividerEls","dragStartWidth","viewWidth","newWidth","min","nodes_1","deps","defaultView","views","resourceTimeline","eventResizableFromStart","resourceTimelineDay","days","resourceTimelineWeek","weeks","resourceTimelineMonth","months","resourceTimelineYear","years","ScrollerCanvas","gutters","setGutters","setWidth","setMinWidth","minWidth","clearWidth","paddingLeft","paddingRight","paddingTop","paddingBottom","EnhancedScroller","overflowX","overflowY","reportScroll","isScrolling","reportScrollStart","isMoving","requestMovingEnd","isTouching","reportTouchStart","reportTouchEnd","isTouchScrollEnabled","unbindPreventTouchScroll","reportScrollEnd","reportMovingEnd","applyOverflow","bindHandlers","unbindHandlers","disableTouchScroll","bindPreventTouchScroll","enableTouchScroll","preventTouchScrollHandler","passive","getScrollLeft","direction","getComputedStyle","scrollLeft","getRtlScrollSystem","clientWidth","scrollWidth","setScrollLeft","getScrollFromLeft","mixInto","_rtlScrollSystem","detectRtlScrollSystem","body","system","ClippedScroller","isHScrollbarsClipped","isVScrollbarsClipped","scrollEl","edges","cssProps","marginLeft","marginRight","marginTop","marginBottom","scrollbarLeft","scrollbarRight","scrollbarBottom","getScrollbarWidths","widths","ScrollJoiner","axis","scrollers","scroller","initScroller","onScroll","assignMasterScroller","split","evName","masterScroller","otherScroller","getScrollTop","unassignMasterScroller","allWidths","maxLeft","maxRight","maxTop","maxBottom","allWidths_1","HeaderBodyLayout","headerContainerEl","verticalScroll","bodyHeight","queryHeadHeight","TimelineHeader","firstContext","renderDates","tDateProfile","cellRows","lastRow","isChrono","labelInterval","slotDuration","oneDay","slotCnt","cellRows_1","rowCells_1","cell","headerCellClassNames","isWeekStart","isTimeScale","omitTimeZoneOffset","spanHtml","slatColEls","innerEls","innerEl","TimelineSlats","slotDates","isWeekStarts","slatCellHtml","slatEls","outerCoordCache","innerCoordCache","isEm","classes","countDurationsBetween","normalizedRange","leftPosition","slatIndex","leftToIndex","slatWidth","getWidth","partial","rights","lefts","localSnapIndex","floor","snapsPerSlot","snapDuration","MIN_AUTO_LABELS","MAX_AUTO_SLOTS_PER_LABEL","MAX_AUTO_CELLS","MAX_TIMELINE_SLOTS","STOCK_SUB_DURATIONS","hours","minutes","seconds","milliseconds","buildTimelineDateProfile","queryDurationOption","validateLabelAndSlot","ensureLabelInterval","ensureSlotDuration","slotLabelFormat","rawFormats","computeHeaderFormats","headerFormats","rawFormat","largeUnit","slotUnit","unit","emphasizeWeeks","currentRangeAs","rawSnapDuration","timeWindowMs","maxTime","minTime","normalizedStart","normalizeDate","renderRange","normalizedEnd","isValidDate","snapIndex","snapDiff","snapDiffToIndex","snapIndexToDiff","snapCnt","buildIsWeekStarts","buildCellRows","normalDate","startOf","normalizeRange","dayRange","valueOf","isHiddenDay","day","timeMs","ms","currentRange","labelCnt","slotsPerLabel","STOCK_SUB_DURATIONS_1","tryLabelInterval","STOCK_SUB_DURATIONS_2","STOCK_SUB_DURATIONS_3","trySlotDuration","format1","format2","weekNumbersVisible","weekNumbers","format0","year","month","week","weekday","omitCommas","hour","minute","omitZeroMinute","meridiem","second","millisecond","diffWholeYears","diffWholeMonths","prevWeekNumber","slotDates_1","slotDate","weekNumber","computeWeekNumber","formats","format","rowUnits","getLargestUnit","leadingCell","isSuperRow","newCell","buildCellObject","weekStart","rowUnit","forceOff","TimelineNowIndicator","headParent","bodyParent","coord","styleProps","arrowEl","lineEl","STICKY_PROP_VAL","computeStickyPropVal","IS_MS_EDGE","navigator","userAgent","IS_SAFARI","STICKY_CLASSNAME","StickyScroller","isVertical","usingRelative","els","elGeoms","queryElGeoms","viewportWidth","elDestinations","computeElDestinations","assignRelativePositions","assignStickyPositions","off","canvasOrigin","els_1","parentBound","elRect","computedStyles","computedTextAlign","textAlign","intendedTextAlign","naturalBound","parseFloat","hasAttribute","elWidth","elHeight","viewportLeft","viewportTop","viewportRight","elGeom","destLeft","destTop","stickyLeft","TimeAxis","headStickyScroller","bodyStickyScroller","nowIndicator","dateToCoord","applySlotWidth","computeSlotWidth","slotWidth","computeDefaultSlotWidth","maxInnerWidth","headingCellWidth","ceil","containerWidth","containerMinWidth","nonLastSlotWidth","round","availableWidth","getClientWidth","computeDateSnapCoverage","snapDiffInt","snapCoverage","slotCoverage","slotIndex","originClientRect","rangeToCoords","TimelineLaneEventRenderer","masterContainerEl","renderSegHtml","mirrorInfo","eventRange","isDraggable","isResizableFromStart","isResizableFromEnd","getSegClasses","timeText","getTimeText","getSkinCss","computeDisplayEventTime","computeDisplayEventEnd","computeEventTimeFormat","attachSegs","detachSegs","segs_2","computeSegSizes","segs_3","coords","assignSegSizes","segs_4","buildSegLevels","computeOffsetForSegs","segs_5","segLevels","sortEventSegs","segs_6","unplacedSeg","above","level","isLevelCollision","placedSeg","timeRowSegsCollide","belowSeg","segs_7","computeOffsetForSeg","seg0","seg1","TimelineLaneFillRenderer","toLowerCase","TimelineLane","fgContainerEl","bgContainerEl","slicer","TimelineLaneSlicer","renderEventDrag","_renderEventDrag","_unrenderEventDrag","renderEventResize","_renderEventResize","_unrenderEventResize","fillRenderer","eventRenderer","mirrorRenderer","renderBusinessHours","renderSegs","renderDateSelection","renderBgEvents","renderFgEvents","renderEventSelection","selectByInstanceId","unselectByInstanceId","slicedProps","sliceProps","hideByHash","isDragging","showByHash","segsForHighlight","computeSizes","assignSizes","sliceRange","origRange","normalRange","slicedRange","TimelineView","timeline","timelineDay","timelineWeek","timelineMonth","timelineYear","FacilityCalenderComponent","facilityService","sessionService","sharedService","dialog","plugins","center","initialView","calendarResult","rooms","schedulerLicenseKey","info","loadingData","calendarInfo","facilityId","dialogRef","open","panelClass","data","dataFrom","calendarData","afterClosed","subscribe","result","facilityBookingList","event","apartmentFacilityBookingId","bookingId","bookingParams","apartmentId","facilityBookingStatusID","getApartmentFacilityBookingsByApartmentId","apartmentFacilityId","eventName","bookedForDate","bookedFromTime","bookedToTime","color","timezonecast","categoryParams","getApartmentFacilitiesByApartmentId","facility","facilityName","selector","template","routes","path","redirectTo","pathMatch","canActivate","FacilityCreateBookingRoutingModule","imports","forChild","exports","FacilityCreateBookingModule","declarations","forRoot","FacilityCreateBookingComponent","router","route","userService","changeDetect","lookupService","apartmentService","visitorService","modalResult","facilitySlotData","towerList","unitList","facilityStatus","facilityCatList","taxPecentage","visitorsList","booking","slotId","apartmentBlockId","apartmentBlockUnitId","facilityBookingStatusId","tax","primaryName","advanceBookingDate","urlType","radio","isBookingforGuest","facilityBookingForm","reset","isAdmin","guestName","guestPhone","guestRelation","totalofguestsforevent","tower","getApartmentBlockAndBlockUnitByApartmentId","selectFacility","facilityBookingDetail","securityDepositAmount","rateBaseId","totalBillAmount","amount","termsCondion","selectedFacility","advanceBookingDays","advanceBookingindays","cautionDeposit","apartmentFacilitySlot","toFixed","description","replace","facilityTypeId","time","apartmentFacilitySlotId","cost","discount","membershipDiscountAmount","fromTime","toTime","difference","diff","diffHours","diffMinutes","totalDiffHrs","minHoursBooking","memberShipDis","totalDiscount","block_Id","getUnits","apartmentBlockUnitUserId","blockUnit","getVisitorsList","getPrimaryName","buId","neededUserId","pc_Label","blockUnitUserId","selectedCountryISO","Number","apartmentUnitId","getExpectedVisitorsByApartmentUnitId","ele","customLabel","expectedVisitorName","block_Unit","expectedVisitorInTime","expectedVisitorOutTime","expectedVisitorId","navigate","emit","openSnackBar","routerConfig","errorMessage","isSlotBooking","apartmentFacilityIsSlotBooking_List","lookupValueId","valid","behavior","appearance","content","shake","showIcon","markForCheck","isBookingSubmitted","setSlotStructure","apartmentFacilityBooking","isCancelled","cancelledBy","cancelledOn","cancelledAmount","rateBaseIdName","isApproved","bookedOn","toISOString","isActive","insertedBy","userId","insertedOn","updatedBy","updatedOn","addApartmentFacilityBooking","pageNavigate","updateApartmentFacilityBooking","dialogData","disableClose","dialogResult","getApartmentFacilityBookingsByFacilityBookingId","response","getFacilityCategoryList","getTower","parent","initialData","apartment","country","apartmentBlockID","apartmentBlockUnitID","statusParams","LookupTypeId","ApartmentId","getLookupValueByLookupTypeId","pesoParams","pesoValue","lookupValueName","taxListParams","editFacilityBooking","encapsulation","None","animations","FacilityExpectedVisitorComponent","activateRouter","_changeDetectorRef","visitor","expectedDurationInfo","visitTypeList","visitCategoryList","isDataSubmitted","separateDialCode","SearchCountryField","CountryISO","preferredCountries","UnitedStates","UnitedKingdom","Philippines","expectedDurationChange","inDate","outDate","diffDuration","isSingleDigit","asHours","expectedDuration","digit","toString","visitTypeId","visitorCategoryId","form","expectedVisitor","expectedVisitorPhone","number","tomeetStaffId","countryCode","addExpectedVisitor","offset","resetField","visitParams","visitCategoryParams","FacilityModalComponent","close","UserFacilityBookingListComponent","injector","bookingSearch","isBookingDataLoaded","totalItems","modalService","detail","dataRecord","datagrid","getrowdata","showConfirmModal","filtergroup","jqx","filter_or_operator","filtervalue","filtercondition","filterData","createfilter","operator","addfilter","showfiltercolumnbackground","columnData","datafield","applyfilters","clearfilters","exportdata","getApartmentFacilityBookingsByBlockunituserId","localdata","datatype","bookingListData","dataAdapter","getBookingList","cellsrenderer","column","columnrenderer","minwidth","renderer","loadedData","cellsalign","align","status","facilityBookingStatusId_Label","apiSubscribe","unitlistdeleteindexcast","deleteBy","deleteApartmentFacilityBooking","setUnitListDeleteIndex","deleterow","refresh","unsubscribe","CustomEvent","dispatchEvent","deleteFacilityBooking"],"mappings":"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","file":"modules-ams-facility-facility-create-booking-facility-create-booking-module-es5.js","sourcesContent":["/*!\nFullCalendar Resources Common Plugin v4.4.2\nDocs & License: https://fullcalendar.io/scheduler\n(c) 2019 Adam Shaw\n*/\n\nimport { memoize, filterHash, rangesIntersect, memoizeOutput, isPropsEqual, mapHash, combineEventUis, refineProps, rangesEqual, processScopedUiProps, parseBusinessHours, EventApi, Calendar, Splitter, mergeEventStores, isPropsValid, appendToElement, htmlEscape, cssToStr, config, isValidDate, addDays, unpromisify, requestJson, htmlToElement, createFormatter, computeFallbackHeaderFormat, removeElement, renderDateCell, findElements, Component, flexibleCompare, compareByFieldSpecs, createPlugin } from '@fullcalendar/core';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nfunction massageEventDragMutation(eventMutation, hit0, hit1) {\n    var resource0 = hit0.dateSpan.resourceId;\n    var resource1 = hit1.dateSpan.resourceId;\n    if (resource0 && resource1 &&\n        resource0 !== resource1) {\n        eventMutation.resourceMutation = {\n            matchResourceId: resource0,\n            setResourceId: resource1\n        };\n    }\n}\n/*\nTODO: all this would be much easier if we were using a hash!\n*/\nfunction applyEventDefMutation(eventDef, mutation, calendar) {\n    var resourceMutation = mutation.resourceMutation;\n    if (resourceMutation && computeResourceEditable(eventDef, calendar)) {\n        var index = eventDef.resourceIds.indexOf(resourceMutation.matchResourceId);\n        if (index !== -1) {\n            var resourceIds = eventDef.resourceIds.slice(); // copy\n            resourceIds.splice(index, 1); // remove\n            if (resourceIds.indexOf(resourceMutation.setResourceId) === -1) { // not already in there\n                resourceIds.push(resourceMutation.setResourceId); // add\n            }\n            eventDef.resourceIds = resourceIds;\n        }\n    }\n}\n/*\nHACK\nTODO: use EventUi system instead of this\n*/\nfunction computeResourceEditable(eventDef, calendar) {\n    var resourceEditable = eventDef.resourceEditable;\n    if (resourceEditable == null) {\n        var source = eventDef.sourceId && calendar.state.eventSources[eventDef.sourceId];\n        if (source) {\n            resourceEditable = source.extendedProps.resourceEditable; // used the Source::extendedProps hack\n        }\n        if (resourceEditable == null) {\n            resourceEditable = calendar.opt('eventResourceEditable');\n            if (resourceEditable == null) {\n                resourceEditable = calendar.opt('editable'); // TODO: use defaults system instead\n            }\n        }\n    }\n    return resourceEditable;\n}\nfunction transformEventDrop(mutation, calendar) {\n    var resourceMutation = mutation.resourceMutation;\n    if (resourceMutation) {\n        return {\n            oldResource: calendar.getResourceById(resourceMutation.matchResourceId),\n            newResource: calendar.getResourceById(resourceMutation.setResourceId)\n        };\n    }\n    else {\n        return {\n            oldResource: null,\n            newResource: null\n        };\n    }\n}\n\nvar ResourceDataAdder = /** @class */ (function () {\n    function ResourceDataAdder() {\n        this.filterResources = memoize(filterResources);\n    }\n    ResourceDataAdder.prototype.transform = function (viewProps, viewSpec, calendarProps, allOptions) {\n        if (viewSpec.class.needsResourceData) {\n            return {\n                resourceStore: this.filterResources(calendarProps.resourceStore, allOptions.filterResourcesWithEvents, calendarProps.eventStore, calendarProps.dateProfile.activeRange),\n                resourceEntityExpansions: calendarProps.resourceEntityExpansions\n            };\n        }\n    };\n    return ResourceDataAdder;\n}());\nfunction filterResources(resourceStore, doFilterResourcesWithEvents, eventStore, activeRange) {\n    if (doFilterResourcesWithEvents) {\n        var instancesInRange = filterEventInstancesInRange(eventStore.instances, activeRange);\n        var hasEvents_1 = computeHasEvents(instancesInRange, eventStore.defs);\n        __assign(hasEvents_1, computeAncestorHasEvents(hasEvents_1, resourceStore));\n        return filterHash(resourceStore, function (resource, resourceId) {\n            return hasEvents_1[resourceId];\n        });\n    }\n    else {\n        return resourceStore;\n    }\n}\nfunction filterEventInstancesInRange(eventInstances, activeRange) {\n    return filterHash(eventInstances, function (eventInstance) {\n        return rangesIntersect(eventInstance.range, activeRange);\n    });\n}\nfunction computeHasEvents(eventInstances, eventDefs) {\n    var hasEvents = {};\n    for (var instanceId in eventInstances) {\n        var instance = eventInstances[instanceId];\n        for (var _i = 0, _a = eventDefs[instance.defId].resourceIds; _i < _a.length; _i++) {\n            var resourceId = _a[_i];\n            hasEvents[resourceId] = true;\n        }\n    }\n    return hasEvents;\n}\n/*\nmark resources as having events if any of their ancestors have them\nNOTE: resourceStore might not have all the resources that hasEvents{} has keyed\n*/\nfunction computeAncestorHasEvents(hasEvents, resourceStore) {\n    var res = {};\n    for (var resourceId in hasEvents) {\n        var resource = void 0;\n        while ((resource = resourceStore[resourceId])) {\n            resourceId = resource.parentId; // now functioning as the parentId\n            if (resourceId) {\n                res[resourceId] = true;\n            }\n            else {\n                break;\n            }\n        }\n    }\n    return res;\n}\n// for when non-resource view should be given EventUi info (for event coloring/constraints based off of resource data)\nvar ResourceEventConfigAdder = /** @class */ (function () {\n    function ResourceEventConfigAdder() {\n        this.buildResourceEventUis = memoizeOutput(buildResourceEventUis, isPropsEqual);\n        this.injectResourceEventUis = memoize(injectResourceEventUis);\n    }\n    ResourceEventConfigAdder.prototype.transform = function (viewProps, viewSpec, calendarProps) {\n        if (!viewSpec.class.needsResourceData) { // is a non-resource view?\n            return {\n                eventUiBases: this.injectResourceEventUis(viewProps.eventUiBases, viewProps.eventStore.defs, this.buildResourceEventUis(calendarProps.resourceStore))\n            };\n        }\n    };\n    return ResourceEventConfigAdder;\n}());\nfunction buildResourceEventUis(resourceStore) {\n    return mapHash(resourceStore, function (resource) {\n        return resource.ui;\n    });\n}\nfunction injectResourceEventUis(eventUiBases, eventDefs, resourceEventUis) {\n    return mapHash(eventUiBases, function (eventUi, defId) {\n        if (defId) { // not the '' key\n            return injectResourceEventUi(eventUi, eventDefs[defId], resourceEventUis);\n        }\n        else {\n            return eventUi;\n        }\n    });\n}\nfunction injectResourceEventUi(origEventUi, eventDef, resourceEventUis) {\n    var parts = [];\n    // first resource takes precedence, which fights with the ordering of combineEventUis, thus the unshifts\n    for (var _i = 0, _a = eventDef.resourceIds; _i < _a.length; _i++) {\n        var resourceId = _a[_i];\n        if (resourceEventUis[resourceId]) {\n            parts.unshift(resourceEventUis[resourceId]);\n        }\n    }\n    parts.unshift(origEventUi);\n    return combineEventUis(parts);\n}\n// for making sure events that have editable resources are always draggable in resource views\nfunction transformIsDraggable(val, eventDef, eventUi, view) {\n    if (!val) {\n        if (view.viewSpec.class.needsResourceData) {\n            if (computeResourceEditable(eventDef, view.context.calendar)) { // yuck\n                return true;\n            }\n        }\n    }\n    return val;\n}\n\nvar RESOURCE_SOURCE_PROPS = {\n    id: String\n};\nvar defs = [];\nvar uid = 0;\nfunction registerResourceSourceDef(def) {\n    defs.push(def);\n}\nfunction getResourceSourceDef(id) {\n    return defs[id];\n}\nfunction doesSourceIgnoreRange(source) {\n    return Boolean(defs[source.sourceDefId].ignoreRange);\n}\nfunction parseResourceSource(input) {\n    for (var i = defs.length - 1; i >= 0; i--) { // later-added plugins take precedence\n        var def = defs[i];\n        var meta = def.parseMeta(input);\n        if (meta) {\n            var res = parseResourceSourceProps((typeof input === 'object' && input) ? input : {}, meta, i);\n            res._raw = input;\n            return res;\n        }\n    }\n    return null;\n}\nfunction parseResourceSourceProps(input, meta, sourceDefId) {\n    var props = refineProps(input, RESOURCE_SOURCE_PROPS);\n    props.sourceId = String(uid++);\n    props.sourceDefId = sourceDefId;\n    props.meta = meta;\n    props.publicId = props.id;\n    props.isFetching = false;\n    props.latestFetchId = '';\n    props.fetchRange = null;\n    delete props.id;\n    return props;\n}\n\nfunction reduceResourceSource (source, action, dateProfile, calendar) {\n    switch (action.type) {\n        case 'INIT':\n            return createSource(calendar.opt('resources'), calendar);\n        case 'RESET_RESOURCE_SOURCE':\n            return createSource(action.resourceSourceInput, calendar, true);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'SET_DATE':\n        case 'SET_VIEW_TYPE':\n            return handleRange(source, dateProfile.activeRange, calendar);\n        case 'RECEIVE_RESOURCES':\n        case 'RECEIVE_RESOURCE_ERROR':\n            return receiveResponse(source, action.fetchId, action.fetchRange);\n        case 'REFETCH_RESOURCES':\n            return fetchSource(source, dateProfile.activeRange, calendar);\n        default:\n            return source;\n    }\n}\nvar uid$1 = 0;\nfunction createSource(input, calendar, forceFetch) {\n    if (input) {\n        var source = parseResourceSource(input);\n        if (forceFetch || !calendar.opt('refetchResourcesOnNavigate')) { // because assumes handleRange will do it later\n            source = fetchSource(source, null, calendar);\n        }\n        return source;\n    }\n    return null;\n}\nfunction handleRange(source, activeRange, calendar) {\n    if (calendar.opt('refetchResourcesOnNavigate') &&\n        !doesSourceIgnoreRange(source) &&\n        (!source.fetchRange || !rangesEqual(source.fetchRange, activeRange))) {\n        return fetchSource(source, activeRange, calendar);\n    }\n    else {\n        return source;\n    }\n}\nfunction fetchSource(source, fetchRange, calendar) {\n    var sourceDef = getResourceSourceDef(source.sourceDefId);\n    var fetchId = String(uid$1++);\n    sourceDef.fetch({\n        resourceSource: source,\n        calendar: calendar,\n        range: fetchRange\n    }, function (res) {\n        // HACK\n        // do before calling dispatch in case dispatch renders synchronously\n        calendar.afterSizingTriggers._resourcesRendered = [null]; // fire once\n        calendar.dispatch({\n            type: 'RECEIVE_RESOURCES',\n            fetchId: fetchId,\n            fetchRange: fetchRange,\n            rawResources: res.rawResources\n        });\n    }, function (error) {\n        calendar.dispatch({\n            type: 'RECEIVE_RESOURCE_ERROR',\n            fetchId: fetchId,\n            fetchRange: fetchRange,\n            error: error\n        });\n    });\n    return __assign({}, source, { isFetching: true, latestFetchId: fetchId });\n}\nfunction receiveResponse(source, fetchId, fetchRange) {\n    if (fetchId === source.latestFetchId) {\n        return __assign({}, source, { isFetching: false, fetchRange: fetchRange });\n    }\n    return source;\n}\n\nvar RESOURCE_PROPS = {\n    id: String,\n    title: String,\n    parentId: String,\n    businessHours: null,\n    children: null,\n    extendedProps: null\n};\nvar PRIVATE_ID_PREFIX = '_fc:';\nvar uid$2 = 0;\n/*\nneeds a full store so that it can populate children too\n*/\nfunction parseResource(input, parentId, store, calendar) {\n    if (parentId === void 0) { parentId = ''; }\n    var leftovers0 = {};\n    var props = refineProps(input, RESOURCE_PROPS, {}, leftovers0);\n    var leftovers1 = {};\n    var ui = processScopedUiProps('event', leftovers0, calendar, leftovers1);\n    if (!props.id) {\n        props.id = PRIVATE_ID_PREFIX + (uid$2++);\n    }\n    if (!props.parentId) { // give precedence to the parentId property\n        props.parentId = parentId;\n    }\n    props.businessHours = props.businessHours ? parseBusinessHours(props.businessHours, calendar) : null;\n    props.ui = ui;\n    props.extendedProps = __assign({}, leftovers1, props.extendedProps);\n    // help out ResourceApi from having user modify props\n    Object.freeze(ui.classNames);\n    Object.freeze(props.extendedProps);\n    if (store[props.id]) ;\n    else {\n        store[props.id] = props;\n        if (props.children) {\n            for (var _i = 0, _a = props.children; _i < _a.length; _i++) {\n                var childInput = _a[_i];\n                parseResource(childInput, props.id, store, calendar);\n            }\n            delete props.children;\n        }\n    }\n    return props;\n}\n/*\nTODO: use this in more places\n*/\nfunction getPublicId(id) {\n    if (id.indexOf(PRIVATE_ID_PREFIX) === 0) {\n        return '';\n    }\n    return id;\n}\n\nfunction reduceResourceStore (store, action, source, calendar) {\n    switch (action.type) {\n        case 'INIT':\n            return {};\n        case 'RECEIVE_RESOURCES':\n            return receiveRawResources(store, action.rawResources, action.fetchId, source, calendar);\n        case 'ADD_RESOURCE':\n            return addResource(store, action.resourceHash);\n        case 'REMOVE_RESOURCE':\n            return removeResource(store, action.resourceId);\n        case 'SET_RESOURCE_PROP':\n            return setResourceProp(store, action.resourceId, action.propName, action.propValue);\n        case 'RESET_RESOURCES':\n            // must make the calendar think each resource is a new object :/\n            return mapHash(store, function (resource) {\n                return __assign({}, resource);\n            });\n        default:\n            return store;\n    }\n}\nfunction receiveRawResources(existingStore, inputs, fetchId, source, calendar) {\n    if (source.latestFetchId === fetchId) {\n        var nextStore = {};\n        for (var _i = 0, inputs_1 = inputs; _i < inputs_1.length; _i++) {\n            var input = inputs_1[_i];\n            parseResource(input, '', nextStore, calendar);\n        }\n        return nextStore;\n    }\n    else {\n        return existingStore;\n    }\n}\nfunction addResource(existingStore, additions) {\n    // TODO: warn about duplicate IDs\n    return __assign({}, existingStore, additions);\n}\nfunction removeResource(existingStore, resourceId) {\n    var newStore = __assign({}, existingStore);\n    delete newStore[resourceId];\n    // promote children\n    for (var childResourceId in newStore) { // a child, *maybe* but probably not\n        if (newStore[childResourceId].parentId === resourceId) {\n            newStore[childResourceId] = __assign({}, newStore[childResourceId], { parentId: '' });\n        }\n    }\n    return newStore;\n}\nfunction setResourceProp(existingStore, resourceId, name, value) {\n    var _a, _b;\n    var existingResource = existingStore[resourceId];\n    // TODO: sanitization\n    if (existingResource) {\n        return __assign({}, existingStore, (_a = {}, _a[resourceId] = __assign({}, existingResource, (_b = {}, _b[name] = value, _b)), _a));\n    }\n    else {\n        return existingStore;\n    }\n}\n\nfunction reduceResourceEntityExpansions(expansions, action) {\n    var _a;\n    switch (action.type) {\n        case 'INIT':\n            return {};\n        case 'SET_RESOURCE_ENTITY_EXPANDED':\n            return __assign({}, expansions, (_a = {}, _a[action.id] = action.isExpanded, _a));\n        default:\n            return expansions;\n    }\n}\n\nfunction resourcesReducers (state, action, calendar) {\n    var resourceSource = reduceResourceSource(state.resourceSource, action, state.dateProfile, calendar);\n    var resourceStore = reduceResourceStore(state.resourceStore, action, resourceSource, calendar);\n    var resourceEntityExpansions = reduceResourceEntityExpansions(state.resourceEntityExpansions, action);\n    var loadingLevel = state.loadingLevel + ((resourceSource && resourceSource.isFetching) ? 1 : 0);\n    return __assign({}, state, { resourceSource: resourceSource,\n        resourceStore: resourceStore,\n        resourceEntityExpansions: resourceEntityExpansions,\n        loadingLevel: loadingLevel });\n}\n\nvar RESOURCE_RELATED_PROPS = {\n    resourceId: String,\n    resourceIds: function (items) {\n        return (items || []).map(function (item) {\n            return String(item);\n        });\n    },\n    resourceEditable: Boolean\n};\nfunction parseEventDef(def, props, leftovers) {\n    var resourceRelatedProps = refineProps(props, RESOURCE_RELATED_PROPS, {}, leftovers);\n    var resourceIds = resourceRelatedProps.resourceIds;\n    if (resourceRelatedProps.resourceId) {\n        resourceIds.push(resourceRelatedProps.resourceId);\n    }\n    def.resourceIds = resourceIds;\n    def.resourceEditable = resourceRelatedProps.resourceEditable;\n}\n\nfunction transformDateSelectionJoin(hit0, hit1) {\n    var resourceId0 = hit0.dateSpan.resourceId;\n    var resourceId1 = hit1.dateSpan.resourceId;\n    if (resourceId0 && resourceId1) {\n        if (hit0.component.allowAcrossResources === false &&\n            resourceId0 !== resourceId1) {\n            return false;\n        }\n        else {\n            return { resourceId: resourceId0 };\n        }\n    }\n}\n\nvar ResourceApi = /** @class */ (function () {\n    function ResourceApi(calendar, rawResource) {\n        this._calendar = calendar;\n        this._resource = rawResource;\n    }\n    ResourceApi.prototype.setProp = function (name, value) {\n        this._calendar.dispatch({\n            type: 'SET_RESOURCE_PROP',\n            resourceId: this._resource.id,\n            propName: name,\n            propValue: value\n        });\n    };\n    ResourceApi.prototype.remove = function () {\n        this._calendar.dispatch({\n            type: 'REMOVE_RESOURCE',\n            resourceId: this._resource.id\n        });\n    };\n    ResourceApi.prototype.getParent = function () {\n        var calendar = this._calendar;\n        var parentId = this._resource.parentId;\n        if (parentId) {\n            return new ResourceApi(calendar, calendar.state.resourceSource[parentId]);\n        }\n        else {\n            return null;\n        }\n    };\n    ResourceApi.prototype.getChildren = function () {\n        var thisResourceId = this._resource.id;\n        var calendar = this._calendar;\n        var resourceStore = calendar.state.resourceStore;\n        var childApis = [];\n        for (var resourceId in resourceStore) {\n            if (resourceStore[resourceId].parentId === thisResourceId) {\n                childApis.push(new ResourceApi(calendar, resourceStore[resourceId]));\n            }\n        }\n        return childApis;\n    };\n    /*\n    this is really inefficient!\n    TODO: make EventApi::resourceIds a hash or keep an index in the Calendar's state\n    */\n    ResourceApi.prototype.getEvents = function () {\n        var thisResourceId = this._resource.id;\n        var calendar = this._calendar;\n        var _a = calendar.state.eventStore, defs = _a.defs, instances = _a.instances;\n        var eventApis = [];\n        for (var instanceId in instances) {\n            var instance = instances[instanceId];\n            var def = defs[instance.defId];\n            if (def.resourceIds.indexOf(thisResourceId) !== -1) { // inefficient!!!\n                eventApis.push(new EventApi(calendar, def, instance));\n            }\n        }\n        return eventApis;\n    };\n    Object.defineProperty(ResourceApi.prototype, \"id\", {\n        get: function () { return this._resource.id; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ResourceApi.prototype, \"title\", {\n        get: function () { return this._resource.title; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ResourceApi.prototype, \"eventConstraint\", {\n        get: function () { return this._resource.ui.constraints[0] || null; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ResourceApi.prototype, \"eventOverlap\", {\n        get: function () { return this._resource.ui.overlap; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ResourceApi.prototype, \"eventAllow\", {\n        get: function () { return this._resource.ui.allows[0] || null; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ResourceApi.prototype, \"eventBackgroundColor\", {\n        get: function () { return this._resource.ui.backgroundColor; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ResourceApi.prototype, \"eventBorderColor\", {\n        get: function () { return this._resource.ui.borderColor; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ResourceApi.prototype, \"eventTextColor\", {\n        get: function () { return this._resource.ui.textColor; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ResourceApi.prototype, \"eventClassNames\", {\n        // NOTE: user can't modify these because Object.freeze was called in event-def parsing\n        get: function () { return this._resource.ui.classNames; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ResourceApi.prototype, \"extendedProps\", {\n        get: function () { return this._resource.extendedProps; },\n        enumerable: true,\n        configurable: true\n    });\n    return ResourceApi;\n}());\n\nCalendar.prototype.addResource = function (input, scrollTo) {\n    var _a;\n    if (scrollTo === void 0) { scrollTo = true; }\n    var resourceHash;\n    var resource;\n    if (input instanceof ResourceApi) {\n        resource = input._resource;\n        resourceHash = (_a = {}, _a[resource.id] = resource, _a);\n    }\n    else {\n        resourceHash = {};\n        resource = parseResource(input, '', resourceHash, this);\n    }\n    // HACK\n    if (scrollTo) {\n        this.component.view.addScroll({ forcedRowId: resource.id });\n    }\n    this.dispatch({\n        type: 'ADD_RESOURCE',\n        resourceHash: resourceHash\n    });\n    return new ResourceApi(this, resource);\n};\nCalendar.prototype.getResourceById = function (id) {\n    id = String(id);\n    if (this.state.resourceStore) { // guard against calendar with no resource functionality\n        var rawResource = this.state.resourceStore[id];\n        if (rawResource) {\n            return new ResourceApi(this, rawResource);\n        }\n    }\n    return null;\n};\nCalendar.prototype.getResources = function () {\n    var resourceStore = this.state.resourceStore;\n    var resourceApis = [];\n    if (resourceStore) { // guard against calendar with no resource functionality\n        for (var resourceId in resourceStore) {\n            resourceApis.push(new ResourceApi(this, resourceStore[resourceId]));\n        }\n    }\n    return resourceApis;\n};\nCalendar.prototype.getTopLevelResources = function () {\n    var resourceStore = this.state.resourceStore;\n    var resourceApis = [];\n    if (resourceStore) { // guard against calendar with no resource functionality\n        for (var resourceId in resourceStore) {\n            if (!resourceStore[resourceId].parentId) {\n                resourceApis.push(new ResourceApi(this, resourceStore[resourceId]));\n            }\n        }\n    }\n    return resourceApis;\n};\nCalendar.prototype.rerenderResources = function () {\n    this.dispatch({\n        type: 'RESET_RESOURCES'\n    });\n};\nCalendar.prototype.refetchResources = function () {\n    this.dispatch({\n        type: 'REFETCH_RESOURCES'\n    });\n};\nfunction transformDatePoint(dateSpan, calendar) {\n    return dateSpan.resourceId ?\n        { resource: calendar.getResourceById(dateSpan.resourceId) } :\n        {};\n}\nfunction transformDateSpan(dateSpan, calendar) {\n    return dateSpan.resourceId ?\n        { resource: calendar.getResourceById(dateSpan.resourceId) } :\n        {};\n}\n\n/*\nsplits things BASED OFF OF which resources they are associated with.\ncreates a '' entry which is when something has NO resource.\n*/\nvar ResourceSplitter = /** @class */ (function (_super) {\n    __extends(ResourceSplitter, _super);\n    function ResourceSplitter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ResourceSplitter.prototype.getKeyInfo = function (props) {\n        return __assign({ '': {} }, props.resourceStore // already has `ui` and `businessHours` keys!\n        );\n    };\n    ResourceSplitter.prototype.getKeysForDateSpan = function (dateSpan) {\n        return [dateSpan.resourceId || ''];\n    };\n    ResourceSplitter.prototype.getKeysForEventDef = function (eventDef) {\n        var resourceIds = eventDef.resourceIds;\n        if (!resourceIds.length) {\n            return [''];\n        }\n        return resourceIds;\n    };\n    return ResourceSplitter;\n}(Splitter));\n\nfunction isPropsValidWithResources(props, calendar) {\n    var splitter = new ResourceSplitter();\n    var sets = splitter.splitProps(__assign({}, props, { resourceStore: calendar.state.resourceStore }));\n    for (var resourceId in sets) {\n        var props_1 = sets[resourceId];\n        // merge in event data from the non-resource segment\n        if (resourceId && sets['']) { // current segment is not the non-resource one, and there IS a non-resource one\n            props_1 = __assign({}, props_1, { eventStore: mergeEventStores(sets[''].eventStore, props_1.eventStore), eventUiBases: __assign({}, sets[''].eventUiBases, props_1.eventUiBases) });\n        }\n        if (!isPropsValid(props_1, calendar, { resourceId: resourceId }, filterConfig.bind(null, resourceId))) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction filterConfig(resourceId, config) {\n    return __assign({}, config, { constraints: filterConstraints(resourceId, config.constraints) });\n}\nfunction filterConstraints(resourceId, constraints) {\n    return constraints.map(function (constraint) {\n        var defs = constraint.defs;\n        if (defs) { // we are dealing with an EventStore\n            // if any of the events define constraints to resources that are NOT this resource,\n            // then this resource is unconditionally prohibited, which is what a `false` value does.\n            for (var defId in defs) {\n                var resourceIds = defs[defId].resourceIds;\n                if (resourceIds.length && resourceIds.indexOf(resourceId) === -1) { // TODO: use a hash?!!! (for other reasons too)\n                    return false;\n                }\n            }\n        }\n        return constraint;\n    });\n}\n\nfunction transformExternalDef(dateSpan) {\n    return dateSpan.resourceId ?\n        { resourceId: dateSpan.resourceId } :\n        {};\n}\n\nfunction transformEventResizeJoin(hit0, hit1) {\n    var component = hit0.component;\n    if (component.allowAcrossResources === false &&\n        hit0.dateSpan.resourceId !== hit1.dateSpan.resourceId) {\n        return false;\n    }\n}\n\nEventApi.prototype.getResources = function () {\n    var calendar = this._calendar;\n    return this._def.resourceIds.map(function (resourceId) {\n        return calendar.getResourceById(resourceId);\n    });\n};\nEventApi.prototype.setResources = function (resources) {\n    var resourceIds = [];\n    // massage resources -> resourceIds\n    for (var _i = 0, resources_1 = resources; _i < resources_1.length; _i++) {\n        var resource = resources_1[_i];\n        var resourceId = null;\n        if (typeof resource === 'string') {\n            resourceId = resource;\n        }\n        else if (typeof resource === 'number') {\n            resourceId = String(resource);\n        }\n        else if (resource instanceof ResourceApi) {\n            resourceId = resource.id; // guaranteed to always have an ID. hmmm\n        }\n        else {\n            console.warn('unknown resource type: ' + resource);\n        }\n        if (resourceId) {\n            resourceIds.push(resourceId);\n        }\n    }\n    this.mutate({\n        standardProps: {\n            resourceIds: resourceIds\n        }\n    });\n};\n\nvar RELEASE_DATE = '2020-05-28'; // for Scheduler\nvar UPGRADE_WINDOW = 365 + 7; // days. 1 week leeway, for tz shift reasons too\nvar LICENSE_INFO_URL = 'http://fullcalendar.io/scheduler/license/';\nvar PRESET_LICENSE_KEYS = [\n    'GPL-My-Project-Is-Open-Source',\n    'CC-Attribution-NonCommercial-NoDerivatives'\n];\nvar CSS = {\n    position: 'absolute',\n    'z-index': 99999,\n    bottom: '1px',\n    left: '1px',\n    background: '#eee',\n    'border-color': '#ddd',\n    'border-style': 'solid',\n    'border-width': '1px 1px 0 0',\n    padding: '2px 4px',\n    'font-size': '12px',\n    'border-top-right-radius': '3px'\n};\nfunction injectLicenseWarning(containerEl, calendar) {\n    var key = calendar.opt('schedulerLicenseKey');\n    if (!isImmuneUrl(window.location.href) && !isValidKey(key)) {\n        appendToElement(containerEl, '<div class=\"fc-license-message\" style=\"' + htmlEscape(cssToStr(CSS)) + '\">' +\n            'Please use a valid license key. <a href=\"' + LICENSE_INFO_URL + '\">More Info</a>' +\n            '</div>');\n    }\n}\n/*\nThis decryption is not meant to be bulletproof. Just a way to remind about an upgrade.\n*/\nfunction isValidKey(key) {\n    if (PRESET_LICENSE_KEYS.indexOf(key) !== -1) {\n        return true;\n    }\n    var parts = (key || '').match(/^(\\d+)\\-fcs\\-(\\d+)$/);\n    if (parts && (parts[1].length === 10)) {\n        var purchaseDate = new Date(parseInt(parts[2], 10) * 1000);\n        var releaseDate = new Date(config.mockSchedulerReleaseDate || RELEASE_DATE);\n        if (isValidDate(releaseDate)) { // token won't be replaced in dev mode\n            var minPurchaseDate = addDays(releaseDate, -UPGRADE_WINDOW);\n            if (minPurchaseDate < purchaseDate) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\nfunction isImmuneUrl(url) {\n    return /\\w+\\:\\/\\/fullcalendar\\.io\\/|\\/examples\\/[\\w-]+\\.html$/.test(url);\n}\n\nvar optionChangeHandlers = {\n    resources: handleResources\n};\nfunction handleResources(newSourceInput, calendar, deepEqual) {\n    var oldSourceInput = calendar.state.resourceSource._raw;\n    if (!deepEqual(oldSourceInput, newSourceInput)) {\n        calendar.dispatch({\n            type: 'RESET_RESOURCE_SOURCE',\n            resourceSourceInput: newSourceInput\n        });\n    }\n}\n\nregisterResourceSourceDef({\n    ignoreRange: true,\n    parseMeta: function (raw) {\n        if (Array.isArray(raw)) {\n            return raw;\n        }\n        else if (Array.isArray(raw.resources)) {\n            return raw.resources;\n        }\n        return null;\n    },\n    fetch: function (arg, successCallback) {\n        successCallback({\n            rawResources: arg.resourceSource.meta\n        });\n    }\n});\n\nregisterResourceSourceDef({\n    parseMeta: function (raw) {\n        if (typeof raw === 'function') {\n            return raw;\n        }\n        else if (typeof raw.resources === 'function') {\n            return raw.resources;\n        }\n        return null;\n    },\n    fetch: function (arg, success, failure) {\n        var dateEnv = arg.calendar.dateEnv;\n        var func = arg.resourceSource.meta;\n        var publicArg = {};\n        if (arg.range) {\n            publicArg = {\n                start: dateEnv.toDate(arg.range.start),\n                end: dateEnv.toDate(arg.range.end),\n                startStr: dateEnv.formatIso(arg.range.start),\n                endStr: dateEnv.formatIso(arg.range.end),\n                timeZone: dateEnv.timeZone\n            };\n        }\n        // TODO: make more dry with EventSourceFunc\n        // TODO: accept a response?\n        unpromisify(func.bind(null, publicArg), function (rawResources) {\n            success({ rawResources: rawResources }); // needs an object response\n        }, failure // send errorObj directly to failure callback\n        );\n    }\n});\n\nregisterResourceSourceDef({\n    parseMeta: function (raw) {\n        if (typeof raw === 'string') {\n            raw = { url: raw };\n        }\n        else if (!raw || typeof raw !== 'object' || !raw.url) {\n            return null;\n        }\n        return {\n            url: raw.url,\n            method: (raw.method || 'GET').toUpperCase(),\n            extraParams: raw.extraParams\n        };\n    },\n    fetch: function (arg, successCallback, failureCallback) {\n        var meta = arg.resourceSource.meta;\n        var requestParams = buildRequestParams(meta, arg.range, arg.calendar);\n        requestJson(meta.method, meta.url, requestParams, function (rawResources, xhr) {\n            successCallback({ rawResources: rawResources, xhr: xhr });\n        }, function (message, xhr) {\n            failureCallback({ message: message, xhr: xhr });\n        });\n    }\n});\n// TODO: somehow consolidate with event json feed\nfunction buildRequestParams(meta, range, calendar) {\n    var dateEnv = calendar.dateEnv;\n    var startParam;\n    var endParam;\n    var timeZoneParam;\n    var customRequestParams;\n    var params = {};\n    if (range) {\n        // startParam = meta.startParam\n        // if (startParam == null) {\n        startParam = calendar.opt('startParam');\n        // }\n        // endParam = meta.endParam\n        // if (endParam == null) {\n        endParam = calendar.opt('endParam');\n        // }\n        // timeZoneParam = meta.timeZoneParam\n        // if (timeZoneParam == null) {\n        timeZoneParam = calendar.opt('timeZoneParam');\n        // }\n        params[startParam] = dateEnv.formatIso(range.start);\n        params[endParam] = dateEnv.formatIso(range.end);\n        if (dateEnv.timeZone !== 'local') {\n            params[timeZoneParam] = dateEnv.timeZone;\n        }\n    }\n    // retrieve any outbound GET/POST data from the options\n    if (typeof meta.extraParams === 'function') {\n        // supplied as a function that returns a key/value object\n        customRequestParams = meta.extraParams();\n    }\n    else {\n        // probably supplied as a straight key/value object\n        customRequestParams = meta.extraParams || {};\n    }\n    __assign(params, customRequestParams);\n    return params;\n}\n\nfunction buildResourceTextFunc(resourceTextSetting, calendar) {\n    if (typeof resourceTextSetting === 'function') {\n        return function (resource) {\n            return resourceTextSetting(new ResourceApi(calendar, resource));\n        };\n    }\n    else {\n        return function (resource) {\n            return resource.title || getPublicId(resource.id);\n        };\n    }\n}\n\nvar ResourceDayHeader = /** @class */ (function (_super) {\n    __extends(ResourceDayHeader, _super);\n    function ResourceDayHeader(parentEl) {\n        var _this = _super.call(this) || this;\n        _this.processOptions = memoize(_this._processOptions);\n        _this.parentEl = parentEl;\n        return _this;\n    }\n    ResourceDayHeader.prototype._processOptions = function (options, calendar) {\n        this.datesAboveResources = options.datesAboveResources;\n        this.resourceTextFunc = buildResourceTextFunc(options.resourceText, calendar);\n    };\n    ResourceDayHeader.prototype.render = function (props, context) {\n        var options = context.options, calendar = context.calendar, theme = context.theme;\n        this.processOptions(options, calendar);\n        this.parentEl.innerHTML = ''; // because might be nbsp\n        this.parentEl.appendChild(this.el = htmlToElement('<div class=\"fc-row ' + theme.getClass('headerRow') + '\">' +\n            '<table class=\"' + theme.getClass('tableGrid') + '\">' +\n            '<thead></thead>' +\n            '</table>' +\n            '</div>'));\n        this.thead = this.el.querySelector('thead');\n        var html;\n        this.dateFormat = createFormatter(options.columnHeaderFormat ||\n            computeFallbackHeaderFormat(props.datesRepDistinctDays, props.dates.length));\n        if (props.dates.length === 1) {\n            html = this.renderResourceRow(props.resources);\n        }\n        else {\n            if (this.datesAboveResources) {\n                html = this.renderDayAndResourceRows(props.dates, props.resources);\n            }\n            else {\n                html = this.renderResourceAndDayRows(props.resources, props.dates);\n            }\n        }\n        this.thead.innerHTML = html;\n        this.processResourceEls(props.resources);\n    };\n    ResourceDayHeader.prototype.destroy = function () {\n        removeElement(this.el);\n    };\n    ResourceDayHeader.prototype.renderResourceRow = function (resources) {\n        var _this = this;\n        var cellHtmls = resources.map(function (resource) {\n            return _this.renderResourceCell(resource, 1);\n        });\n        return this.buildTr(cellHtmls);\n    };\n    ResourceDayHeader.prototype.renderDayAndResourceRows = function (dates, resources) {\n        var dateHtmls = [];\n        var resourceHtmls = [];\n        for (var _i = 0, dates_1 = dates; _i < dates_1.length; _i++) {\n            var date = dates_1[_i];\n            dateHtmls.push(this.renderDateCell(date, resources.length));\n            for (var _a = 0, resources_1 = resources; _a < resources_1.length; _a++) {\n                var resource = resources_1[_a];\n                resourceHtmls.push(this.renderResourceCell(resource, 1, date));\n            }\n        }\n        return this.buildTr(dateHtmls) +\n            this.buildTr(resourceHtmls);\n    };\n    ResourceDayHeader.prototype.renderResourceAndDayRows = function (resources, dates) {\n        var resourceHtmls = [];\n        var dateHtmls = [];\n        for (var _i = 0, resources_2 = resources; _i < resources_2.length; _i++) {\n            var resource = resources_2[_i];\n            resourceHtmls.push(this.renderResourceCell(resource, dates.length));\n            for (var _a = 0, dates_2 = dates; _a < dates_2.length; _a++) {\n                var date = dates_2[_a];\n                dateHtmls.push(this.renderDateCell(date, 1, resource));\n            }\n        }\n        return this.buildTr(resourceHtmls) +\n            this.buildTr(dateHtmls);\n    };\n    // Cell Rendering Utils\n    // ----------------------------------------------------------------------------------------------\n    // a cell with the resource name. might be associated with a specific day\n    ResourceDayHeader.prototype.renderResourceCell = function (resource, colspan, date) {\n        var dateEnv = this.context.dateEnv;\n        return '<th class=\"fc-resource-cell\"' +\n            ' data-resource-id=\"' + resource.id + '\"' +\n            (date ?\n                ' data-date=\"' + dateEnv.formatIso(date, { omitTime: true }) + '\"' :\n                '') +\n            (colspan > 1 ?\n                ' colspan=\"' + colspan + '\"' :\n                '') +\n            '>' +\n            htmlEscape(this.resourceTextFunc(resource)) +\n            '</th>';\n    };\n    // a cell with date text. might have a resource associated with it\n    ResourceDayHeader.prototype.renderDateCell = function (date, colspan, resource) {\n        var props = this.props;\n        return renderDateCell(date, props.dateProfile, props.datesRepDistinctDays, props.dates.length * props.resources.length, this.dateFormat, this.context, colspan, resource ? 'data-resource-id=\"' + resource.id + '\"' : '');\n    };\n    ResourceDayHeader.prototype.buildTr = function (cellHtmls) {\n        if (!cellHtmls.length) {\n            cellHtmls = ['<td>&nbsp;</td>'];\n        }\n        if (this.props.renderIntroHtml) {\n            cellHtmls = [this.props.renderIntroHtml()].concat(cellHtmls);\n        }\n        if (this.context.isRtl) {\n            cellHtmls.reverse();\n        }\n        return '<tr>' +\n            cellHtmls.join('') +\n            '</tr>';\n    };\n    // Post-rendering\n    // ----------------------------------------------------------------------------------------------\n    // given a container with already rendered resource cells\n    ResourceDayHeader.prototype.processResourceEls = function (resources) {\n        var _a = this.context, calendar = _a.calendar, isRtl = _a.isRtl, view = _a.view;\n        findElements(this.thead, '.fc-resource-cell').forEach(function (node, col) {\n            col = col % resources.length;\n            if (isRtl) {\n                col = resources.length - 1 - col;\n            }\n            var resource = resources[col];\n            calendar.publiclyTrigger('resourceRender', [\n                {\n                    resource: new ResourceApi(calendar, resource),\n                    el: node,\n                    view: view\n                }\n            ]);\n        });\n    };\n    return ResourceDayHeader;\n}(Component));\n\nvar AbstractResourceDayTable = /** @class */ (function () {\n    function AbstractResourceDayTable(dayTable, resources) {\n        this.dayTable = dayTable;\n        this.resources = resources;\n        this.resourceIndex = new ResourceIndex(resources);\n        this.rowCnt = dayTable.rowCnt;\n        this.colCnt = dayTable.colCnt * resources.length;\n        this.cells = this.buildCells();\n    }\n    AbstractResourceDayTable.prototype.buildCells = function () {\n        var _a = this, rowCnt = _a.rowCnt, dayTable = _a.dayTable, resources = _a.resources;\n        var rows = [];\n        for (var row = 0; row < rowCnt; row++) {\n            var rowCells = [];\n            for (var dateCol = 0; dateCol < dayTable.colCnt; dateCol++) {\n                for (var resourceCol = 0; resourceCol < resources.length; resourceCol++) {\n                    var resource = resources[resourceCol];\n                    var htmlAttrs = 'data-resource-id=\"' + resource.id + '\"';\n                    rowCells[this.computeCol(dateCol, resourceCol)] = {\n                        date: dayTable.cells[row][dateCol].date,\n                        resource: resource,\n                        htmlAttrs: htmlAttrs\n                    };\n                }\n            }\n            rows.push(rowCells);\n        }\n        return rows;\n    };\n    return AbstractResourceDayTable;\n}());\n/*\nresources over dates\n*/\nvar ResourceDayTable = /** @class */ (function (_super) {\n    __extends(ResourceDayTable, _super);\n    function ResourceDayTable() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ResourceDayTable.prototype.computeCol = function (dateI, resourceI) {\n        return resourceI * this.dayTable.colCnt + dateI;\n    };\n    /*\n    all date ranges are intact\n    */\n    ResourceDayTable.prototype.computeColRanges = function (dateStartI, dateEndI, resourceI) {\n        return [\n            {\n                firstCol: this.computeCol(dateStartI, resourceI),\n                lastCol: this.computeCol(dateEndI, resourceI),\n                isStart: true,\n                isEnd: true\n            }\n        ];\n    };\n    return ResourceDayTable;\n}(AbstractResourceDayTable));\n/*\ndates over resources\n*/\nvar DayResourceTable = /** @class */ (function (_super) {\n    __extends(DayResourceTable, _super);\n    function DayResourceTable() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DayResourceTable.prototype.computeCol = function (dateI, resourceI) {\n        return dateI * this.resources.length + resourceI;\n    };\n    /*\n    every single day is broken up\n    */\n    DayResourceTable.prototype.computeColRanges = function (dateStartI, dateEndI, resourceI) {\n        var segs = [];\n        for (var i = dateStartI; i <= dateEndI; i++) {\n            var col = this.computeCol(i, resourceI);\n            segs.push({\n                firstCol: col,\n                lastCol: col,\n                isStart: i === dateStartI,\n                isEnd: i === dateEndI\n            });\n        }\n        return segs;\n    };\n    return DayResourceTable;\n}(AbstractResourceDayTable));\nvar ResourceIndex = /** @class */ (function () {\n    function ResourceIndex(resources) {\n        var indicesById = {};\n        var ids = [];\n        for (var i = 0; i < resources.length; i++) {\n            var id = resources[i].id;\n            ids.push(id);\n            indicesById[id] = i;\n        }\n        this.ids = ids;\n        this.indicesById = indicesById;\n        this.length = resources.length;\n    }\n    return ResourceIndex;\n}());\n/*\nTODO: just use ResourceHash somehow? could then use the generic ResourceSplitter\n*/\nvar VResourceSplitter = /** @class */ (function (_super) {\n    __extends(VResourceSplitter, _super);\n    function VResourceSplitter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    VResourceSplitter.prototype.getKeyInfo = function (props) {\n        var resourceDayTable = props.resourceDayTable;\n        var hash = mapHash(resourceDayTable.resourceIndex.indicesById, function (i) {\n            return resourceDayTable.resources[i]; // has `ui` AND `businessHours` keys!\n        }); // :(\n        hash[''] = {};\n        return hash;\n    };\n    VResourceSplitter.prototype.getKeysForDateSpan = function (dateSpan) {\n        return [dateSpan.resourceId || ''];\n    };\n    VResourceSplitter.prototype.getKeysForEventDef = function (eventDef) {\n        var resourceIds = eventDef.resourceIds;\n        if (!resourceIds.length) {\n            return [''];\n        }\n        return resourceIds;\n    };\n    return VResourceSplitter;\n}(Splitter));\n// joiner\nvar NO_SEGS = []; // for memoizing\nvar VResourceJoiner = /** @class */ (function () {\n    function VResourceJoiner() {\n        this.joinDateSelection = memoize(this.joinSegs);\n        this.joinBusinessHours = memoize(this.joinSegs);\n        this.joinFgEvents = memoize(this.joinSegs);\n        this.joinBgEvents = memoize(this.joinSegs);\n        this.joinEventDrags = memoize(this.joinInteractions);\n        this.joinEventResizes = memoize(this.joinInteractions);\n    }\n    /*\n    propSets also has a '' key for things with no resource\n    */\n    VResourceJoiner.prototype.joinProps = function (propSets, resourceDayTable) {\n        var dateSelectionSets = [];\n        var businessHoursSets = [];\n        var fgEventSets = [];\n        var bgEventSets = [];\n        var eventDrags = [];\n        var eventResizes = [];\n        var eventSelection = '';\n        var keys = resourceDayTable.resourceIndex.ids.concat(['']); // add in the all-resource key\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            var props = propSets[key];\n            dateSelectionSets.push(props.dateSelectionSegs);\n            businessHoursSets.push(key ? props.businessHourSegs : NO_SEGS); // don't include redundant all-resource businesshours\n            fgEventSets.push(key ? props.fgEventSegs : NO_SEGS); // don't include fg all-resource segs\n            bgEventSets.push(props.bgEventSegs);\n            eventDrags.push(props.eventDrag);\n            eventResizes.push(props.eventResize);\n            eventSelection = eventSelection || props.eventSelection;\n        }\n        return {\n            dateSelectionSegs: this.joinDateSelection.apply(this, [resourceDayTable].concat(dateSelectionSets)),\n            businessHourSegs: this.joinBusinessHours.apply(this, [resourceDayTable].concat(businessHoursSets)),\n            fgEventSegs: this.joinFgEvents.apply(this, [resourceDayTable].concat(fgEventSets)),\n            bgEventSegs: this.joinBgEvents.apply(this, [resourceDayTable].concat(bgEventSets)),\n            eventDrag: this.joinEventDrags.apply(this, [resourceDayTable].concat(eventDrags)),\n            eventResize: this.joinEventResizes.apply(this, [resourceDayTable].concat(eventResizes)),\n            eventSelection: eventSelection\n        };\n    };\n    VResourceJoiner.prototype.joinSegs = function (resourceDayTable) {\n        var segGroups = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            segGroups[_i - 1] = arguments[_i];\n        }\n        var resourceCnt = resourceDayTable.resources.length;\n        var transformedSegs = [];\n        for (var i = 0; i < resourceCnt; i++) {\n            for (var _a = 0, _b = segGroups[i]; _a < _b.length; _a++) {\n                var seg = _b[_a];\n                transformedSegs.push.apply(transformedSegs, this.transformSeg(seg, resourceDayTable, i));\n            }\n            for (var _c = 0, _d = segGroups[resourceCnt]; _c < _d.length; _c++) { // one beyond. the all-resource\n                var seg = _d[_c];\n                transformedSegs.push.apply(// one beyond. the all-resource\n                transformedSegs, this.transformSeg(seg, resourceDayTable, i));\n            }\n        }\n        return transformedSegs;\n    };\n    /*\n    for expanding non-resource segs to all resources.\n    only for public use.\n    no memoizing.\n    */\n    VResourceJoiner.prototype.expandSegs = function (resourceDayTable, segs) {\n        var resourceCnt = resourceDayTable.resources.length;\n        var transformedSegs = [];\n        for (var i = 0; i < resourceCnt; i++) {\n            for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n                var seg = segs_1[_i];\n                transformedSegs.push.apply(transformedSegs, this.transformSeg(seg, resourceDayTable, i));\n            }\n        }\n        return transformedSegs;\n    };\n    VResourceJoiner.prototype.joinInteractions = function (resourceDayTable) {\n        var interactions = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            interactions[_i - 1] = arguments[_i];\n        }\n        var resourceCnt = resourceDayTable.resources.length;\n        var affectedInstances = {};\n        var transformedSegs = [];\n        var isEvent = false;\n        var sourceSeg = null;\n        for (var i = 0; i < resourceCnt; i++) {\n            var interaction = interactions[i];\n            if (interaction) {\n                for (var _a = 0, _b = interaction.segs; _a < _b.length; _a++) {\n                    var seg = _b[_a];\n                    transformedSegs.push.apply(transformedSegs, this.transformSeg(seg, resourceDayTable, i) // TODO: templateify Interaction::segs\n                    );\n                }\n                __assign(affectedInstances, interaction.affectedInstances);\n                isEvent = isEvent || interaction.isEvent;\n                sourceSeg = sourceSeg || interaction.sourceSeg;\n            }\n            if (interactions[resourceCnt]) { // one beyond. the all-resource\n                for (var _c = 0, _d = interactions[resourceCnt].segs; _c < _d.length; _c++) {\n                    var seg = _d[_c];\n                    transformedSegs.push.apply(transformedSegs, this.transformSeg(seg, resourceDayTable, i) // TODO: templateify Interaction::segs\n                    );\n                }\n            }\n        }\n        return {\n            affectedInstances: affectedInstances,\n            segs: transformedSegs,\n            isEvent: isEvent,\n            sourceSeg: sourceSeg\n        };\n    };\n    return VResourceJoiner;\n}());\n\n/*\ndoesn't accept grouping\n*/\nfunction flattenResources(resourceStore, orderSpecs) {\n    return buildRowNodes(resourceStore, [], orderSpecs, false, {}, true)\n        .map(function (node) {\n        return node.resource;\n    });\n}\nfunction buildRowNodes(resourceStore, groupSpecs, orderSpecs, isVGrouping, expansions, expansionDefault) {\n    var complexNodes = buildHierarchy(resourceStore, isVGrouping ? -1 : 1, groupSpecs, orderSpecs);\n    var flatNodes = [];\n    flattenNodes(complexNodes, flatNodes, isVGrouping, [], 0, expansions, expansionDefault);\n    return flatNodes;\n}\nfunction flattenNodes(complexNodes, res, isVGrouping, rowSpans, depth, expansions, expansionDefault) {\n    for (var i = 0; i < complexNodes.length; i++) {\n        var complexNode = complexNodes[i];\n        var group = complexNode.group;\n        if (group) {\n            if (isVGrouping) {\n                var firstRowIndex = res.length;\n                var rowSpanIndex = rowSpans.length;\n                flattenNodes(complexNode.children, res, isVGrouping, rowSpans.concat(0), depth, expansions, expansionDefault);\n                if (firstRowIndex < res.length) {\n                    var firstRow = res[firstRowIndex];\n                    var firstRowSpans = firstRow.rowSpans = firstRow.rowSpans.slice();\n                    firstRowSpans[rowSpanIndex] = res.length - firstRowIndex;\n                }\n            }\n            else {\n                var id = group.spec.field + ':' + group.value;\n                var isExpanded = expansions[id] != null ? expansions[id] : expansionDefault;\n                res.push({ id: id, group: group, isExpanded: isExpanded });\n                if (isExpanded) {\n                    flattenNodes(complexNode.children, res, isVGrouping, rowSpans, depth + 1, expansions, expansionDefault);\n                }\n            }\n        }\n        else if (complexNode.resource) {\n            var id = complexNode.resource.id;\n            var isExpanded = expansions[id] != null ? expansions[id] : expansionDefault;\n            res.push({\n                id: id,\n                rowSpans: rowSpans,\n                depth: depth,\n                isExpanded: isExpanded,\n                hasChildren: Boolean(complexNode.children.length),\n                resource: complexNode.resource,\n                resourceFields: complexNode.resourceFields\n            });\n            if (isExpanded) {\n                flattenNodes(complexNode.children, res, isVGrouping, rowSpans, depth + 1, expansions, expansionDefault);\n            }\n        }\n    }\n}\nfunction buildHierarchy(resourceStore, maxDepth, groupSpecs, orderSpecs) {\n    var resourceNodes = buildResourceNodes(resourceStore, orderSpecs);\n    var builtNodes = [];\n    for (var resourceId in resourceNodes) {\n        var resourceNode = resourceNodes[resourceId];\n        if (!resourceNode.resource.parentId) {\n            insertResourceNode(resourceNode, builtNodes, groupSpecs, 0, maxDepth, orderSpecs);\n        }\n    }\n    return builtNodes;\n}\nfunction buildResourceNodes(resourceStore, orderSpecs) {\n    var nodeHash = {};\n    for (var resourceId in resourceStore) {\n        var resource = resourceStore[resourceId];\n        nodeHash[resourceId] = {\n            resource: resource,\n            resourceFields: buildResourceFields(resource),\n            children: []\n        };\n    }\n    for (var resourceId in resourceStore) {\n        var resource = resourceStore[resourceId];\n        if (resource.parentId) {\n            var parentNode = nodeHash[resource.parentId];\n            if (parentNode) {\n                insertResourceNodeInSiblings(nodeHash[resourceId], parentNode.children, orderSpecs);\n            }\n        }\n    }\n    return nodeHash;\n}\nfunction insertResourceNode(resourceNode, nodes, groupSpecs, depth, maxDepth, orderSpecs) {\n    if (groupSpecs.length && (maxDepth === -1 || depth <= maxDepth)) {\n        var groupNode = ensureGroupNodes(resourceNode, nodes, groupSpecs[0]);\n        insertResourceNode(resourceNode, groupNode.children, groupSpecs.slice(1), depth + 1, maxDepth, orderSpecs);\n    }\n    else {\n        insertResourceNodeInSiblings(resourceNode, nodes, orderSpecs);\n    }\n}\nfunction ensureGroupNodes(resourceNode, nodes, groupSpec) {\n    var groupValue = resourceNode.resourceFields[groupSpec.field];\n    var groupNode;\n    var newGroupIndex;\n    // find an existing group that matches, or determine the position for a new group\n    if (groupSpec.order) {\n        for (newGroupIndex = 0; newGroupIndex < nodes.length; newGroupIndex++) {\n            var node = nodes[newGroupIndex];\n            if (node.group) {\n                var cmp = flexibleCompare(groupValue, node.group.value) * groupSpec.order;\n                if (cmp === 0) {\n                    groupNode = node;\n                    break;\n                }\n                else if (cmp < 0) {\n                    break;\n                }\n            }\n        }\n    }\n    else { // the groups are unordered\n        for (newGroupIndex = 0; newGroupIndex < nodes.length; newGroupIndex++) {\n            var node = nodes[newGroupIndex];\n            if (node.group && groupValue === node.group.value) {\n                groupNode = node;\n                break;\n            }\n        }\n    }\n    if (!groupNode) {\n        groupNode = {\n            group: {\n                value: groupValue,\n                spec: groupSpec\n            },\n            children: []\n        };\n        nodes.splice(newGroupIndex, 0, groupNode);\n    }\n    return groupNode;\n}\nfunction insertResourceNodeInSiblings(resourceNode, siblings, orderSpecs) {\n    var i;\n    for (i = 0; i < siblings.length; i++) {\n        var cmp = compareByFieldSpecs(siblings[i].resourceFields, resourceNode.resourceFields, orderSpecs);\n        if (cmp > 0) { // went 1 past. insert at i\n            break;\n        }\n    }\n    siblings.splice(i, 0, resourceNode);\n}\nfunction buildResourceFields(resource) {\n    var obj = __assign({}, resource.extendedProps, resource.ui, resource);\n    delete obj.ui;\n    delete obj.extendedProps;\n    return obj;\n}\nfunction isGroupsEqual(group0, group1) {\n    return group0.spec === group1.spec && group0.value === group1.value;\n}\n\nvar main = createPlugin({\n    reducers: [resourcesReducers],\n    eventDefParsers: [parseEventDef],\n    isDraggableTransformers: [transformIsDraggable],\n    eventDragMutationMassagers: [massageEventDragMutation],\n    eventDefMutationAppliers: [applyEventDefMutation],\n    dateSelectionTransformers: [transformDateSelectionJoin],\n    datePointTransforms: [transformDatePoint],\n    dateSpanTransforms: [transformDateSpan],\n    viewPropsTransformers: [ResourceDataAdder, ResourceEventConfigAdder],\n    isPropsValid: isPropsValidWithResources,\n    externalDefTransforms: [transformExternalDef],\n    eventResizeJoinTransforms: [transformEventResizeJoin],\n    viewContainerModifiers: [injectLicenseWarning],\n    eventDropTransformers: [transformEventDrop],\n    optionChangeHandlers: optionChangeHandlers\n});\n\nexport default main;\nexport { AbstractResourceDayTable, DayResourceTable, ResourceApi, ResourceDayHeader, ResourceDayTable, ResourceSplitter, VResourceJoiner, VResourceSplitter, buildResourceFields, buildResourceTextFunc, buildRowNodes, flattenResources, isGroupsEqual };\n","/*!\nFullCalendar Resource Timeline Plugin v4.4.2\nDocs & License: https://fullcalendar.io/scheduler\n(c) 2019 Adam Shaw\n*/\n\nimport { removeElement, Component, memoizeRendering, createElement, htmlToElement, htmlEscape, isArraysEqual, EmitterMixin, memoize, parseFieldSpecs, PositionCache, applyStyleProp, View, createPlugin } from '@fullcalendar/core';\nimport TimelinePlugin, { TimelineLane, HeaderBodyLayout, TimeAxis, ScrollJoiner, StickyScroller } from '@fullcalendar/timeline';\nimport ResourceCommonPlugin, { isGroupsEqual, buildResourceFields, buildResourceTextFunc, ResourceApi, ResourceSplitter, buildRowNodes } from '@fullcalendar/resource-common';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar Row = /** @class */ (function (_super) {\n    __extends(Row, _super);\n    function Row(spreadsheetParent, spreadsheetNextSibling, timeAxisParent, timeAxisNextSibling) {\n        var _this = _super.call(this) || this;\n        _this.isSizeDirty = false;\n        spreadsheetParent.insertBefore(_this.spreadsheetTr = document.createElement('tr'), spreadsheetNextSibling);\n        timeAxisParent.insertBefore(_this.timeAxisTr = document.createElement('tr'), timeAxisNextSibling);\n        return _this;\n    }\n    Row.prototype.destroy = function () {\n        removeElement(this.spreadsheetTr);\n        removeElement(this.timeAxisTr);\n        _super.prototype.destroy.call(this);\n    };\n    Row.prototype.updateSize = function (isResize) {\n        this.isSizeDirty = false;\n    };\n    return Row;\n}(Component));\n\nfunction updateExpanderIcon(el, isExpanded) {\n    var classList = el.classList;\n    if (isExpanded) {\n        classList.remove('fc-icon-plus-square');\n        classList.add('fc-icon-minus-square');\n    }\n    else {\n        classList.remove('fc-icon-minus-square');\n        classList.add('fc-icon-plus-square');\n    }\n}\nfunction clearExpanderIcon(el) {\n    var classList = el.classList;\n    classList.remove('fc-icon-minus-square');\n    classList.remove('fc-icon-plus-square');\n}\nfunction updateTrResourceId(tr, resourceId) {\n    tr.setAttribute('data-resource-id', resourceId);\n}\n\nvar GroupRow = /** @class */ (function (_super) {\n    __extends(GroupRow, _super);\n    function GroupRow() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._renderCells = memoizeRendering(_this.renderCells, _this.unrenderCells);\n        _this._updateExpanderIcon = memoizeRendering(_this.updateExpanderIcon, null, [_this._renderCells]);\n        _this.onExpanderClick = function (ev) {\n            var props = _this.props;\n            _this.context.calendar.dispatch({\n                type: 'SET_RESOURCE_ENTITY_EXPANDED',\n                id: props.id,\n                isExpanded: !props.isExpanded\n            });\n        };\n        return _this;\n    }\n    GroupRow.prototype.render = function (props) {\n        this._renderCells(props.group, props.spreadsheetColCnt);\n        this._updateExpanderIcon(props.isExpanded);\n        this.isSizeDirty = true;\n    };\n    GroupRow.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this._renderCells.unrender(); // should unrender everything else\n    };\n    GroupRow.prototype.renderCells = function (group, spreadsheetColCnt) {\n        var spreadsheetContentEl = this.renderSpreadsheetContent(group);\n        this.spreadsheetTr.appendChild(createElement('td', {\n            className: 'fc-divider',\n            colSpan: spreadsheetColCnt // span across all columns\n        }, this.spreadsheetHeightEl = createElement('div', null, spreadsheetContentEl)) // needed by setTrInnerHeight\n        );\n        this.expanderIconEl = spreadsheetContentEl.querySelector('.fc-icon');\n        this.expanderIconEl.parentElement.addEventListener('click', this.onExpanderClick);\n        // insert a single cell, with a single empty <div>.\n        // there will be no content\n        this.timeAxisTr.appendChild(createElement('td', { className: 'fc-divider' }, this.timeAxisHeightEl = document.createElement('div')));\n    };\n    GroupRow.prototype.unrenderCells = function () {\n        this.spreadsheetTr.innerHTML = '';\n        this.timeAxisTr.innerHTML = '';\n    };\n    /*\n    Renders the content wrapper element that will be inserted into this row's TD cell.\n    */\n    GroupRow.prototype.renderSpreadsheetContent = function (group) {\n        var text = this.renderCellText(group);\n        var contentEl = htmlToElement('<div class=\"fc-cell-content\">' +\n            '<span class=\"fc-expander\">' +\n            '<span class=\"fc-icon\"></span>' +\n            '</span>' +\n            '<span class=\"fc-cell-text\">' +\n            (text ? htmlEscape(text) : '&nbsp;') +\n            '</span>' +\n            '</div>');\n        var filter = group.spec.render;\n        if (typeof filter === 'function') {\n            contentEl = filter(contentEl, group.value) || contentEl;\n        }\n        return contentEl;\n    };\n    GroupRow.prototype.renderCellText = function (group) {\n        var text = group.value || ''; // might be null/undefined if an ad-hoc grouping\n        var filter = group.spec.text;\n        if (typeof filter === 'function') {\n            text = filter(text) || text;\n        }\n        return text;\n    };\n    GroupRow.prototype.getHeightEls = function () {\n        return [this.spreadsheetHeightEl, this.timeAxisHeightEl];\n    };\n    GroupRow.prototype.updateExpanderIcon = function (isExpanded) {\n        updateExpanderIcon(this.expanderIconEl, isExpanded);\n    };\n    return GroupRow;\n}(Row));\nGroupRow.addEqualityFuncs({\n    group: isGroupsEqual // HACK for ResourceTimelineView::renderRows\n});\n\nvar SpreadsheetRow = /** @class */ (function (_super) {\n    __extends(SpreadsheetRow, _super);\n    function SpreadsheetRow(tr) {\n        var _this = _super.call(this) || this;\n        _this._renderRow = memoizeRendering(_this.renderRow, _this.unrenderRow);\n        _this._updateTrResourceId = memoizeRendering(updateTrResourceId, null, [_this._renderRow]);\n        _this._updateExpanderIcon = memoizeRendering(_this.updateExpanderIcon, null, [_this._renderRow]);\n        _this.onExpanderClick = function (ev) {\n            var props = _this.props;\n            _this.context.calendar.dispatch({\n                type: 'SET_RESOURCE_ENTITY_EXPANDED',\n                id: props.id,\n                isExpanded: !props.isExpanded\n            });\n        };\n        _this.tr = tr;\n        return _this;\n    }\n    SpreadsheetRow.prototype.render = function (props) {\n        this._renderRow(props.resource, props.rowSpans, props.depth, props.colSpecs);\n        this._updateTrResourceId(this.tr, props.resource.id); // TODO: only use public ID?\n        this._updateExpanderIcon(props.hasChildren, props.isExpanded);\n    };\n    SpreadsheetRow.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this._renderRow.unrender(); // should unrender everything else\n    };\n    SpreadsheetRow.prototype.renderRow = function (resource, rowSpans, depth, colSpecs) {\n        var _a = this.context, calendar = _a.calendar, view = _a.view, theme = _a.theme;\n        var tr = this.tr;\n        var resourceFields = buildResourceFields(resource); // slightly inefficient. already done up the call stack\n        var mainTd;\n        for (var i = 0; i < colSpecs.length; i++) {\n            var colSpec = colSpecs[i];\n            var rowSpan = rowSpans[i];\n            if (rowSpan === 0) { // not responsible for group-based rows. VRowGroup is\n                continue;\n            }\n            else if (rowSpan == null) {\n                rowSpan = 1;\n            }\n            var text = void 0;\n            if (colSpec.field) {\n                text = resourceFields[colSpec.field];\n            }\n            else {\n                text = buildResourceTextFunc(colSpec.text, calendar)(resource);\n            }\n            var contentEl = htmlToElement('<div class=\"fc-cell-content\">' +\n                (colSpec.isMain ? renderIconHtml(depth) : '') +\n                '<span class=\"fc-cell-text\">' +\n                (text ? htmlEscape(text) : '&nbsp;') +\n                '</span>' +\n                '</div>');\n            if (typeof colSpec.render === 'function') { // a filter function for the element\n                contentEl = colSpec.render(new ResourceApi(calendar, resource), contentEl) || contentEl;\n            }\n            if (rowSpan > 1) {\n                contentEl.classList.add('fc-sticky');\n            }\n            var td = createElement('td', {\n                className: theme.getClass('widgetContent'),\n                rowspan: rowSpan\n            }, contentEl);\n            // the first cell of the row needs to have an inner div for setTrInnerHeight\n            if (colSpec.isMain) {\n                td.appendChild(this.heightEl = createElement('div', null, td.childNodes) // inner wrap\n                );\n                mainTd = td;\n            }\n            tr.appendChild(td);\n        }\n        this.expanderIconEl = tr.querySelector('.fc-expander-space .fc-icon');\n        // wait until very end\n        calendar.publiclyTrigger('resourceRender', [\n            {\n                resource: new ResourceApi(calendar, resource),\n                el: mainTd,\n                view: view\n            }\n        ]);\n    };\n    SpreadsheetRow.prototype.unrenderRow = function () {\n        this.tr.innerHTML = '';\n    };\n    SpreadsheetRow.prototype.updateExpanderIcon = function (hasChildren, isExpanded) {\n        var expanderIconEl = this.expanderIconEl;\n        var expanderEl = expanderIconEl.parentElement;\n        if (expanderIconEl &&\n            expanderEl // why would this be null?? was the case in IE11\n        ) {\n            if (hasChildren) {\n                expanderEl.addEventListener('click', this.onExpanderClick);\n                expanderEl.classList.add('fc-expander');\n                updateExpanderIcon(expanderIconEl, isExpanded);\n            }\n            else {\n                expanderEl.removeEventListener('click', this.onExpanderClick);\n                expanderEl.classList.remove('fc-expander');\n                clearExpanderIcon(expanderIconEl);\n            }\n        }\n    };\n    return SpreadsheetRow;\n}(Component));\n/*\nRenders the HTML responsible for the subrow expander area,\nas well as the space before it (used to align expanders of similar depths)\n*/\nfunction renderIconHtml(depth) {\n    var html = '';\n    for (var i = 0; i < depth; i++) {\n        html += '<span class=\"fc-icon\"></span>';\n    }\n    html +=\n        '<span class=\"fc-expander-space\">' +\n            '<span class=\"fc-icon\"></span>' +\n            '</span>';\n    return html;\n}\n\nvar ResourceRow = /** @class */ (function (_super) {\n    __extends(ResourceRow, _super);\n    function ResourceRow(a, b, c, d, timeAxis) {\n        var _this = _super.call(this, a, b, c, d) || this;\n        _this.renderSkeleton = memoizeRendering(_this._renderSkeleton, _this._unrenderSkeleton);\n        _this.updateTrResourceId = memoizeRendering(updateTrResourceId);\n        _this.timeAxis = timeAxis;\n        return _this;\n    }\n    ResourceRow.prototype.render = function (props, context) {\n        this.renderSkeleton(context);\n        // spreadsheetRow handles calling updateTrResourceId for spreadsheetTr\n        this.spreadsheetRow.receiveProps({\n            colSpecs: props.colSpecs,\n            id: props.id,\n            rowSpans: props.rowSpans,\n            depth: props.depth,\n            isExpanded: props.isExpanded,\n            hasChildren: props.hasChildren,\n            resource: props.resource\n        }, context);\n        this.updateTrResourceId(this.timeAxisTr, props.resource.id);\n        this.lane.receiveProps({\n            dateProfile: props.dateProfile,\n            nextDayThreshold: props.nextDayThreshold,\n            businessHours: props.businessHours,\n            eventStore: props.eventStore,\n            eventUiBases: props.eventUiBases,\n            dateSelection: props.dateSelection,\n            eventSelection: props.eventSelection,\n            eventDrag: props.eventDrag,\n            eventResize: props.eventResize\n        }, context);\n        this.isSizeDirty = true;\n    };\n    ResourceRow.prototype.destroy = function () {\n        this.renderSkeleton.unrender();\n        _super.prototype.destroy.call(this);\n    };\n    ResourceRow.prototype._renderSkeleton = function (context) {\n        this.timeAxisTr.appendChild(this.cellEl = createElement('td', { className: context.theme.getClass('widgetContent') }, this.innerContainerEl = document.createElement('div')));\n        this.spreadsheetRow = new SpreadsheetRow(this.spreadsheetTr);\n        this.lane = new TimelineLane(this.innerContainerEl, this.innerContainerEl, this.timeAxis);\n    };\n    ResourceRow.prototype._unrenderSkeleton = function () {\n        this.spreadsheetRow.destroy();\n        this.lane.destroy();\n        removeElement(this.cellEl);\n    };\n    ResourceRow.prototype.updateSize = function (isResize) {\n        _super.prototype.updateSize.call(this, isResize);\n        this.lane.updateSize(isResize);\n    };\n    ResourceRow.prototype.getHeightEls = function () {\n        return [this.spreadsheetRow.heightEl, this.innerContainerEl];\n    };\n    return ResourceRow;\n}(Row));\nResourceRow.addEqualityFuncs({\n    rowSpans: isArraysEqual // HACK for isSizeDirty, ResourceTimelineView::renderRows\n});\n\nvar COL_MIN_WIDTH = 30;\nvar SpreadsheetHeader = /** @class */ (function (_super) {\n    __extends(SpreadsheetHeader, _super);\n    function SpreadsheetHeader(parentEl) {\n        var _this = _super.call(this) || this;\n        _this.resizables = [];\n        _this.colWidths = [];\n        _this.emitter = new EmitterMixin();\n        _this.renderSkeleton = memoizeRendering(_this._renderSkeleton, _this._unrenderSkeleton);\n        _this.parentEl = parentEl;\n        return _this;\n    }\n    SpreadsheetHeader.prototype.render = function (props, context) {\n        this.renderSkeleton(context);\n        var theme = context.theme;\n        var colSpecs = props.colSpecs;\n        var html = '<colgroup>' + props.colTags + '</colgroup>' +\n            '<tbody>';\n        if (props.superHeaderText) {\n            html +=\n                '<tr class=\"fc-super\">' +\n                    '<th class=\"' + theme.getClass('widgetHeader') + '\" colspan=\"' + colSpecs.length + '\">' +\n                    '<div class=\"fc-cell-content\">' +\n                    '<span class=\"fc-cell-text\">' +\n                    htmlEscape(props.superHeaderText) +\n                    '</span>' +\n                    '</div>' +\n                    '</th>' +\n                    '</tr>';\n        }\n        html += '<tr>';\n        for (var i = 0; i < colSpecs.length; i++) {\n            var o = colSpecs[i];\n            var isLast = i === (colSpecs.length - 1);\n            html +=\n                \"<th class=\\\"\" + theme.getClass('widgetHeader') + \"\\\">\" +\n                    '<div>' +\n                    '<div class=\"fc-cell-content\">' +\n                    (o.isMain ?\n                        '<span class=\"fc-expander-space\">' +\n                            '<span class=\"fc-icon\"></span>' +\n                            '</span>' :\n                        '') +\n                    '<span class=\"fc-cell-text\">' +\n                    htmlEscape(o.labelText || '') + // what about normalizing this value ahead of time?\n                    '</span>' +\n                    '</div>' +\n                    (!isLast ? '<div class=\"fc-col-resizer\"></div>' : '') +\n                    '</div>' +\n                    '</th>';\n        }\n        html += '</tr>';\n        html += '</tbody>';\n        this.tableEl.innerHTML = html;\n        this.thEls = Array.prototype.slice.call(this.tableEl.querySelectorAll('th'));\n        this.colEls = Array.prototype.slice.call(this.tableEl.querySelectorAll('col'));\n        this.resizerEls = Array.prototype.slice.call(this.tableEl.querySelectorAll('.fc-col-resizer'));\n        this.initColResizing();\n    };\n    SpreadsheetHeader.prototype.destroy = function () {\n        for (var _i = 0, _a = this.resizables; _i < _a.length; _i++) {\n            var resizable = _a[_i];\n            resizable.destroy();\n        }\n        this.renderSkeleton.unrender();\n        _super.prototype.destroy.call(this);\n    };\n    SpreadsheetHeader.prototype._renderSkeleton = function (context) {\n        this.parentEl.appendChild(this.tableEl = createElement('table', {\n            className: context.theme.getClass('tableGrid')\n        }));\n    };\n    SpreadsheetHeader.prototype._unrenderSkeleton = function () {\n        removeElement(this.tableEl);\n    };\n    SpreadsheetHeader.prototype.initColResizing = function () {\n        var _this = this;\n        var _a = this.context, calendar = _a.calendar, isRtl = _a.isRtl;\n        var ElementDraggingImpl = calendar.pluginSystem.hooks.elementDraggingImpl;\n        if (ElementDraggingImpl) {\n            this.resizables = this.resizerEls.map(function (handleEl, colIndex) {\n                var dragging = new ElementDraggingImpl(handleEl);\n                var startWidth;\n                dragging.emitter.on('dragstart', function () {\n                    startWidth = _this.colWidths[colIndex];\n                    if (typeof startWidth !== 'number') {\n                        startWidth = _this.thEls[colIndex].getBoundingClientRect().width;\n                    }\n                });\n                dragging.emitter.on('dragmove', function (pev) {\n                    _this.colWidths[colIndex] = Math.max(startWidth + pev.deltaX * (isRtl ? -1 : 1), COL_MIN_WIDTH);\n                    _this.emitter.trigger('colwidthchange', _this.colWidths);\n                });\n                dragging.setAutoScrollEnabled(false); // because gets weird with auto-scrolling time area\n                return dragging;\n            });\n        }\n    };\n    return SpreadsheetHeader;\n}(Component));\n\nvar Spreadsheet = /** @class */ (function (_super) {\n    __extends(Spreadsheet, _super);\n    function Spreadsheet(headParentEl, bodyParentEl) {\n        var _this = _super.call(this) || this;\n        _this.renderSkeleton = memoizeRendering(_this._renderSkeleton, _this._unrenderSkeleton);\n        _this.renderCells = memoizeRendering(_this._renderCells, _this._unrenderCells, [_this.renderSkeleton]);\n        _this.layout = new HeaderBodyLayout(headParentEl, bodyParentEl, 'clipped-scroll');\n        return _this;\n    }\n    Spreadsheet.prototype.render = function (props, context) {\n        this.renderSkeleton(context);\n        this.renderCells(props.superHeaderText, props.colSpecs);\n    };\n    Spreadsheet.prototype.destroy = function () {\n        this.renderCells.unrender();\n        this.renderSkeleton.unrender();\n        this.layout.destroy();\n        _super.prototype.destroy.call(this);\n    };\n    Spreadsheet.prototype._renderSkeleton = function (context) {\n        var _this = this;\n        var bodyEnhancedScroller = this.layout.bodyScroller.enhancedScroll;\n        bodyEnhancedScroller.canvas.contentEl\n            .appendChild(this.bodyContainerEl = createElement('div', { className: 'fc-rows' }, '<table>' +\n            '<colgroup />' +\n            '<tbody />' +\n            '</table>'));\n        this.bodyColGroup = this.bodyContainerEl.querySelector('colgroup');\n        this.bodyTbody = this.bodyContainerEl.querySelector('tbody');\n        var headerEnhancedScroller = this.layout.headerScroller.enhancedScroll;\n        this.header = new SpreadsheetHeader(headerEnhancedScroller.canvas.contentEl);\n        this.header.emitter.on('colwidthchange', function (colWidths) {\n            _this.applyColWidths(colWidths);\n        });\n    };\n    Spreadsheet.prototype._unrenderSkeleton = function () {\n        this.header.destroy();\n    };\n    Spreadsheet.prototype._renderCells = function (superHeaderText, colSpecs) {\n        var colTags = this.renderColTags(colSpecs);\n        this.header.receiveProps({\n            superHeaderText: superHeaderText,\n            colSpecs: colSpecs,\n            colTags: colTags\n        }, this.context);\n        this.bodyColGroup.innerHTML = colTags;\n        this.bodyColEls = Array.prototype.slice.call(this.bodyColGroup.querySelectorAll('col'));\n        this.applyColWidths(colSpecs.map(function (colSpec) { return colSpec.width; }));\n    };\n    Spreadsheet.prototype._unrenderCells = function () {\n        this.bodyColGroup.innerHTML = '';\n    };\n    Spreadsheet.prototype.renderColTags = function (colSpecs) {\n        var html = '';\n        for (var _i = 0, colSpecs_1 = colSpecs; _i < colSpecs_1.length; _i++) {\n            var o = colSpecs_1[_i];\n            if (o.isMain) {\n                html += '<col class=\"fc-main-col\"/>';\n            }\n            else {\n                html += '<col/>';\n            }\n        }\n        return html;\n    };\n    Spreadsheet.prototype.updateSize = function (isResize, totalHeight, isAuto) {\n        this.layout.setHeight(totalHeight, isAuto);\n    };\n    Spreadsheet.prototype.applyColWidths = function (colWidths) {\n        var _this = this;\n        colWidths.forEach(function (colWidth, colIndex) {\n            var headEl = _this.header.colEls[colIndex]; // bad to access child\n            var bodyEl = _this.bodyColEls[colIndex];\n            var styleVal;\n            if (typeof colWidth === 'number') {\n                styleVal = colWidth + 'px';\n            }\n            else if (typeof colWidth == null) {\n                styleVal = '';\n            }\n            headEl.style.width = bodyEl.style.width = styleVal;\n        });\n    };\n    return Spreadsheet;\n}(Component));\n\nvar MIN_RESOURCE_AREA_WIDTH = 30; // definitely bigger than scrollbars\nvar ResourceTimelineView = /** @class */ (function (_super) {\n    __extends(ResourceTimelineView, _super);\n    function ResourceTimelineView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.isStickyScrollDirty = false;\n        _this.rowNodes = [];\n        _this.rowComponents = [];\n        _this.rowComponentsById = {};\n        _this.resourceAreaWidthDraggings = [];\n        _this.splitter = new ResourceSplitter(); // doesn't let it do businessHours tho\n        _this.renderSkeleton = memoizeRendering(_this._renderSkeleton, _this._unrenderSkeleton);\n        _this.hasResourceBusinessHours = memoize(hasResourceBusinessHours);\n        _this.buildRowNodes = memoize(buildRowNodes);\n        _this.hasNesting = memoize(hasNesting);\n        _this.updateHasNesting = memoizeRendering(_this._updateHasNesting);\n        _this.startInteractive = memoizeRendering(_this._startInteractive, _this._stopInteractive);\n        return _this;\n    }\n    ResourceTimelineView.prototype._startInteractive = function (timeAxisEl) {\n        this.context.calendar.registerInteractiveComponent(this, { el: timeAxisEl });\n    };\n    ResourceTimelineView.prototype._stopInteractive = function () {\n        this.context.calendar.unregisterInteractiveComponent(this);\n    };\n    ResourceTimelineView.prototype.render = function (props, context) {\n        _super.prototype.render.call(this, props, context);\n        this.renderSkeleton(context);\n        var splitProps = this.splitter.splitProps(props);\n        var hasResourceBusinessHours = this.hasResourceBusinessHours(props.resourceStore);\n        this.spreadsheet.receiveProps({\n            superHeaderText: this.superHeaderText,\n            colSpecs: this.colSpecs\n        }, context);\n        this.timeAxis.receiveProps({\n            dateProfileGenerator: props.dateProfileGenerator,\n            dateProfile: props.dateProfile\n        }, context);\n        this.startInteractive(this.timeAxis.slats.el);\n        // for all-resource bg events / selections / business-hours\n        this.lane.receiveProps(__assign({}, splitProps[''], { dateProfile: props.dateProfile, nextDayThreshold: context.nextDayThreshold, businessHours: hasResourceBusinessHours ? null : props.businessHours }), context);\n        var newRowNodes = this.buildRowNodes(props.resourceStore, this.groupSpecs, this.orderSpecs, this.isVGrouping, props.resourceEntityExpansions, context.options.resourcesInitiallyExpanded);\n        this.updateHasNesting(this.hasNesting(newRowNodes));\n        this.diffRows(newRowNodes);\n        this.updateRowProps(props.dateProfile, hasResourceBusinessHours ? props.businessHours : null, // CONFUSING, comment\n        splitProps);\n        this.startNowIndicator(props.dateProfile, props.dateProfileGenerator);\n    };\n    ResourceTimelineView.prototype._renderSkeleton = function (context) {\n        var options = context.options, calendar = context.calendar;\n        var allColSpecs = options.resourceColumns || [];\n        var labelText = options.resourceLabelText; // TODO: view.override\n        var defaultLabelText = 'Resources'; // TODO: view.defaults\n        var superHeaderText = null;\n        if (!allColSpecs.length) {\n            allColSpecs.push({\n                labelText: labelText || defaultLabelText,\n                text: buildResourceTextFunc(options.resourceText, calendar)\n            });\n        }\n        else {\n            superHeaderText = labelText;\n        }\n        var plainColSpecs = [];\n        var groupColSpecs = [];\n        var groupSpecs = [];\n        var isVGrouping = false;\n        var isHGrouping = false;\n        for (var _i = 0, allColSpecs_1 = allColSpecs; _i < allColSpecs_1.length; _i++) {\n            var colSpec = allColSpecs_1[_i];\n            if (colSpec.group) {\n                groupColSpecs.push(colSpec);\n            }\n            else {\n                plainColSpecs.push(colSpec);\n            }\n        }\n        plainColSpecs[0].isMain = true;\n        if (groupColSpecs.length) {\n            groupSpecs = groupColSpecs;\n            isVGrouping = true;\n        }\n        else {\n            var hGroupField = options.resourceGroupField;\n            if (hGroupField) {\n                isHGrouping = true;\n                groupSpecs.push({\n                    field: hGroupField,\n                    text: options.resourceGroupText,\n                    render: options.resourceGroupRender\n                });\n            }\n        }\n        var allOrderSpecs = parseFieldSpecs(options.resourceOrder);\n        var plainOrderSpecs = [];\n        for (var _a = 0, allOrderSpecs_1 = allOrderSpecs; _a < allOrderSpecs_1.length; _a++) {\n            var orderSpec = allOrderSpecs_1[_a];\n            var isGroup = false;\n            for (var _b = 0, groupSpecs_1 = groupSpecs; _b < groupSpecs_1.length; _b++) {\n                var groupSpec = groupSpecs_1[_b];\n                if (groupSpec.field === orderSpec.field) {\n                    groupSpec.order = orderSpec.order; // -1, 0, 1\n                    isGroup = true;\n                    break;\n                }\n            }\n            if (!isGroup) {\n                plainOrderSpecs.push(orderSpec);\n            }\n        }\n        this.superHeaderText = superHeaderText;\n        this.isVGrouping = isVGrouping;\n        this.isHGrouping = isHGrouping;\n        this.groupSpecs = groupSpecs;\n        this.colSpecs = groupColSpecs.concat(plainColSpecs);\n        this.orderSpecs = plainOrderSpecs;\n        // START RENDERING...\n        this.el.classList.add('fc-timeline');\n        if (options.eventOverlap === false) {\n            this.el.classList.add('fc-no-overlap');\n        }\n        this.el.innerHTML = this.renderSkeletonHtml();\n        this.resourceAreaHeadEl = this.el.querySelector('thead .fc-resource-area');\n        this.setResourceAreaWidth(options.resourceAreaWidth);\n        this.initResourceAreaWidthDragging();\n        this.miscHeight = this.el.getBoundingClientRect().height;\n        this.spreadsheet = new Spreadsheet(this.resourceAreaHeadEl, this.el.querySelector('tbody .fc-resource-area'));\n        this.timeAxis = new TimeAxis(this.el.querySelector('thead .fc-time-area'), this.el.querySelector('tbody .fc-time-area'));\n        var timeAxisRowContainer = createElement('div', { className: 'fc-rows' }, '<table><tbody /></table>');\n        this.timeAxis.layout.bodyScroller.enhancedScroll.canvas.contentEl.appendChild(timeAxisRowContainer);\n        this.timeAxisTbody = timeAxisRowContainer.querySelector('tbody');\n        this.lane = new TimelineLane(null, this.timeAxis.layout.bodyScroller.enhancedScroll.canvas.bgEl, this.timeAxis);\n        this.bodyScrollJoiner = new ScrollJoiner('vertical', [\n            this.spreadsheet.layout.bodyScroller,\n            this.timeAxis.layout.bodyScroller\n        ]);\n        // after scrolljoiner\n        this.spreadsheetBodyStickyScroller = new StickyScroller(this.spreadsheet.layout.bodyScroller.enhancedScroll, context.isRtl, true // isVertical\n        );\n    };\n    ResourceTimelineView.prototype._unrenderSkeleton = function (context) {\n        this.startInteractive.unrender(); // \"unrender\" bad name\n        this.destroyRows(); // wierd to call this here\n        this.spreadsheet.destroy();\n        this.timeAxis.destroy();\n        this.lane.destroy();\n        this.spreadsheetBodyStickyScroller.destroy();\n        this.el.classList.remove('fc-timeline');\n        this.el.classList.remove('fc-no-overlap');\n    };\n    ResourceTimelineView.prototype.renderSkeletonHtml = function () {\n        var theme = this.context.theme;\n        return \"<table class=\\\"\" + theme.getClass('tableGrid') + \"\\\"> <thead class=\\\"fc-head\\\"> <tr> <td class=\\\"fc-resource-area \" + theme.getClass('widgetHeader') + \"\\\"></td> <td class=\\\"fc-divider fc-col-resizer \" + theme.getClass('widgetHeader') + \"\\\"></td> <td class=\\\"fc-time-area \" + theme.getClass('widgetHeader') + \"\\\"></td> </tr> </thead> <tbody class=\\\"fc-body\\\"> <tr> <td class=\\\"fc-resource-area \" + theme.getClass('widgetContent') + \"\\\"></td> <td class=\\\"fc-divider fc-col-resizer \" + theme.getClass('widgetHeader') + \"\\\"></td> <td class=\\\"fc-time-area \" + theme.getClass('widgetContent') + \"\\\"></td> </tr> </tbody> </table>\";\n    };\n    ResourceTimelineView.prototype._updateHasNesting = function (isNesting) {\n        var classList = this.el.classList;\n        if (isNesting) {\n            classList.remove('fc-flat');\n        }\n        else {\n            classList.add('fc-flat');\n        }\n    };\n    ResourceTimelineView.prototype.diffRows = function (newNodes) {\n        var oldNodes = this.rowNodes;\n        var oldLen = oldNodes.length;\n        var oldIndexHash = {}; // id -> index\n        var oldI = 0;\n        var newI = 0;\n        for (oldI = 0; oldI < oldLen; oldI++) {\n            oldIndexHash[oldNodes[oldI].id] = oldI;\n        }\n        // iterate new nodes\n        for (oldI = 0, newI = 0; newI < newNodes.length; newI++) {\n            var newNode = newNodes[newI];\n            var oldIFound = oldIndexHash[newNode.id];\n            if (oldIFound != null && oldIFound >= oldI) {\n                this.removeRows(newI, oldIFound - oldI, oldNodes); // won't do anything if same index\n                oldI = oldIFound + 1;\n            }\n            else {\n                this.addRow(newI, newNode);\n            }\n        }\n        // old rows that weren't found need to be removed\n        this.removeRows(newI, oldLen - oldI, oldNodes); // won't do anything if same index\n        this.rowNodes = newNodes;\n    };\n    /*\n    rowComponents is the in-progress result\n    */\n    ResourceTimelineView.prototype.addRow = function (index, rowNode) {\n        var _a = this, rowComponents = _a.rowComponents, rowComponentsById = _a.rowComponentsById;\n        var nextComponent = rowComponents[index];\n        var newComponent = this.buildChildComponent(rowNode, this.spreadsheet.bodyTbody, nextComponent ? nextComponent.spreadsheetTr : null, this.timeAxisTbody, nextComponent ? nextComponent.timeAxisTr : null);\n        rowComponents.splice(index, 0, newComponent);\n        rowComponentsById[rowNode.id] = newComponent;\n    };\n    ResourceTimelineView.prototype.removeRows = function (startIndex, len, oldRowNodes) {\n        if (len) {\n            var _a = this, rowComponents = _a.rowComponents, rowComponentsById = _a.rowComponentsById;\n            for (var i = 0; i < len; i++) {\n                var rowComponent = rowComponents[startIndex + i];\n                rowComponent.destroy();\n                delete rowComponentsById[oldRowNodes[i].id];\n            }\n            rowComponents.splice(startIndex, len);\n        }\n    };\n    ResourceTimelineView.prototype.buildChildComponent = function (node, spreadsheetTbody, spreadsheetNext, timeAxisTbody, timeAxisNext) {\n        if (node.group) {\n            return new GroupRow(spreadsheetTbody, spreadsheetNext, timeAxisTbody, timeAxisNext);\n        }\n        else if (node.resource) {\n            return new ResourceRow(spreadsheetTbody, spreadsheetNext, timeAxisTbody, timeAxisNext, this.timeAxis);\n        }\n    };\n    ResourceTimelineView.prototype.updateRowProps = function (dateProfile, fallbackBusinessHours, splitProps) {\n        var _a = this, rowNodes = _a.rowNodes, rowComponents = _a.rowComponents, context = _a.context;\n        for (var i = 0; i < rowNodes.length; i++) {\n            var rowNode = rowNodes[i];\n            var rowComponent = rowComponents[i];\n            if (rowNode.group) {\n                rowComponent.receiveProps({\n                    spreadsheetColCnt: this.colSpecs.length,\n                    id: rowNode.id,\n                    isExpanded: rowNode.isExpanded,\n                    group: rowNode.group\n                }, context);\n            }\n            else {\n                var resource = rowNode.resource;\n                rowComponent.receiveProps(__assign({}, splitProps[resource.id], { dateProfile: dateProfile, nextDayThreshold: context.nextDayThreshold, businessHours: resource.businessHours || fallbackBusinessHours, colSpecs: this.colSpecs, id: rowNode.id, rowSpans: rowNode.rowSpans, depth: rowNode.depth, isExpanded: rowNode.isExpanded, hasChildren: rowNode.hasChildren, resource: rowNode.resource }), context);\n            }\n        }\n    };\n    ResourceTimelineView.prototype.updateSize = function (isResize, viewHeight, isAuto) {\n        // FYI: this ordering is really important\n        var calendar = this.context.calendar;\n        var isBaseSizing = isResize || calendar.isViewUpdated || calendar.isDatesUpdated || calendar.isEventsUpdated;\n        if (isBaseSizing) {\n            this.syncHeadHeights();\n        }\n        // TODO: don't always call these (but guarding behind isBaseSizing was unreliable)\n        this.timeAxis.updateSize(isResize, viewHeight - this.miscHeight, isAuto);\n        this.spreadsheet.updateSize(isResize, viewHeight - this.miscHeight, isAuto);\n        var rowSizingCnt = this.updateRowSizes(isResize);\n        this.lane.updateSize(isResize); // is efficient. uses flags\n        if (isBaseSizing || rowSizingCnt) {\n            this.bodyScrollJoiner.update();\n            this.timeAxis.layout.scrollJoiner.update(); // hack\n            this.rowPositions = new PositionCache(this.timeAxis.slats.el, this.rowComponents.map(function (rowComponent) {\n                return rowComponent.timeAxisTr;\n            }), false, // isHorizontal\n            true // isVertical\n            );\n            this.rowPositions.build();\n            this.isStickyScrollDirty = true;\n        }\n    };\n    ResourceTimelineView.prototype.syncHeadHeights = function () {\n        var spreadsheetHeadEl = this.spreadsheet.header.tableEl;\n        var timeAxisHeadEl = this.timeAxis.header.tableEl;\n        spreadsheetHeadEl.style.height = '';\n        timeAxisHeadEl.style.height = '';\n        var max = Math.max(spreadsheetHeadEl.getBoundingClientRect().height, timeAxisHeadEl.getBoundingClientRect().height);\n        spreadsheetHeadEl.style.height =\n            timeAxisHeadEl.style.height = max + 'px';\n    };\n    ResourceTimelineView.prototype.updateRowSizes = function (isResize) {\n        var dirtyRowComponents = this.rowComponents;\n        if (!isResize) {\n            dirtyRowComponents = dirtyRowComponents.filter(function (rowComponent) {\n                return rowComponent.isSizeDirty;\n            });\n        }\n        var elArrays = dirtyRowComponents.map(function (rowComponent) {\n            return rowComponent.getHeightEls();\n        });\n        // reset to natural heights\n        for (var _i = 0, elArrays_1 = elArrays; _i < elArrays_1.length; _i++) {\n            var elArray = elArrays_1[_i];\n            for (var _a = 0, elArray_1 = elArray; _a < elArray_1.length; _a++) {\n                var el = elArray_1[_a];\n                el.style.height = '';\n            }\n        }\n        // let rows update their contents' heights\n        for (var _b = 0, dirtyRowComponents_1 = dirtyRowComponents; _b < dirtyRowComponents_1.length; _b++) {\n            var rowComponent = dirtyRowComponents_1[_b];\n            rowComponent.updateSize(isResize); // will reset isSizeDirty\n        }\n        var maxHeights = elArrays.map(function (elArray) {\n            var maxHeight = null;\n            for (var _i = 0, elArray_2 = elArray; _i < elArray_2.length; _i++) {\n                var el = elArray_2[_i];\n                var height = el.getBoundingClientRect().height;\n                if (maxHeight === null || height > maxHeight) {\n                    maxHeight = height;\n                }\n            }\n            return maxHeight;\n        });\n        for (var i = 0; i < elArrays.length; i++) {\n            for (var _c = 0, _d = elArrays[i]; _c < _d.length; _c++) {\n                var el = _d[_c];\n                el.style.height = maxHeights[i] + 'px';\n            }\n        }\n        return dirtyRowComponents.length;\n    };\n    ResourceTimelineView.prototype.destroyRows = function () {\n        for (var _i = 0, _a = this.rowComponents; _i < _a.length; _i++) {\n            var rowComponent = _a[_i];\n            rowComponent.destroy();\n        }\n        this.rowNodes = [];\n        this.rowComponents = [];\n    };\n    ResourceTimelineView.prototype.destroy = function () {\n        for (var _i = 0, _a = this.resourceAreaWidthDraggings; _i < _a.length; _i++) {\n            var resourceAreaWidthDragging = _a[_i];\n            resourceAreaWidthDragging.destroy();\n        }\n        this.renderSkeleton.unrender(); // will call destroyRows\n        _super.prototype.destroy.call(this);\n    };\n    // Now Indicator\n    // ------------------------------------------------------------------------------------------\n    ResourceTimelineView.prototype.getNowIndicatorUnit = function (dateProfile, dateProfileGenerator) {\n        return this.timeAxis.getNowIndicatorUnit(dateProfile, dateProfileGenerator);\n    };\n    ResourceTimelineView.prototype.renderNowIndicator = function (date) {\n        this.timeAxis.renderNowIndicator(date);\n    };\n    ResourceTimelineView.prototype.unrenderNowIndicator = function () {\n        this.timeAxis.unrenderNowIndicator();\n    };\n    // Scrolling\n    // ------------------------------------------------------------------------------------------------------------------\n    // this is useful for scrolling prev/next dates while resource is scrolled down\n    ResourceTimelineView.prototype.queryScroll = function () {\n        var scroll = _super.prototype.queryScroll.call(this);\n        if (this.props.resourceStore) {\n            __assign(scroll, this.queryResourceScroll());\n        }\n        return scroll;\n    };\n    ResourceTimelineView.prototype.applyScroll = function (scroll, isResize) {\n        _super.prototype.applyScroll.call(this, scroll, isResize);\n        if (this.props.resourceStore) {\n            this.applyResourceScroll(scroll);\n        }\n        // avoid updating stickyscroll too often\n        if (isResize || this.isStickyScrollDirty) {\n            this.isStickyScrollDirty = false;\n            this.spreadsheetBodyStickyScroller.updateSize();\n            this.timeAxis.updateStickyScrollers();\n        }\n    };\n    ResourceTimelineView.prototype.computeDateScroll = function (duration) {\n        return this.timeAxis.computeDateScroll(duration);\n    };\n    ResourceTimelineView.prototype.queryDateScroll = function () {\n        return this.timeAxis.queryDateScroll();\n    };\n    ResourceTimelineView.prototype.applyDateScroll = function (scroll) {\n        this.timeAxis.applyDateScroll(scroll);\n    };\n    ResourceTimelineView.prototype.queryResourceScroll = function () {\n        var _a = this, rowComponents = _a.rowComponents, rowNodes = _a.rowNodes;\n        var scroll = {};\n        var scrollerTop = this.timeAxis.layout.bodyScroller.el.getBoundingClientRect().top; // fixed position\n        for (var i = 0; i < rowComponents.length; i++) {\n            var rowComponent = rowComponents[i];\n            var rowNode = rowNodes[i];\n            var el = rowComponent.timeAxisTr;\n            var elBottom = el.getBoundingClientRect().bottom; // fixed position\n            if (elBottom > scrollerTop) {\n                scroll.rowId = rowNode.id;\n                scroll.bottom = elBottom - scrollerTop;\n                break;\n            }\n        }\n        // TODO: what about left scroll state for spreadsheet area?\n        return scroll;\n    };\n    ResourceTimelineView.prototype.applyResourceScroll = function (scroll) {\n        var rowId = scroll.forcedRowId || scroll.rowId;\n        if (rowId) {\n            var rowComponent = this.rowComponentsById[rowId];\n            if (rowComponent) {\n                var el = rowComponent.timeAxisTr;\n                if (el) {\n                    var innerTop = this.timeAxis.layout.bodyScroller.enhancedScroll.canvas.el.getBoundingClientRect().top;\n                    var rowRect = el.getBoundingClientRect();\n                    var scrollTop = (scroll.forcedRowId ?\n                        rowRect.top : // just use top edge\n                        rowRect.bottom - scroll.bottom) - // pixels from bottom edge\n                        innerTop;\n                    this.timeAxis.layout.bodyScroller.enhancedScroll.setScrollTop(scrollTop);\n                    this.spreadsheet.layout.bodyScroller.enhancedScroll.setScrollTop(scrollTop);\n                }\n            }\n        }\n    };\n    // TODO: scrollToResource\n    // Hit System\n    // ------------------------------------------------------------------------------------------\n    ResourceTimelineView.prototype.buildPositionCaches = function () {\n        this.timeAxis.slats.updateSize();\n        this.rowPositions.build();\n    };\n    ResourceTimelineView.prototype.queryHit = function (positionLeft, positionTop) {\n        var rowPositions = this.rowPositions;\n        var slats = this.timeAxis.slats;\n        var rowIndex = rowPositions.topToIndex(positionTop);\n        if (rowIndex != null) {\n            var resource = this.rowNodes[rowIndex].resource;\n            if (resource) { // not a group\n                var slatHit = slats.positionToHit(positionLeft);\n                if (slatHit) {\n                    return {\n                        component: this,\n                        dateSpan: {\n                            range: slatHit.dateSpan.range,\n                            allDay: slatHit.dateSpan.allDay,\n                            resourceId: resource.id\n                        },\n                        rect: {\n                            left: slatHit.left,\n                            right: slatHit.right,\n                            top: rowPositions.tops[rowIndex],\n                            bottom: rowPositions.bottoms[rowIndex]\n                        },\n                        dayEl: slatHit.dayEl,\n                        layer: 0\n                    };\n                }\n            }\n        }\n    };\n    // Resource Area\n    // ------------------------------------------------------------------------------------------------------------------\n    ResourceTimelineView.prototype.setResourceAreaWidth = function (widthVal) {\n        this.resourceAreaWidth = widthVal;\n        applyStyleProp(this.resourceAreaHeadEl, 'width', widthVal || '');\n    };\n    ResourceTimelineView.prototype.initResourceAreaWidthDragging = function () {\n        var _this = this;\n        var _a = this.context, calendar = _a.calendar, isRtl = _a.isRtl;\n        var resourceAreaDividerEls = Array.prototype.slice.call(this.el.querySelectorAll('.fc-col-resizer'));\n        var ElementDraggingImpl = calendar.pluginSystem.hooks.elementDraggingImpl;\n        if (ElementDraggingImpl) {\n            this.resourceAreaWidthDraggings = resourceAreaDividerEls.map(function (el) {\n                var dragging = new ElementDraggingImpl(el);\n                var dragStartWidth;\n                var viewWidth;\n                dragging.emitter.on('dragstart', function () {\n                    dragStartWidth = _this.resourceAreaWidth;\n                    if (typeof dragStartWidth !== 'number') {\n                        dragStartWidth = _this.resourceAreaHeadEl.getBoundingClientRect().width;\n                    }\n                    viewWidth = _this.el.getBoundingClientRect().width;\n                });\n                dragging.emitter.on('dragmove', function (pev) {\n                    var newWidth = dragStartWidth + pev.deltaX * (isRtl ? -1 : 1);\n                    newWidth = Math.max(newWidth, MIN_RESOURCE_AREA_WIDTH);\n                    newWidth = Math.min(newWidth, viewWidth - MIN_RESOURCE_AREA_WIDTH);\n                    _this.setResourceAreaWidth(newWidth);\n                });\n                dragging.setAutoScrollEnabled(false); // because gets weird with auto-scrolling time area\n                return dragging;\n            });\n        }\n    };\n    ResourceTimelineView.needsResourceData = true; // for ResourceViewProps\n    return ResourceTimelineView;\n}(View));\nfunction hasResourceBusinessHours(resourceStore) {\n    for (var resourceId in resourceStore) {\n        var resource = resourceStore[resourceId];\n        if (resource.businessHours) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction hasNesting(nodes) {\n    for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {\n        var node = nodes_1[_i];\n        if (node.group) {\n            return true;\n        }\n        else if (node.resource) {\n            if (node.hasChildren) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\n\nvar main = createPlugin({\n    deps: [ResourceCommonPlugin, TimelinePlugin],\n    defaultView: 'resourceTimelineDay',\n    views: {\n        resourceTimeline: {\n            class: ResourceTimelineView,\n            resourceAreaWidth: '30%',\n            resourcesInitiallyExpanded: true,\n            eventResizableFromStart: true // TODO: not DRY with this same setting in the main timeline config\n        },\n        resourceTimelineDay: {\n            type: 'resourceTimeline',\n            duration: { days: 1 }\n        },\n        resourceTimelineWeek: {\n            type: 'resourceTimeline',\n            duration: { weeks: 1 }\n        },\n        resourceTimelineMonth: {\n            type: 'resourceTimeline',\n            duration: { months: 1 }\n        },\n        resourceTimelineYear: {\n            type: 'resourceTimeline',\n            duration: { years: 1 }\n        }\n    }\n});\n\nexport default main;\nexport { ResourceTimelineView };\n","/*!\nFullCalendar Timeline Plugin v4.4.2\nDocs & License: https://fullcalendar.io/scheduler\n(c) 2019 Adam Shaw\n*/\n\nimport { htmlToElement, forceClassName, applyStyle, debounce, preventDefault, ScrollComponent, EmitterMixin, removeElement, createElement, computeEdges, asRoughMs, isSingleDay, getDayClasses, findElements, Component, PositionCache, findChildren, isInt, multiplyDuration, config, createFormatter, greatestDurationDenominator, createDuration, wholeDivideDurations, addDays, startOfDay, computeVisibleDayRange, asRoughMinutes, padStart, asRoughSeconds, diffWholeDays, buildGotoAnchorHtml, htmlEscape, translateRect, memoizeRendering, rangeContainsMarker, computeEventDraggable, computeEventStartResizable, computeEventEndResizable, cssToStr, computeHeightAndMargins, applyStyleProp, FgEventRenderer, FillRenderer, DateComponent, intersectRanges, addMs, Slicer, View, createPlugin } from '@fullcalendar/core';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\n/*\nA rectangular area of content that lives within a Scroller.\nCan have \"gutters\", areas of dead spacing around the perimeter.\nAlso very useful for forcing a width, which a Scroller cannot do alone.\nHas a content area that lives above a background area.\n*/\nvar ScrollerCanvas = /** @class */ (function () {\n    function ScrollerCanvas() {\n        this.gutters = {};\n        this.el = htmlToElement(\"<div class=\\\"fc-scroller-canvas\\\"> <div class=\\\"fc-content\\\"></div> <div class=\\\"fc-bg\\\"></div> </div>\");\n        this.contentEl = this.el.querySelector('.fc-content');\n        this.bgEl = this.el.querySelector('.fc-bg');\n    }\n    /*\n    If falsy, resets all the gutters to 0\n    */\n    ScrollerCanvas.prototype.setGutters = function (gutters) {\n        if (!gutters) {\n            this.gutters = {};\n        }\n        else {\n            __assign(this.gutters, gutters);\n        }\n        this.updateSize();\n    };\n    ScrollerCanvas.prototype.setWidth = function (width) {\n        this.width = width;\n        this.updateSize();\n    };\n    ScrollerCanvas.prototype.setMinWidth = function (minWidth) {\n        this.minWidth = minWidth;\n        this.updateSize();\n    };\n    ScrollerCanvas.prototype.clearWidth = function () {\n        this.width = null;\n        this.minWidth = null;\n        this.updateSize();\n    };\n    ScrollerCanvas.prototype.updateSize = function () {\n        var _a = this, gutters = _a.gutters, el = _a.el;\n        // is border-box (width includes padding)\n        forceClassName(el, 'fc-gutter-left', gutters.left);\n        forceClassName(el, 'fc-gutter-right', gutters.right);\n        forceClassName(el, 'fc-gutter-top', gutters.top);\n        forceClassName(el, 'fc-gutter-bottom', gutters.bottom);\n        applyStyle(el, {\n            paddingLeft: gutters.left || '',\n            paddingRight: gutters.right || '',\n            paddingTop: gutters.top || '',\n            paddingBottom: gutters.bottom || '',\n            width: (this.width != null) ?\n                this.width + (gutters.left || 0) + (gutters.right || 0) :\n                '',\n            minWidth: (this.minWidth != null) ?\n                this.minWidth + (gutters.left || 0) + (gutters.right || 0) :\n                ''\n        });\n        applyStyle(this.bgEl, {\n            left: gutters.left || '',\n            right: gutters.right || '',\n            top: gutters.top || '',\n            bottom: gutters.bottom || ''\n        });\n    };\n    return ScrollerCanvas;\n}());\n\nvar EnhancedScroller = /** @class */ (function (_super) {\n    __extends(EnhancedScroller, _super);\n    function EnhancedScroller(overflowX, overflowY) {\n        var _this = _super.call(this, overflowX, overflowY) || this;\n        // Scroll Events\n        // ----------------------------------------------------------------------------------------------\n        _this.reportScroll = function () {\n            if (!_this.isScrolling) {\n                _this.reportScrollStart();\n            }\n            _this.trigger('scroll');\n            _this.isMoving = true;\n            _this.requestMovingEnd();\n        };\n        _this.reportScrollStart = function () {\n            if (!_this.isScrolling) {\n                _this.isScrolling = true;\n                _this.trigger('scrollStart', _this.isTouching); // created in constructor\n            }\n        };\n        // Touch Events\n        // ----------------------------------------------------------------------------------------------\n        // will fire *before* the scroll event is fired\n        _this.reportTouchStart = function () {\n            _this.isTouching = true;\n        };\n        _this.reportTouchEnd = function () {\n            if (_this.isTouching) {\n                _this.isTouching = false;\n                // if touch scrolling was re-enabled during a recent touch scroll\n                // then unbind the handlers that are preventing it from happening.\n                if (_this.isTouchScrollEnabled) {\n                    _this.unbindPreventTouchScroll(); // won't do anything if not bound\n                }\n                // if the user ended their touch, and the scroll area wasn't moving,\n                // we consider this to be the end of the scroll.\n                if (!_this.isMoving) {\n                    _this.reportScrollEnd(); // won't fire if already ended\n                }\n            }\n        };\n        _this.isScrolling = false;\n        _this.isTouching = false;\n        _this.isMoving = false;\n        _this.isTouchScrollEnabled = true;\n        _this.requestMovingEnd = debounce(_this.reportMovingEnd, 500);\n        _this.canvas = new ScrollerCanvas();\n        _this.el.appendChild(_this.canvas.el);\n        _this.applyOverflow();\n        _this.bindHandlers();\n        return _this;\n    }\n    EnhancedScroller.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.unbindHandlers();\n    };\n    // Touch scroll prevention\n    // ----------------------------------------------------------------------------------------------\n    EnhancedScroller.prototype.disableTouchScroll = function () {\n        this.isTouchScrollEnabled = false;\n        this.bindPreventTouchScroll(); // will be unbound in enableTouchScroll or reportTouchEnd\n    };\n    EnhancedScroller.prototype.enableTouchScroll = function () {\n        this.isTouchScrollEnabled = true;\n        // only immediately unbind if a touch event is NOT in progress.\n        // otherwise, it will be handled by reportTouchEnd.\n        if (!this.isTouching) {\n            this.unbindPreventTouchScroll();\n        }\n    };\n    EnhancedScroller.prototype.bindPreventTouchScroll = function () {\n        if (!this.preventTouchScrollHandler) {\n            this.el.addEventListener('touchmove', (this.preventTouchScrollHandler = preventDefault));\n        }\n    };\n    EnhancedScroller.prototype.unbindPreventTouchScroll = function () {\n        if (this.preventTouchScrollHandler) {\n            this.el.removeEventListener('touchmove', this.preventTouchScrollHandler);\n            this.preventTouchScrollHandler = null;\n        }\n    };\n    // Handlers\n    // ----------------------------------------------------------------------------------------------\n    EnhancedScroller.prototype.bindHandlers = function () {\n        this.el.addEventListener('scroll', this.reportScroll);\n        this.el.addEventListener('touchstart', this.reportTouchStart, { passive: true });\n        this.el.addEventListener('touchend', this.reportTouchEnd);\n    };\n    EnhancedScroller.prototype.unbindHandlers = function () {\n        this.el.removeEventListener('scroll', this.reportScroll);\n        this.el.removeEventListener('touchstart', this.reportTouchStart, { passive: true });\n        this.el.removeEventListener('touchend', this.reportTouchEnd);\n    };\n    EnhancedScroller.prototype.reportMovingEnd = function () {\n        this.isMoving = false;\n        // only end the scroll if not currently touching.\n        // if touching, the scrolling will end later, on touchend.\n        if (!this.isTouching) {\n            this.reportScrollEnd();\n        }\n    };\n    EnhancedScroller.prototype.reportScrollEnd = function () {\n        if (this.isScrolling) {\n            this.trigger('scrollEnd');\n            this.isScrolling = false;\n        }\n    };\n    // Horizontal Scroll Normalization\n    // ----------------------------------------------------------------------------------------------\n    // http://stackoverflow.com/questions/24276619/better-way-to-get-the-viewport-of-a-scrollable-div-in-rtl-mode/24394376#24394376\n    // TODO: move all this to util functions\n    /*\n    If RTL, and scrolled to the left, returns NEGATIVE value (like Firefox)\n    */\n    EnhancedScroller.prototype.getScrollLeft = function () {\n        var el = this.el;\n        var direction = window.getComputedStyle(el).direction;\n        var val = el.scrollLeft;\n        if (direction === 'rtl') {\n            switch (getRtlScrollSystem()) {\n                case 'positive':\n                    val = (val + el.clientWidth) - el.scrollWidth;\n                    break;\n                case 'reverse':\n                    val = -val;\n                    break;\n            }\n        }\n        return val;\n    };\n    /*\n    Accepts a NEGATIVE value for when scrolled in RTL\n    */\n    EnhancedScroller.prototype.setScrollLeft = function (val) {\n        var el = this.el;\n        var direction = window.getComputedStyle(el).direction;\n        if (direction === 'rtl') {\n            switch (getRtlScrollSystem()) {\n                case 'positive':\n                    val = (val - el.clientWidth) + el.scrollWidth;\n                    break;\n                case 'reverse':\n                    val = -val;\n                    break;\n            }\n        }\n        el.scrollLeft = val;\n    };\n    /*\n    Always returns the number of pixels scrolled from the leftmost position (even if RTL).\n    Always positive.\n    */\n    EnhancedScroller.prototype.getScrollFromLeft = function () {\n        var el = this.el;\n        var direction = window.getComputedStyle(el).direction;\n        var val = el.scrollLeft;\n        if (direction === 'rtl') {\n            switch (getRtlScrollSystem()) {\n                case 'negative':\n                    val = (val - el.clientWidth) + el.scrollWidth;\n                    break;\n                case 'reverse':\n                    val = (-val - el.clientWidth) + el.scrollWidth;\n                    break;\n            }\n        }\n        return val;\n    };\n    return EnhancedScroller;\n}(ScrollComponent));\nEmitterMixin.mixInto(EnhancedScroller);\n// Horizontal Scroll System Detection\n// ----------------------------------------------------------------------------------------------\nvar _rtlScrollSystem;\nfunction getRtlScrollSystem() {\n    return _rtlScrollSystem || (_rtlScrollSystem = detectRtlScrollSystem());\n}\nfunction detectRtlScrollSystem() {\n    var el = htmlToElement(\"<div style=\\\" position: absolute; top: -1000px; width: 1px; height: 1px; overflow: scroll; direction: rtl; font-size: 100px; \\\">A</div>\");\n    document.body.appendChild(el);\n    var system;\n    if (el.scrollLeft > 0) {\n        system = 'positive';\n    }\n    else {\n        el.scrollLeft = 1;\n        if (el.scrollLeft > 0) {\n            system = 'reverse';\n        }\n        else {\n            system = 'negative';\n        }\n    }\n    removeElement(el);\n    return system;\n}\n\n/*\nA Scroller, but with a wrapping div that allows \"clipping\" away of native scrollbars,\ngiving the appearance that there are no scrollbars.\n*/\nvar ClippedScroller = /** @class */ (function () {\n    /*\n    Received overflows can be set to 'clipped', meaning scrollbars shouldn't be visible\n    to the user, but the area should still scroll.\n    */\n    function ClippedScroller(overflowX, overflowY, parentEl) {\n        this.isHScrollbarsClipped = false;\n        this.isVScrollbarsClipped = false;\n        if (overflowX === 'clipped-scroll') {\n            overflowX = 'scroll';\n            this.isHScrollbarsClipped = true;\n        }\n        if (overflowY === 'clipped-scroll') {\n            overflowY = 'scroll';\n            this.isVScrollbarsClipped = true;\n        }\n        this.enhancedScroll = new EnhancedScroller(overflowX, overflowY);\n        parentEl.appendChild(this.el = createElement('div', {\n            className: 'fc-scroller-clip'\n        }));\n        this.el.appendChild(this.enhancedScroll.el);\n    }\n    ClippedScroller.prototype.destroy = function () {\n        removeElement(this.el);\n    };\n    ClippedScroller.prototype.updateSize = function () {\n        var enhancedScroll = this.enhancedScroll;\n        var scrollEl = enhancedScroll.el;\n        var edges = computeEdges(scrollEl);\n        var cssProps = { marginLeft: 0, marginRight: 0, marginTop: 0, marginBottom: 0 };\n        // give the inner scrolling div negative margins so that its scrollbars\n        // are nudged outside of the bounding box of the wrapper, which is overflow:hidden\n        if (this.isVScrollbarsClipped) {\n            cssProps.marginLeft = -edges.scrollbarLeft;\n            cssProps.marginRight = -edges.scrollbarRight;\n        }\n        if (this.isHScrollbarsClipped) {\n            cssProps.marginBottom = -edges.scrollbarBottom;\n        }\n        applyStyle(scrollEl, cssProps);\n        // if we are attempting to hide the scrollbars offscreen, OSX/iOS will still\n        // display the floating scrollbars. attach a className to force-hide them.\n        if ((this.isHScrollbarsClipped || (enhancedScroll.overflowX === 'hidden')) && // should never show?\n            (this.isVScrollbarsClipped || (enhancedScroll.overflowY === 'hidden')) && // should never show?\n            !( // doesn't have any scrollbar mass\n            edges.scrollbarLeft ||\n                edges.scrollbarRight ||\n                edges.scrollbarBottom)) {\n            scrollEl.classList.add('fc-no-scrollbars');\n        }\n        else {\n            scrollEl.classList.remove('fc-no-scrollbars');\n        }\n    };\n    ClippedScroller.prototype.setHeight = function (height) {\n        this.enhancedScroll.setHeight(height);\n    };\n    /*\n    Accounts for 'clipped' scrollbars\n    */\n    ClippedScroller.prototype.getScrollbarWidths = function () {\n        var widths = this.enhancedScroll.getScrollbarWidths();\n        if (this.isVScrollbarsClipped) {\n            widths.left = 0;\n            widths.right = 0;\n        }\n        if (this.isHScrollbarsClipped) {\n            widths.bottom = 0;\n        }\n        return widths;\n    };\n    return ClippedScroller;\n}());\n\nvar ScrollJoiner = /** @class */ (function () {\n    function ScrollJoiner(axis, scrollers) {\n        this.axis = axis;\n        this.scrollers = scrollers;\n        for (var _i = 0, _a = this.scrollers; _i < _a.length; _i++) {\n            var scroller = _a[_i];\n            this.initScroller(scroller);\n        }\n    }\n    ScrollJoiner.prototype.initScroller = function (scroller) {\n        var _this = this;\n        var enhancedScroll = scroller.enhancedScroll;\n        // when the user scrolls via mousewheel, we know for sure the target\n        // scroller should be the master. capture the various x-browser events that fire.\n        var onScroll = function () {\n            _this.assignMasterScroller(scroller);\n        };\n        'wheel mousewheel DomMouseScroll MozMousePixelScroll'.split(' ').forEach(function (evName) {\n            enhancedScroll.el.addEventListener(evName, onScroll);\n        });\n        enhancedScroll\n            .on('scrollStart', function () {\n            if (!_this.masterScroller) {\n                _this.assignMasterScroller(scroller);\n            }\n        })\n            .on('scroll', function () {\n            if (scroller === _this.masterScroller) {\n                for (var _i = 0, _a = _this.scrollers; _i < _a.length; _i++) {\n                    var otherScroller = _a[_i];\n                    if (otherScroller !== scroller) {\n                        switch (_this.axis) {\n                            case 'horizontal':\n                                otherScroller.enhancedScroll.el.scrollLeft = enhancedScroll.el.scrollLeft;\n                                break;\n                            case 'vertical':\n                                otherScroller.enhancedScroll.setScrollTop(enhancedScroll.getScrollTop());\n                                break;\n                        }\n                    }\n                }\n            }\n        })\n            .on('scrollEnd', function () {\n            if (scroller === _this.masterScroller) {\n                _this.unassignMasterScroller();\n            }\n        });\n    };\n    ScrollJoiner.prototype.assignMasterScroller = function (scroller) {\n        this.unassignMasterScroller();\n        this.masterScroller = scroller;\n        for (var _i = 0, _a = this.scrollers; _i < _a.length; _i++) {\n            var otherScroller = _a[_i];\n            if (otherScroller !== scroller) {\n                otherScroller.enhancedScroll.disableTouchScroll();\n            }\n        }\n    };\n    ScrollJoiner.prototype.unassignMasterScroller = function () {\n        if (this.masterScroller) {\n            for (var _i = 0, _a = this.scrollers; _i < _a.length; _i++) {\n                var otherScroller = _a[_i];\n                otherScroller.enhancedScroll.enableTouchScroll();\n            }\n            this.masterScroller = null;\n        }\n    };\n    ScrollJoiner.prototype.update = function () {\n        var allWidths = this.scrollers.map(function (scroller) { return scroller.getScrollbarWidths(); });\n        var maxLeft = 0;\n        var maxRight = 0;\n        var maxTop = 0;\n        var maxBottom = 0;\n        var widths;\n        var i;\n        for (var _i = 0, allWidths_1 = allWidths; _i < allWidths_1.length; _i++) {\n            widths = allWidths_1[_i];\n            maxLeft = Math.max(maxLeft, widths.left);\n            maxRight = Math.max(maxRight, widths.right);\n            maxTop = Math.max(maxTop, widths.top);\n            maxBottom = Math.max(maxBottom, widths.bottom);\n        }\n        for (i = 0; i < this.scrollers.length; i++) {\n            var scroller = this.scrollers[i];\n            widths = allWidths[i];\n            scroller.enhancedScroll.canvas.setGutters(this.axis === 'horizontal' ?\n                {\n                    left: maxLeft - widths.left,\n                    right: maxRight - widths.right\n                } :\n                {\n                    top: maxTop - widths.top,\n                    bottom: maxBottom - widths.bottom\n                });\n        }\n    };\n    return ScrollJoiner;\n}());\n\nvar HeaderBodyLayout = /** @class */ (function () {\n    /*\n    verticalScroll = 'auto' | 'clipped-scroll'\n    */\n    function HeaderBodyLayout(headerContainerEl, bodyContainerEl, verticalScroll) {\n        this.headerScroller = new ClippedScroller('clipped-scroll', 'hidden', headerContainerEl);\n        this.bodyScroller = new ClippedScroller('auto', verticalScroll, bodyContainerEl);\n        this.scrollJoiner = new ScrollJoiner('horizontal', [\n            this.headerScroller,\n            this.bodyScroller\n        ]);\n    }\n    HeaderBodyLayout.prototype.destroy = function () {\n        this.headerScroller.destroy();\n        this.bodyScroller.destroy();\n    };\n    HeaderBodyLayout.prototype.setHeight = function (totalHeight, isAuto) {\n        var bodyHeight;\n        if (isAuto) {\n            bodyHeight = 'auto';\n        }\n        else {\n            bodyHeight = totalHeight - this.queryHeadHeight();\n        }\n        this.bodyScroller.setHeight(bodyHeight);\n        this.headerScroller.updateSize(); // adjusts gutters and classNames\n        this.bodyScroller.updateSize(); // adjusts gutters and classNames\n        this.scrollJoiner.update();\n    };\n    HeaderBodyLayout.prototype.queryHeadHeight = function () {\n        return this.headerScroller.enhancedScroll.canvas.contentEl.getBoundingClientRect().height;\n    };\n    return HeaderBodyLayout;\n}());\n\nvar TimelineHeader = /** @class */ (function (_super) {\n    __extends(TimelineHeader, _super);\n    function TimelineHeader(parentEl) {\n        var _this = _super.call(this) || this;\n        _this.parentEl = parentEl;\n        return _this;\n    }\n    TimelineHeader.prototype.firstContext = function (context) {\n        this.parentEl.appendChild(this.tableEl = createElement('table', {\n            className: context.theme.getClass('tableGrid')\n        }));\n    };\n    TimelineHeader.prototype.destroy = function () {\n        removeElement(this.tableEl);\n        _super.prototype.destroy.call(this);\n    };\n    TimelineHeader.prototype.render = function (props) {\n        this.renderDates(props.tDateProfile);\n    };\n    TimelineHeader.prototype.renderDates = function (tDateProfile) {\n        var _a = this.context, dateEnv = _a.dateEnv, theme = _a.theme;\n        var cellRows = tDateProfile.cellRows;\n        var lastRow = cellRows[cellRows.length - 1];\n        var isChrono = asRoughMs(tDateProfile.labelInterval) > asRoughMs(tDateProfile.slotDuration);\n        var oneDay = isSingleDay(tDateProfile.slotDuration);\n        var html = '<colgroup>';\n        // needs to be a col for each body slat. header cells will have colspans\n        for (var i = tDateProfile.slotCnt - 1; i >= 0; i--) {\n            html += '<col/>';\n        }\n        html += '</colgroup>';\n        html += '<tbody>';\n        for (var _i = 0, cellRows_1 = cellRows; _i < cellRows_1.length; _i++) {\n            var rowCells = cellRows_1[_i];\n            var isLast = rowCells === lastRow;\n            html += '<tr' + (isChrono && isLast ? ' class=\"fc-chrono\"' : '') + '>';\n            for (var _b = 0, rowCells_1 = rowCells; _b < rowCells_1.length; _b++) {\n                var cell = rowCells_1[_b];\n                var headerCellClassNames = [theme.getClass('widgetHeader')];\n                if (cell.isWeekStart) {\n                    headerCellClassNames.push('fc-em-cell');\n                }\n                if (oneDay) {\n                    headerCellClassNames = headerCellClassNames.concat(getDayClasses(cell.date, this.props.dateProfile, this.context, true) // adds \"today\" class and other day-based classes\n                    );\n                }\n                html +=\n                    '<th class=\"' + headerCellClassNames.join(' ') + '\"' +\n                        ' data-date=\"' + dateEnv.formatIso(cell.date, { omitTime: !tDateProfile.isTimeScale, omitTimeZoneOffset: true }) + '\"' +\n                        (cell.colspan > 1 ? ' colspan=\"' + cell.colspan + '\"' : '') +\n                        '>' +\n                        '<div class=\"fc-cell-content\">' +\n                        cell.spanHtml +\n                        '</div>' +\n                        '</th>';\n            }\n            html += '</tr>';\n        }\n        html += '</tbody>';\n        this.tableEl.innerHTML = html; // TODO: does this work cross-browser?\n        this.slatColEls = findElements(this.tableEl, 'col');\n        this.innerEls = findElements(this.tableEl.querySelector('tr:last-child'), // compound selector won't work because of query-root problem\n        'th .fc-cell-text');\n        findElements(this.tableEl.querySelectorAll('tr:not(:last-child)'), // compound selector won't work because of query-root problem\n        'th .fc-cell-text').forEach(function (innerEl) {\n            innerEl.classList.add('fc-sticky');\n        });\n    };\n    return TimelineHeader;\n}(Component));\n\nvar TimelineSlats = /** @class */ (function (_super) {\n    __extends(TimelineSlats, _super);\n    function TimelineSlats(parentEl) {\n        var _this = _super.call(this) || this;\n        parentEl.appendChild(_this.el = createElement('div', { className: 'fc-slats' }));\n        return _this;\n    }\n    TimelineSlats.prototype.destroy = function () {\n        removeElement(this.el);\n        _super.prototype.destroy.call(this);\n    };\n    TimelineSlats.prototype.render = function (props) {\n        this.renderDates(props.tDateProfile);\n    };\n    TimelineSlats.prototype.renderDates = function (tDateProfile) {\n        var _a = this.context, calendar = _a.calendar, view = _a.view, theme = _a.theme, dateEnv = _a.dateEnv;\n        var slotDates = tDateProfile.slotDates, isWeekStarts = tDateProfile.isWeekStarts;\n        var html = '<table class=\"' + theme.getClass('tableGrid') + '\">' +\n            '<colgroup>';\n        for (var i = 0; i < slotDates.length; i++) {\n            html += '<col/>';\n        }\n        html += '</colgroup>';\n        html += '<tbody><tr>';\n        for (var i = 0; i < slotDates.length; i++) {\n            html += this.slatCellHtml(slotDates[i], isWeekStarts[i], tDateProfile);\n        }\n        html += '</tr></tbody></table>';\n        this.el.innerHTML = html;\n        this.slatColEls = findElements(this.el, 'col');\n        this.slatEls = findElements(this.el, 'td');\n        for (var i = 0; i < slotDates.length; i++) {\n            calendar.publiclyTrigger('dayRender', [\n                {\n                    date: dateEnv.toDate(slotDates[i]),\n                    el: this.slatEls[i],\n                    view: view\n                }\n            ]);\n        }\n        this.outerCoordCache = new PositionCache(this.el, this.slatEls, true, // isHorizontal\n        false // isVertical\n        );\n        // for the inner divs within the slats\n        // used for event rendering and scrollTime, to disregard slat border\n        this.innerCoordCache = new PositionCache(this.el, findChildren(this.slatEls, 'div'), true, // isHorizontal\n        false // isVertical\n        );\n    };\n    TimelineSlats.prototype.slatCellHtml = function (date, isEm, tDateProfile) {\n        var _a = this.context, theme = _a.theme, dateEnv = _a.dateEnv;\n        var classes;\n        if (tDateProfile.isTimeScale) {\n            classes = [];\n            classes.push(isInt(dateEnv.countDurationsBetween(tDateProfile.normalizedRange.start, date, tDateProfile.labelInterval)) ?\n                'fc-major' :\n                'fc-minor');\n        }\n        else {\n            classes = getDayClasses(date, this.props.dateProfile, this.context);\n            classes.push('fc-day');\n        }\n        classes.unshift(theme.getClass('widgetContent'));\n        if (isEm) {\n            classes.push('fc-em-cell');\n        }\n        return '<td class=\"' + classes.join(' ') + '\"' +\n            ' data-date=\"' + dateEnv.formatIso(date, { omitTime: !tDateProfile.isTimeScale, omitTimeZoneOffset: true }) + '\"' +\n            '><div></div></td>';\n    };\n    TimelineSlats.prototype.updateSize = function () {\n        this.outerCoordCache.build();\n        this.innerCoordCache.build();\n    };\n    TimelineSlats.prototype.positionToHit = function (leftPosition) {\n        var outerCoordCache = this.outerCoordCache;\n        var _a = this.context, dateEnv = _a.dateEnv, isRtl = _a.isRtl;\n        var tDateProfile = this.props.tDateProfile;\n        var slatIndex = outerCoordCache.leftToIndex(leftPosition);\n        if (slatIndex != null) {\n            // somewhat similar to what TimeGrid does. consolidate?\n            var slatWidth = outerCoordCache.getWidth(slatIndex);\n            var partial = isRtl ?\n                (outerCoordCache.rights[slatIndex] - leftPosition) / slatWidth :\n                (leftPosition - outerCoordCache.lefts[slatIndex]) / slatWidth;\n            var localSnapIndex = Math.floor(partial * tDateProfile.snapsPerSlot);\n            var start = dateEnv.add(tDateProfile.slotDates[slatIndex], multiplyDuration(tDateProfile.snapDuration, localSnapIndex));\n            var end = dateEnv.add(start, tDateProfile.snapDuration);\n            return {\n                dateSpan: {\n                    range: { start: start, end: end },\n                    allDay: !this.props.tDateProfile.isTimeScale\n                },\n                dayEl: this.slatColEls[slatIndex],\n                left: outerCoordCache.lefts[slatIndex],\n                right: outerCoordCache.rights[slatIndex]\n            };\n        }\n        return null;\n    };\n    return TimelineSlats;\n}(Component));\n\nvar MIN_AUTO_LABELS = 18; // more than `12` months but less that `24` hours\nvar MAX_AUTO_SLOTS_PER_LABEL = 6; // allows 6 10-min slots in an hour\nvar MAX_AUTO_CELLS = 200; // allows 4-days to have a :30 slot duration\nconfig.MAX_TIMELINE_SLOTS = 1000;\n// potential nice values for slot-duration and interval-duration\nvar STOCK_SUB_DURATIONS = [\n    { years: 1 },\n    { months: 1 },\n    { days: 1 },\n    { hours: 1 },\n    { minutes: 30 },\n    { minutes: 15 },\n    { minutes: 10 },\n    { minutes: 5 },\n    { minutes: 1 },\n    { seconds: 30 },\n    { seconds: 15 },\n    { seconds: 10 },\n    { seconds: 5 },\n    { seconds: 1 },\n    { milliseconds: 500 },\n    { milliseconds: 100 },\n    { milliseconds: 10 },\n    { milliseconds: 1 }\n];\nfunction buildTimelineDateProfile(dateProfile, dateEnv, allOptions, dateProfileGenerator) {\n    var tDateProfile = {\n        labelInterval: queryDurationOption(allOptions, 'slotLabelInterval'),\n        slotDuration: queryDurationOption(allOptions, 'slotDuration')\n    };\n    validateLabelAndSlot(tDateProfile, dateProfile, dateEnv); // validate after computed grid duration\n    ensureLabelInterval(tDateProfile, dateProfile, dateEnv);\n    ensureSlotDuration(tDateProfile, dateProfile, dateEnv);\n    var input = allOptions.slotLabelFormat;\n    var rawFormats = Array.isArray(input) ?\n        input\n        : (input != null) ?\n            [input]\n            :\n                computeHeaderFormats(tDateProfile, dateProfile, dateEnv, allOptions);\n    tDateProfile.headerFormats = rawFormats.map(function (rawFormat) {\n        return createFormatter(rawFormat);\n    });\n    tDateProfile.isTimeScale = Boolean(tDateProfile.slotDuration.milliseconds);\n    var largeUnit = null;\n    if (!tDateProfile.isTimeScale) {\n        var slotUnit = greatestDurationDenominator(tDateProfile.slotDuration).unit;\n        if (/year|month|week/.test(slotUnit)) {\n            largeUnit = slotUnit;\n        }\n    }\n    tDateProfile.largeUnit = largeUnit;\n    tDateProfile.emphasizeWeeks =\n        isSingleDay(tDateProfile.slotDuration) &&\n            currentRangeAs('weeks', dateProfile, dateEnv) >= 2 &&\n            !allOptions.businessHours;\n    /*\n    console.log('label interval =', timelineView.labelInterval.humanize())\n    console.log('slot duration =', timelineView.slotDuration.humanize())\n    console.log('header formats =', timelineView.headerFormats)\n    console.log('isTimeScale', timelineView.isTimeScale)\n    console.log('largeUnit', timelineView.largeUnit)\n    */\n    var rawSnapDuration = allOptions.snapDuration;\n    var snapDuration;\n    var snapsPerSlot;\n    if (rawSnapDuration) {\n        snapDuration = createDuration(rawSnapDuration);\n        snapsPerSlot = wholeDivideDurations(tDateProfile.slotDuration, snapDuration);\n        // ^ TODO: warning if not whole?\n    }\n    if (snapsPerSlot == null) {\n        snapDuration = tDateProfile.slotDuration;\n        snapsPerSlot = 1;\n    }\n    tDateProfile.snapDuration = snapDuration;\n    tDateProfile.snapsPerSlot = snapsPerSlot;\n    // more...\n    var timeWindowMs = asRoughMs(dateProfile.maxTime) - asRoughMs(dateProfile.minTime);\n    // TODO: why not use normalizeRange!?\n    var normalizedStart = normalizeDate(dateProfile.renderRange.start, tDateProfile, dateEnv);\n    var normalizedEnd = normalizeDate(dateProfile.renderRange.end, tDateProfile, dateEnv);\n    // apply minTime/maxTime\n    // TODO: View should be responsible.\n    if (tDateProfile.isTimeScale) {\n        normalizedStart = dateEnv.add(normalizedStart, dateProfile.minTime);\n        normalizedEnd = dateEnv.add(addDays(normalizedEnd, -1), dateProfile.maxTime);\n    }\n    tDateProfile.timeWindowMs = timeWindowMs;\n    tDateProfile.normalizedRange = { start: normalizedStart, end: normalizedEnd };\n    var slotDates = [];\n    var date = normalizedStart;\n    while (date < normalizedEnd) {\n        if (isValidDate(date, tDateProfile, dateProfile, dateProfileGenerator)) {\n            slotDates.push(date);\n        }\n        date = dateEnv.add(date, tDateProfile.slotDuration);\n    }\n    tDateProfile.slotDates = slotDates;\n    // more...\n    var snapIndex = -1;\n    var snapDiff = 0; // index of the diff :(\n    var snapDiffToIndex = [];\n    var snapIndexToDiff = [];\n    date = normalizedStart;\n    while (date < normalizedEnd) {\n        if (isValidDate(date, tDateProfile, dateProfile, dateProfileGenerator)) {\n            snapIndex++;\n            snapDiffToIndex.push(snapIndex);\n            snapIndexToDiff.push(snapDiff);\n        }\n        else {\n            snapDiffToIndex.push(snapIndex + 0.5);\n        }\n        date = dateEnv.add(date, tDateProfile.snapDuration);\n        snapDiff++;\n    }\n    tDateProfile.snapDiffToIndex = snapDiffToIndex;\n    tDateProfile.snapIndexToDiff = snapIndexToDiff;\n    tDateProfile.snapCnt = snapIndex + 1; // is always one behind\n    tDateProfile.slotCnt = tDateProfile.snapCnt / tDateProfile.snapsPerSlot;\n    // more...\n    tDateProfile.isWeekStarts = buildIsWeekStarts(tDateProfile, dateEnv);\n    tDateProfile.cellRows = buildCellRows(tDateProfile, dateEnv, allOptions);\n    return tDateProfile;\n}\n/*\nsnaps to appropriate unit\n*/\nfunction normalizeDate(date, tDateProfile, dateEnv) {\n    var normalDate = date;\n    if (!tDateProfile.isTimeScale) {\n        normalDate = startOfDay(normalDate);\n        if (tDateProfile.largeUnit) {\n            normalDate = dateEnv.startOf(normalDate, tDateProfile.largeUnit);\n        }\n    }\n    return normalDate;\n}\n/*\nsnaps to appropriate unit\n*/\nfunction normalizeRange(range, tDateProfile, dateEnv) {\n    if (!tDateProfile.isTimeScale) {\n        range = computeVisibleDayRange(range);\n        if (tDateProfile.largeUnit) {\n            var dayRange = range; // preserve original result\n            range = {\n                start: dateEnv.startOf(range.start, tDateProfile.largeUnit),\n                end: dateEnv.startOf(range.end, tDateProfile.largeUnit)\n            };\n            // if date is partially through the interval, or is in the same interval as the start,\n            // make the exclusive end be the *next* interval\n            if (range.end.valueOf() !== dayRange.end.valueOf() || range.end <= range.start) {\n                range = {\n                    start: range.start,\n                    end: dateEnv.add(range.end, tDateProfile.slotDuration)\n                };\n            }\n        }\n    }\n    return range;\n}\nfunction isValidDate(date, tDateProfile, dateProfile, dateProfileGenerator) {\n    if (dateProfileGenerator.isHiddenDay(date)) {\n        return false;\n    }\n    else if (tDateProfile.isTimeScale) {\n        // determine if the time is within minTime/maxTime, which may have wacky values\n        var day = startOfDay(date);\n        var timeMs = date.valueOf() - day.valueOf();\n        var ms = timeMs - asRoughMs(dateProfile.minTime); // milliseconds since minTime\n        ms = ((ms % 86400000) + 86400000) % 86400000; // make negative values wrap to 24hr clock\n        return ms < tDateProfile.timeWindowMs; // before the maxTime?\n    }\n    else {\n        return true;\n    }\n}\nfunction queryDurationOption(allOptions, name) {\n    var input = allOptions[name];\n    if (input != null) {\n        return createDuration(input);\n    }\n}\nfunction validateLabelAndSlot(tDateProfile, dateProfile, dateEnv) {\n    var currentRange = dateProfile.currentRange;\n    // make sure labelInterval doesn't exceed the max number of cells\n    if (tDateProfile.labelInterval) {\n        var labelCnt = dateEnv.countDurationsBetween(currentRange.start, currentRange.end, tDateProfile.labelInterval);\n        if (labelCnt > config.MAX_TIMELINE_SLOTS) {\n            console.warn('slotLabelInterval results in too many cells');\n            tDateProfile.labelInterval = null;\n        }\n    }\n    // make sure slotDuration doesn't exceed the maximum number of cells\n    if (tDateProfile.slotDuration) {\n        var slotCnt = dateEnv.countDurationsBetween(currentRange.start, currentRange.end, tDateProfile.slotDuration);\n        if (slotCnt > config.MAX_TIMELINE_SLOTS) {\n            console.warn('slotDuration results in too many cells');\n            tDateProfile.slotDuration = null;\n        }\n    }\n    // make sure labelInterval is a multiple of slotDuration\n    if (tDateProfile.labelInterval && tDateProfile.slotDuration) {\n        var slotsPerLabel = wholeDivideDurations(tDateProfile.labelInterval, tDateProfile.slotDuration);\n        if (slotsPerLabel === null || slotsPerLabel < 1) {\n            console.warn('slotLabelInterval must be a multiple of slotDuration');\n            tDateProfile.slotDuration = null;\n        }\n    }\n}\nfunction ensureLabelInterval(tDateProfile, dateProfile, dateEnv) {\n    var currentRange = dateProfile.currentRange;\n    var labelInterval = tDateProfile.labelInterval;\n    if (!labelInterval) {\n        // compute based off the slot duration\n        // find the largest label interval with an acceptable slots-per-label\n        var input = void 0;\n        if (tDateProfile.slotDuration) {\n            for (var _i = 0, STOCK_SUB_DURATIONS_1 = STOCK_SUB_DURATIONS; _i < STOCK_SUB_DURATIONS_1.length; _i++) {\n                input = STOCK_SUB_DURATIONS_1[_i];\n                var tryLabelInterval = createDuration(input);\n                var slotsPerLabel = wholeDivideDurations(tryLabelInterval, tDateProfile.slotDuration);\n                if (slotsPerLabel !== null && slotsPerLabel <= MAX_AUTO_SLOTS_PER_LABEL) {\n                    labelInterval = tryLabelInterval;\n                    break;\n                }\n            }\n            // use the slot duration as a last resort\n            if (!labelInterval) {\n                labelInterval = tDateProfile.slotDuration;\n            }\n            // compute based off the view's duration\n            // find the largest label interval that yields the minimum number of labels\n        }\n        else {\n            for (var _a = 0, STOCK_SUB_DURATIONS_2 = STOCK_SUB_DURATIONS; _a < STOCK_SUB_DURATIONS_2.length; _a++) {\n                input = STOCK_SUB_DURATIONS_2[_a];\n                labelInterval = createDuration(input);\n                var labelCnt = dateEnv.countDurationsBetween(currentRange.start, currentRange.end, labelInterval);\n                if (labelCnt >= MIN_AUTO_LABELS) {\n                    break;\n                }\n            }\n        }\n        tDateProfile.labelInterval = labelInterval;\n    }\n    return labelInterval;\n}\nfunction ensureSlotDuration(tDateProfile, dateProfile, dateEnv) {\n    var currentRange = dateProfile.currentRange;\n    var slotDuration = tDateProfile.slotDuration;\n    if (!slotDuration) {\n        var labelInterval = ensureLabelInterval(tDateProfile, dateProfile, dateEnv); // will compute if necessary\n        // compute based off the label interval\n        // find the largest slot duration that is different from labelInterval, but still acceptable\n        for (var _i = 0, STOCK_SUB_DURATIONS_3 = STOCK_SUB_DURATIONS; _i < STOCK_SUB_DURATIONS_3.length; _i++) {\n            var input = STOCK_SUB_DURATIONS_3[_i];\n            var trySlotDuration = createDuration(input);\n            var slotsPerLabel = wholeDivideDurations(labelInterval, trySlotDuration);\n            if (slotsPerLabel !== null && slotsPerLabel > 1 && slotsPerLabel <= MAX_AUTO_SLOTS_PER_LABEL) {\n                slotDuration = trySlotDuration;\n                break;\n            }\n        }\n        // only allow the value if it won't exceed the view's # of slots limit\n        if (slotDuration) {\n            var slotCnt = dateEnv.countDurationsBetween(currentRange.start, currentRange.end, slotDuration);\n            if (slotCnt > MAX_AUTO_CELLS) {\n                slotDuration = null;\n            }\n        }\n        // use the label interval as a last resort\n        if (!slotDuration) {\n            slotDuration = labelInterval;\n        }\n        tDateProfile.slotDuration = slotDuration;\n    }\n    return slotDuration;\n}\nfunction computeHeaderFormats(tDateProfile, dateProfile, dateEnv, allOptions) {\n    var format1;\n    var format2;\n    var labelInterval = tDateProfile.labelInterval;\n    var unit = greatestDurationDenominator(labelInterval).unit;\n    var weekNumbersVisible = allOptions.weekNumbers;\n    var format0 = (format1 = (format2 = null));\n    // NOTE: weekNumber computation function wont work\n    if ((unit === 'week') && !weekNumbersVisible) {\n        unit = 'day';\n    }\n    switch (unit) {\n        case 'year':\n            format0 = { year: 'numeric' }; // '2015'\n            break;\n        case 'month':\n            if (currentRangeAs('years', dateProfile, dateEnv) > 1) {\n                format0 = { year: 'numeric' }; // '2015'\n            }\n            format1 = { month: 'short' }; // 'Jan'\n            break;\n        case 'week':\n            if (currentRangeAs('years', dateProfile, dateEnv) > 1) {\n                format0 = { year: 'numeric' }; // '2015'\n            }\n            format1 = { week: 'narrow' }; // 'Wk4'\n            break;\n        case 'day':\n            if (currentRangeAs('years', dateProfile, dateEnv) > 1) {\n                format0 = { year: 'numeric', month: 'long' }; // 'January 2014'\n            }\n            else if (currentRangeAs('months', dateProfile, dateEnv) > 1) {\n                format0 = { month: 'long' }; // 'January'\n            }\n            if (weekNumbersVisible) {\n                format1 = { week: 'short' }; // 'Wk 4'\n            }\n            format2 = { weekday: 'narrow', day: 'numeric' }; // 'Su 9'\n            break;\n        case 'hour':\n            if (weekNumbersVisible) {\n                format0 = { week: 'short' }; // 'Wk 4'\n            }\n            if (currentRangeAs('days', dateProfile, dateEnv) > 1) {\n                format1 = { weekday: 'short', day: 'numeric', month: 'numeric', omitCommas: true }; // Sat 4/7\n            }\n            format2 = {\n                hour: 'numeric',\n                minute: '2-digit',\n                omitZeroMinute: true,\n                meridiem: 'short'\n            };\n            break;\n        case 'minute':\n            // sufficiently large number of different minute cells?\n            if ((asRoughMinutes(labelInterval) / 60) >= MAX_AUTO_SLOTS_PER_LABEL) {\n                format0 = {\n                    hour: 'numeric',\n                    meridiem: 'short'\n                };\n                format1 = function (params) {\n                    return ':' + padStart(params.date.minute, 2); // ':30'\n                };\n            }\n            else {\n                format0 = {\n                    hour: 'numeric',\n                    minute: 'numeric',\n                    meridiem: 'short'\n                };\n            }\n            break;\n        case 'second':\n            // sufficiently large number of different second cells?\n            if ((asRoughSeconds(labelInterval) / 60) >= MAX_AUTO_SLOTS_PER_LABEL) {\n                format0 = { hour: 'numeric', minute: '2-digit', meridiem: 'lowercase' }; // '8:30 PM'\n                format1 = function (params) {\n                    return ':' + padStart(params.date.second, 2); // ':30'\n                };\n            }\n            else {\n                format0 = { hour: 'numeric', minute: '2-digit', second: '2-digit', meridiem: 'lowercase' }; // '8:30:45 PM'\n            }\n            break;\n        case 'millisecond':\n            format0 = { hour: 'numeric', minute: '2-digit', second: '2-digit', meridiem: 'lowercase' }; // '8:30:45 PM'\n            format1 = function (params) {\n                return '.' + padStart(params.millisecond, 3);\n            };\n            break;\n    }\n    return [].concat(format0 || [], format1 || [], format2 || []);\n}\n// Compute the number of the give units in the \"current\" range.\n// Won't go more precise than days.\n// Will return `0` if there's not a clean whole interval.\nfunction currentRangeAs(unit, dateProfile, dateEnv) {\n    var range = dateProfile.currentRange;\n    var res = null;\n    if (unit === 'years') {\n        res = dateEnv.diffWholeYears(range.start, range.end);\n    }\n    else if (unit === 'months') {\n        res = dateEnv.diffWholeMonths(range.start, range.end);\n    }\n    else if (unit === 'weeks') {\n        res = dateEnv.diffWholeMonths(range.start, range.end);\n    }\n    else if (unit === 'days') {\n        res = diffWholeDays(range.start, range.end);\n    }\n    return res || 0;\n}\nfunction buildIsWeekStarts(tDateProfile, dateEnv) {\n    var slotDates = tDateProfile.slotDates, emphasizeWeeks = tDateProfile.emphasizeWeeks;\n    var prevWeekNumber = null;\n    var isWeekStarts = [];\n    for (var _i = 0, slotDates_1 = slotDates; _i < slotDates_1.length; _i++) {\n        var slotDate = slotDates_1[_i];\n        var weekNumber = dateEnv.computeWeekNumber(slotDate);\n        var isWeekStart = emphasizeWeeks && (prevWeekNumber !== null) && (prevWeekNumber !== weekNumber);\n        prevWeekNumber = weekNumber;\n        isWeekStarts.push(isWeekStart);\n    }\n    return isWeekStarts;\n}\nfunction buildCellRows(tDateProfile, dateEnv, allOptions) {\n    var slotDates = tDateProfile.slotDates;\n    var formats = tDateProfile.headerFormats;\n    var cellRows = formats.map(function (format) { return []; }); // indexed by row,col\n    // specifically for navclicks\n    var rowUnits = formats.map(function (format) {\n        return format.getLargestUnit ? format.getLargestUnit() : null;\n    });\n    // builds cellRows and slotCells\n    for (var i = 0; i < slotDates.length; i++) {\n        var date = slotDates[i];\n        var isWeekStart = tDateProfile.isWeekStarts[i];\n        for (var row = 0; row < formats.length; row++) {\n            var format = formats[row];\n            var rowCells = cellRows[row];\n            var leadingCell = rowCells[rowCells.length - 1];\n            var isSuperRow = (formats.length > 1) && (row < (formats.length - 1)); // more than one row and not the last\n            var newCell = null;\n            if (isSuperRow) {\n                var text = dateEnv.format(date, format);\n                if (!leadingCell || (leadingCell.text !== text)) {\n                    newCell = buildCellObject(date, text, rowUnits[row], allOptions, dateEnv);\n                }\n                else {\n                    leadingCell.colspan += 1;\n                }\n            }\n            else {\n                if (!leadingCell ||\n                    isInt(dateEnv.countDurationsBetween(tDateProfile.normalizedRange.start, date, tDateProfile.labelInterval))) {\n                    var text = dateEnv.format(date, format);\n                    newCell = buildCellObject(date, text, rowUnits[row], allOptions, dateEnv);\n                }\n                else {\n                    leadingCell.colspan += 1;\n                }\n            }\n            if (newCell) {\n                newCell.weekStart = isWeekStart;\n                rowCells.push(newCell);\n            }\n        }\n    }\n    return cellRows;\n}\nfunction buildCellObject(date, text, rowUnit, allOptions, dateEnv) {\n    var spanHtml = buildGotoAnchorHtml(allOptions, dateEnv, {\n        date: date,\n        type: rowUnit,\n        forceOff: !rowUnit\n    }, {\n        'class': 'fc-cell-text'\n    }, htmlEscape(text));\n    return { text: text, spanHtml: spanHtml, date: date, colspan: 1, isWeekStart: false };\n}\n\nvar TimelineNowIndicator = /** @class */ (function () {\n    function TimelineNowIndicator(headParent, bodyParent) {\n        this.headParent = headParent;\n        this.bodyParent = bodyParent;\n    }\n    TimelineNowIndicator.prototype.render = function (coord, isRtl) {\n        var styleProps = isRtl ? { right: -coord } : { left: coord };\n        this.headParent.appendChild(this.arrowEl = createElement('div', {\n            className: 'fc-now-indicator fc-now-indicator-arrow',\n            style: styleProps\n        }));\n        this.bodyParent.appendChild(this.lineEl = createElement('div', {\n            className: 'fc-now-indicator fc-now-indicator-line',\n            style: styleProps\n        }));\n    };\n    TimelineNowIndicator.prototype.unrender = function () {\n        if (this.arrowEl) {\n            removeElement(this.arrowEl);\n        }\n        if (this.lineEl) {\n            removeElement(this.lineEl);\n        }\n    };\n    return TimelineNowIndicator;\n}());\n\nvar STICKY_PROP_VAL = computeStickyPropVal(); // if null, means not supported at all\nvar IS_MS_EDGE = /Edge/.test(navigator.userAgent);\nvar IS_SAFARI = STICKY_PROP_VAL === '-webkit-sticky'; // good b/c doesn't confuse chrome\nvar STICKY_CLASSNAME = 'fc-sticky';\n/*\nuseful beyond the native position:sticky for these reasons:\n- support in IE11\n- nice centering support\n*/\nvar StickyScroller = /** @class */ (function () {\n    function StickyScroller(scroller, isRtl, isVertical) {\n        var _this = this;\n        this.usingRelative = null;\n        /*\n        known bug: called twice on init. problem when mixing with ScrollJoiner\n        */\n        this.updateSize = function () {\n            var els = Array.prototype.slice.call(_this.scroller.canvas.el.querySelectorAll('.' + STICKY_CLASSNAME));\n            var elGeoms = _this.queryElGeoms(els);\n            var viewportWidth = _this.scroller.el.clientWidth;\n            if (_this.usingRelative) {\n                var elDestinations = _this.computeElDestinations(elGeoms, viewportWidth); // read before prepPositioning\n                assignRelativePositions(els, elGeoms, elDestinations);\n            }\n            else {\n                assignStickyPositions(els, elGeoms, viewportWidth);\n            }\n        };\n        this.scroller = scroller;\n        this.usingRelative =\n            !STICKY_PROP_VAL || // IE11\n                (IS_MS_EDGE && isRtl) || // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/18883305/\n                ((IS_MS_EDGE || IS_SAFARI) && isVertical); // because doesn't work with rowspan in tables, our only vertial use\n        if (this.usingRelative) {\n            scroller.on('scrollEnd', this.updateSize);\n        }\n    }\n    StickyScroller.prototype.destroy = function () {\n        this.scroller.off('scrollEnd', this.updateSize);\n    };\n    StickyScroller.prototype.queryElGeoms = function (els) {\n        var canvasOrigin = this.scroller.canvas.el.getBoundingClientRect();\n        var elGeoms = [];\n        for (var _i = 0, els_1 = els; _i < els_1.length; _i++) {\n            var el = els_1[_i];\n            var parentBound = translateRect(el.parentNode.getBoundingClientRect(), -canvasOrigin.left, -canvasOrigin.top);\n            var elRect = el.getBoundingClientRect();\n            var computedStyles = window.getComputedStyle(el);\n            var computedTextAlign = window.getComputedStyle(el.parentNode).textAlign; // ask the parent\n            var intendedTextAlign = computedTextAlign;\n            var naturalBound = null;\n            if (computedStyles.position !== 'sticky') {\n                naturalBound = translateRect(elRect, -canvasOrigin.left - (parseFloat(computedStyles.left) || 0), // could be 'auto'\n                -canvasOrigin.top - (parseFloat(computedStyles.top) || 0));\n            }\n            if (el.hasAttribute('data-sticky-center')) {\n                intendedTextAlign = 'center';\n            }\n            elGeoms.push({\n                parentBound: parentBound,\n                naturalBound: naturalBound,\n                elWidth: elRect.width,\n                elHeight: elRect.height,\n                computedTextAlign: computedTextAlign,\n                intendedTextAlign: intendedTextAlign\n            });\n        }\n        return elGeoms;\n    };\n    StickyScroller.prototype.computeElDestinations = function (elGeoms, viewportWidth) {\n        var viewportLeft = this.scroller.getScrollFromLeft();\n        var viewportTop = this.scroller.getScrollTop();\n        var viewportRight = viewportLeft + viewportWidth;\n        return elGeoms.map(function (elGeom) {\n            var elWidth = elGeom.elWidth, elHeight = elGeom.elHeight, parentBound = elGeom.parentBound, naturalBound = elGeom.naturalBound;\n            var destLeft; // relative to canvas topleft\n            var destTop; // \"\n            switch (elGeom.intendedTextAlign) {\n                case 'left':\n                    destLeft = viewportLeft;\n                    break;\n                case 'right':\n                    destLeft = viewportRight - elWidth;\n                    break;\n                case 'center':\n                    destLeft = (viewportLeft + viewportRight) / 2 - elWidth / 2;\n                    break;\n            }\n            destLeft = Math.min(destLeft, parentBound.right - elWidth);\n            destLeft = Math.max(destLeft, parentBound.left);\n            destTop = viewportTop;\n            destTop = Math.min(destTop, parentBound.bottom - elHeight);\n            destTop = Math.max(destTop, naturalBound.top); // better to use natural top for upper bound\n            return { left: destLeft, top: destTop };\n        });\n    };\n    return StickyScroller;\n}());\nfunction assignRelativePositions(els, elGeoms, elDestinations) {\n    els.forEach(function (el, i) {\n        var naturalBound = elGeoms[i].naturalBound;\n        applyStyle(el, {\n            position: 'relative',\n            left: elDestinations[i].left - naturalBound.left,\n            top: elDestinations[i].top - naturalBound.top\n        });\n    });\n}\nfunction assignStickyPositions(els, elGeoms, viewportWidth) {\n    els.forEach(function (el, i) {\n        var stickyLeft = 0;\n        if (elGeoms[i].intendedTextAlign === 'center') {\n            stickyLeft = (viewportWidth - elGeoms[i].elWidth) / 2;\n            // needs to be forced to left?\n            if (elGeoms[i].computedTextAlign === 'center') {\n                el.setAttribute('data-sticky-center', '') // remember for next queryElGeoms\n                ;\n                el.parentNode.style.textAlign = 'left';\n            }\n        }\n        applyStyle(el, {\n            position: STICKY_PROP_VAL,\n            left: stickyLeft,\n            right: 0,\n            top: 0\n        });\n    });\n}\nfunction computeStickyPropVal() {\n    var el = htmlToElement('<div style=\"position:-webkit-sticky;position:sticky\"></div>');\n    var val = el.style.position;\n    if (val.indexOf('sticky') !== -1) {\n        return val;\n    }\n    else {\n        return null;\n    }\n}\n\nvar TimeAxis = /** @class */ (function (_super) {\n    __extends(TimeAxis, _super);\n    function TimeAxis(headerContainerEl, bodyContainerEl) {\n        var _this = _super.call(this) || this;\n        _this.renderSkeleton = memoizeRendering(_this._renderSkeleton, _this._unrenderSkeleton);\n        _this.layout = new HeaderBodyLayout(headerContainerEl, bodyContainerEl, 'auto');\n        return _this;\n    }\n    TimeAxis.prototype.render = function (props, context) {\n        var tDateProfile = this.tDateProfile =\n            buildTimelineDateProfile(props.dateProfile, context.dateEnv, context.options, props.dateProfileGenerator); // TODO: cache\n        this.renderSkeleton(context);\n        this.header.receiveProps({\n            dateProfile: props.dateProfile,\n            tDateProfile: tDateProfile\n        }, context);\n        this.slats.receiveProps({\n            dateProfile: props.dateProfile,\n            tDateProfile: tDateProfile\n        }, context);\n    };\n    TimeAxis.prototype.destroy = function () {\n        this.renderSkeleton.unrender();\n        this.layout.destroy();\n        _super.prototype.destroy.call(this);\n    };\n    TimeAxis.prototype._renderSkeleton = function (context) {\n        var layout = this.layout;\n        var headerEnhancedScroller = layout.headerScroller.enhancedScroll;\n        var bodyEnhancedScroller = layout.bodyScroller.enhancedScroll;\n        // needs to go after layout, which has ScrollJoiner\n        this.headStickyScroller = new StickyScroller(headerEnhancedScroller, context.isRtl, false); // isVertical=false\n        this.bodyStickyScroller = new StickyScroller(bodyEnhancedScroller, context.isRtl, false); // isVertical=false\n        this.header = new TimelineHeader(headerEnhancedScroller.canvas.contentEl);\n        this.slats = new TimelineSlats(bodyEnhancedScroller.canvas.bgEl);\n        this.nowIndicator = new TimelineNowIndicator(headerEnhancedScroller.canvas.el, bodyEnhancedScroller.canvas.el);\n    };\n    TimeAxis.prototype._unrenderSkeleton = function () {\n        this.header.destroy();\n        this.slats.destroy();\n        this.nowIndicator.unrender();\n        this.headStickyScroller.destroy();\n        this.bodyStickyScroller.destroy();\n    };\n    // Now Indicator\n    // ------------------------------------------------------------------------------------------\n    TimeAxis.prototype.getNowIndicatorUnit = function (dateProfile, dateProfileGenerator) {\n        var context = this.context;\n        // yuck\n        var tDateProfile = this.tDateProfile =\n            buildTimelineDateProfile(dateProfile, context.dateEnv, context.options, dateProfileGenerator); // TODO: cache\n        if (tDateProfile.isTimeScale) {\n            return greatestDurationDenominator(tDateProfile.slotDuration).unit;\n        }\n    };\n    // will only execute if isTimeScale\n    TimeAxis.prototype.renderNowIndicator = function (date) {\n        if (rangeContainsMarker(this.tDateProfile.normalizedRange, date)) {\n            this.nowIndicator.render(this.dateToCoord(date), this.context.isRtl);\n        }\n    };\n    // will only execute if isTimeScale\n    TimeAxis.prototype.unrenderNowIndicator = function () {\n        this.nowIndicator.unrender();\n    };\n    // Sizing\n    // ------------------------------------------------------------------------------------------\n    TimeAxis.prototype.updateSize = function (isResize, totalHeight, isAuto) {\n        this.applySlotWidth(this.computeSlotWidth());\n        // adjusts gutters. do after slot widths set\n        this.layout.setHeight(totalHeight, isAuto);\n        // pretty much just queries coords. do last\n        this.slats.updateSize();\n    };\n    TimeAxis.prototype.updateStickyScrollers = function () {\n        this.headStickyScroller.updateSize();\n        this.bodyStickyScroller.updateSize();\n    };\n    TimeAxis.prototype.computeSlotWidth = function () {\n        var slotWidth = this.context.options.slotWidth || '';\n        if (slotWidth === '') {\n            slotWidth = this.computeDefaultSlotWidth(this.tDateProfile);\n        }\n        return slotWidth;\n    };\n    TimeAxis.prototype.computeDefaultSlotWidth = function (tDateProfile) {\n        var maxInnerWidth = 0; // TODO: harness core's `matchCellWidths` for this\n        this.header.innerEls.forEach(function (innerEl, i) {\n            maxInnerWidth = Math.max(maxInnerWidth, innerEl.getBoundingClientRect().width);\n        });\n        var headingCellWidth = Math.ceil(maxInnerWidth) + 1; // assume no padding, and one pixel border\n        // in TimelineView.defaults we ensured that labelInterval is an interval of slotDuration\n        // TODO: rename labelDuration?\n        var slotsPerLabel = wholeDivideDurations(tDateProfile.labelInterval, tDateProfile.slotDuration);\n        var slotWidth = Math.ceil(headingCellWidth / slotsPerLabel);\n        var minWidth = window.getComputedStyle(this.header.slatColEls[0]).minWidth;\n        if (minWidth) {\n            minWidth = parseInt(minWidth, 10);\n            if (minWidth) {\n                slotWidth = Math.max(slotWidth, minWidth);\n            }\n        }\n        return slotWidth;\n    };\n    TimeAxis.prototype.applySlotWidth = function (slotWidth) {\n        var _a = this, layout = _a.layout, tDateProfile = _a.tDateProfile;\n        var containerWidth = '';\n        var containerMinWidth = '';\n        var nonLastSlotWidth = '';\n        if (slotWidth !== '') {\n            slotWidth = Math.round(slotWidth);\n            containerWidth = slotWidth * tDateProfile.slotDates.length;\n            containerMinWidth = '';\n            nonLastSlotWidth = slotWidth;\n            var availableWidth = layout.bodyScroller.enhancedScroll.getClientWidth();\n            if (availableWidth > containerWidth) {\n                containerMinWidth = availableWidth;\n                containerWidth = '';\n                nonLastSlotWidth = Math.floor(availableWidth / tDateProfile.slotDates.length);\n            }\n        }\n        layout.headerScroller.enhancedScroll.canvas.setWidth(containerWidth);\n        layout.headerScroller.enhancedScroll.canvas.setMinWidth(containerMinWidth);\n        layout.bodyScroller.enhancedScroll.canvas.setWidth(containerWidth);\n        layout.bodyScroller.enhancedScroll.canvas.setMinWidth(containerMinWidth);\n        if (nonLastSlotWidth !== '') {\n            this.header.slatColEls.slice(0, -1).concat(this.slats.slatColEls.slice(0, -1)).forEach(function (el) {\n                el.style.width = nonLastSlotWidth + 'px';\n            });\n        }\n    };\n    // returned value is between 0 and the number of snaps\n    TimeAxis.prototype.computeDateSnapCoverage = function (date) {\n        var tDateProfile = this.tDateProfile;\n        var dateEnv = this.context.dateEnv;\n        var snapDiff = dateEnv.countDurationsBetween(tDateProfile.normalizedRange.start, date, tDateProfile.snapDuration);\n        if (snapDiff < 0) {\n            return 0;\n        }\n        else if (snapDiff >= tDateProfile.snapDiffToIndex.length) {\n            return tDateProfile.snapCnt;\n        }\n        else {\n            var snapDiffInt = Math.floor(snapDiff);\n            var snapCoverage = tDateProfile.snapDiffToIndex[snapDiffInt];\n            if (isInt(snapCoverage)) { // not an in-between value\n                snapCoverage += snapDiff - snapDiffInt; // add the remainder\n            }\n            else {\n                // a fractional value, meaning the date is not visible\n                // always round up in this case. works for start AND end dates in a range.\n                snapCoverage = Math.ceil(snapCoverage);\n            }\n            return snapCoverage;\n        }\n    };\n    // for LTR, results range from 0 to width of area\n    // for RTL, results range from negative width of area to 0\n    TimeAxis.prototype.dateToCoord = function (date) {\n        var tDateProfile = this.tDateProfile;\n        var snapCoverage = this.computeDateSnapCoverage(date);\n        var slotCoverage = snapCoverage / tDateProfile.snapsPerSlot;\n        var slotIndex = Math.floor(slotCoverage);\n        slotIndex = Math.min(slotIndex, tDateProfile.slotCnt - 1);\n        var partial = slotCoverage - slotIndex;\n        var _a = this.slats, innerCoordCache = _a.innerCoordCache, outerCoordCache = _a.outerCoordCache;\n        if (this.context.isRtl) {\n            return (outerCoordCache.rights[slotIndex] -\n                (innerCoordCache.getWidth(slotIndex) * partial)) - outerCoordCache.originClientRect.width;\n        }\n        else {\n            return (outerCoordCache.lefts[slotIndex] +\n                (innerCoordCache.getWidth(slotIndex) * partial));\n        }\n    };\n    TimeAxis.prototype.rangeToCoords = function (range) {\n        if (this.context.isRtl) {\n            return { right: this.dateToCoord(range.start), left: this.dateToCoord(range.end) };\n        }\n        else {\n            return { left: this.dateToCoord(range.start), right: this.dateToCoord(range.end) };\n        }\n    };\n    // Scrolling\n    // ------------------------------------------------------------------------------------------\n    TimeAxis.prototype.computeDateScroll = function (duration) {\n        var _a = this.context, dateEnv = _a.dateEnv, isRtl = _a.isRtl;\n        var dateProfile = this.props.dateProfile;\n        var left = 0;\n        if (dateProfile) {\n            left = this.dateToCoord(dateEnv.add(startOfDay(dateProfile.activeRange.start), // startOfDay needed?\n            duration));\n            // hack to overcome the left borders of non-first slat\n            if (!isRtl && left) {\n                left += 1;\n            }\n        }\n        return { left: left };\n    };\n    TimeAxis.prototype.queryDateScroll = function () {\n        var enhancedScroll = this.layout.bodyScroller.enhancedScroll;\n        return {\n            left: enhancedScroll.getScrollLeft()\n        };\n    };\n    TimeAxis.prototype.applyDateScroll = function (scroll) {\n        // TODO: lame we have to update both. use the scrolljoiner instead maybe\n        this.layout.bodyScroller.enhancedScroll.setScrollLeft(scroll.left || 0);\n        this.layout.headerScroller.enhancedScroll.setScrollLeft(scroll.left || 0);\n    };\n    return TimeAxis;\n}(Component));\n\nvar TimelineLaneEventRenderer = /** @class */ (function (_super) {\n    __extends(TimelineLaneEventRenderer, _super);\n    function TimelineLaneEventRenderer(masterContainerEl, timeAxis) {\n        var _this = _super.call(this) || this;\n        _this.masterContainerEl = masterContainerEl;\n        _this.timeAxis = timeAxis;\n        return _this;\n    }\n    TimelineLaneEventRenderer.prototype.renderSegHtml = function (seg, mirrorInfo) {\n        var context = this.context;\n        var eventRange = seg.eventRange;\n        var eventDef = eventRange.def;\n        var eventUi = eventRange.ui;\n        var isDraggable = computeEventDraggable(context, eventDef, eventUi);\n        var isResizableFromStart = seg.isStart && computeEventStartResizable(context, eventDef, eventUi);\n        var isResizableFromEnd = seg.isEnd && computeEventEndResizable(context, eventDef, eventUi);\n        var classes = this.getSegClasses(seg, isDraggable, isResizableFromStart || isResizableFromEnd, mirrorInfo);\n        classes.unshift('fc-timeline-event', 'fc-h-event');\n        var timeText = this.getTimeText(eventRange);\n        return '<a class=\"' + classes.join(' ') + '\" style=\"' + cssToStr(this.getSkinCss(eventUi)) + '\"' +\n            (eventDef.url ?\n                ' href=\"' + htmlEscape(eventDef.url) + '\"' :\n                '') +\n            '>' +\n            (timeText ?\n                '<span class=\"fc-time-wrap\">' +\n                    '<span class=\"fc-time\">' +\n                    htmlEscape(timeText) +\n                    '</span>' +\n                    '</span>'\n                :\n                    '') +\n            '<span class=\"fc-title-wrap\">' +\n            '<span class=\"fc-title fc-sticky\">' +\n            (eventDef.title ? htmlEscape(eventDef.title) : '&nbsp;') +\n            '</span>' +\n            '</span>' +\n            (isResizableFromStart ?\n                '<div class=\"fc-resizer fc-start-resizer\"></div>' :\n                '') +\n            (isResizableFromEnd ?\n                '<div class=\"fc-resizer fc-end-resizer\"></div>' :\n                '') +\n            '</a>';\n    };\n    TimelineLaneEventRenderer.prototype.computeDisplayEventTime = function () {\n        return !this.timeAxis.tDateProfile.isTimeScale; // because times should be obvious via axis\n    };\n    TimelineLaneEventRenderer.prototype.computeDisplayEventEnd = function () {\n        return false;\n    };\n    // Computes a default event time formatting string if `timeFormat` is not explicitly defined\n    TimelineLaneEventRenderer.prototype.computeEventTimeFormat = function () {\n        return {\n            hour: 'numeric',\n            minute: '2-digit',\n            omitZeroMinute: true,\n            meridiem: 'narrow'\n        };\n    };\n    TimelineLaneEventRenderer.prototype.attachSegs = function (segs, mirrorInfo) {\n        if (!this.el && this.masterContainerEl) {\n            this.el = createElement('div', { className: 'fc-event-container' });\n            if (mirrorInfo) {\n                this.el.classList.add('fc-mirror-container');\n            }\n            this.masterContainerEl.appendChild(this.el);\n        }\n        if (this.el) {\n            for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n                var seg = segs_1[_i];\n                this.el.appendChild(seg.el);\n            }\n        }\n    };\n    TimelineLaneEventRenderer.prototype.detachSegs = function (segs) {\n        for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n            var seg = segs_2[_i];\n            removeElement(seg.el);\n        }\n    };\n    // computes AND assigns (assigns the left/right at least). bad\n    TimelineLaneEventRenderer.prototype.computeSegSizes = function (segs) {\n        var timeAxis = this.timeAxis;\n        for (var _i = 0, segs_3 = segs; _i < segs_3.length; _i++) {\n            var seg = segs_3[_i];\n            var coords = timeAxis.rangeToCoords(seg); // works because Seg has start/end\n            applyStyle(seg.el, {\n                left: (seg.left = coords.left),\n                right: -(seg.right = coords.right)\n            });\n        }\n    };\n    TimelineLaneEventRenderer.prototype.assignSegSizes = function (segs) {\n        if (!this.el) {\n            return;\n        }\n        // compute seg verticals\n        for (var _i = 0, segs_4 = segs; _i < segs_4.length; _i++) {\n            var seg = segs_4[_i];\n            seg.height = computeHeightAndMargins(seg.el);\n        }\n        this.buildSegLevels(segs); // populates above/below props for computeOffsetForSegs\n        var totalHeight = computeOffsetForSegs(segs); // also assigns seg.top\n        applyStyleProp(this.el, 'height', totalHeight);\n        // assign seg verticals\n        for (var _a = 0, segs_5 = segs; _a < segs_5.length; _a++) {\n            var seg = segs_5[_a];\n            applyStyleProp(seg.el, 'top', seg.top);\n        }\n    };\n    TimelineLaneEventRenderer.prototype.buildSegLevels = function (segs) {\n        var segLevels = [];\n        segs = this.sortEventSegs(segs);\n        for (var _i = 0, segs_6 = segs; _i < segs_6.length; _i++) {\n            var unplacedSeg = segs_6[_i];\n            unplacedSeg.above = [];\n            // determine the first level with no collisions\n            var level = 0; // level index\n            while (level < segLevels.length) {\n                var isLevelCollision = false;\n                // determine collisions\n                for (var _a = 0, _b = segLevels[level]; _a < _b.length; _a++) {\n                    var placedSeg = _b[_a];\n                    if (timeRowSegsCollide(unplacedSeg, placedSeg)) {\n                        unplacedSeg.above.push(placedSeg);\n                        isLevelCollision = true;\n                    }\n                }\n                if (isLevelCollision) {\n                    level += 1;\n                }\n                else {\n                    break;\n                }\n            }\n            // insert into the first non-colliding level. create if necessary\n            (segLevels[level] || (segLevels[level] = []))\n                .push(unplacedSeg);\n            // record possible colliding segments below (TODO: automated test for this)\n            level += 1;\n            while (level < segLevels.length) {\n                for (var _c = 0, _d = segLevels[level]; _c < _d.length; _c++) {\n                    var belowSeg = _d[_c];\n                    if (timeRowSegsCollide(unplacedSeg, belowSeg)) {\n                        belowSeg.above.push(unplacedSeg);\n                    }\n                }\n                level += 1;\n            }\n        }\n        return segLevels;\n    };\n    return TimelineLaneEventRenderer;\n}(FgEventRenderer));\nfunction computeOffsetForSegs(segs) {\n    var max = 0;\n    for (var _i = 0, segs_7 = segs; _i < segs_7.length; _i++) {\n        var seg = segs_7[_i];\n        max = Math.max(max, computeOffsetForSeg(seg));\n    }\n    return max;\n}\nfunction computeOffsetForSeg(seg) {\n    if ((seg.top == null)) {\n        seg.top = computeOffsetForSegs(seg.above);\n    }\n    return seg.top + seg.height;\n}\nfunction timeRowSegsCollide(seg0, seg1) {\n    return (seg0.left < seg1.right) && (seg0.right > seg1.left);\n}\n\nvar TimelineLaneFillRenderer = /** @class */ (function (_super) {\n    __extends(TimelineLaneFillRenderer, _super);\n    function TimelineLaneFillRenderer(masterContainerEl, timeAxis) {\n        var _this = _super.call(this) || this;\n        _this.masterContainerEl = masterContainerEl;\n        _this.timeAxis = timeAxis;\n        return _this;\n    }\n    TimelineLaneFillRenderer.prototype.attachSegs = function (type, segs) {\n        if (segs.length) {\n            var className = void 0;\n            if (type === 'businessHours') {\n                className = 'bgevent';\n            }\n            else {\n                className = type.toLowerCase();\n            }\n            // making a new container each time is OKAY\n            // all types of segs (background or business hours or whatever) are rendered in one pass\n            var containerEl = createElement('div', { className: 'fc-' + className + '-container' });\n            this.masterContainerEl.appendChild(containerEl);\n            for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n                var seg = segs_1[_i];\n                containerEl.appendChild(seg.el);\n            }\n            return [containerEl]; // return value\n        }\n    };\n    TimelineLaneFillRenderer.prototype.computeSegSizes = function (segs) {\n        var timeAxis = this.timeAxis;\n        for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n            var seg = segs_2[_i];\n            var coords = timeAxis.rangeToCoords(seg);\n            seg.left = coords.left;\n            seg.right = coords.right;\n        }\n    };\n    TimelineLaneFillRenderer.prototype.assignSegSizes = function (segs) {\n        for (var _i = 0, segs_3 = segs; _i < segs_3.length; _i++) {\n            var seg = segs_3[_i];\n            applyStyle(seg.el, {\n                left: seg.left,\n                right: -seg.right\n            });\n        }\n    };\n    return TimelineLaneFillRenderer;\n}(FillRenderer));\n\nvar TimelineLane = /** @class */ (function (_super) {\n    __extends(TimelineLane, _super);\n    function TimelineLane(fgContainerEl, bgContainerEl, timeAxis) {\n        var _this = _super.call(this, bgContainerEl) || this;\n        _this.slicer = new TimelineLaneSlicer();\n        _this.renderEventDrag = memoizeRendering(_this._renderEventDrag, _this._unrenderEventDrag);\n        _this.renderEventResize = memoizeRendering(_this._renderEventResize, _this._unrenderEventResize);\n        _this.fgContainerEl = fgContainerEl;\n        _this.timeAxis = timeAxis;\n        var fillRenderer = _this.fillRenderer = new TimelineLaneFillRenderer(bgContainerEl, timeAxis);\n        var eventRenderer = _this.eventRenderer = new TimelineLaneEventRenderer(fgContainerEl, timeAxis);\n        _this.mirrorRenderer = new TimelineLaneEventRenderer(fgContainerEl, timeAxis);\n        _this.renderBusinessHours = memoizeRendering(fillRenderer.renderSegs.bind(fillRenderer, 'businessHours'), fillRenderer.unrender.bind(fillRenderer, 'businessHours'));\n        _this.renderDateSelection = memoizeRendering(fillRenderer.renderSegs.bind(fillRenderer, 'highlight'), fillRenderer.unrender.bind(fillRenderer, 'highlight'));\n        _this.renderBgEvents = memoizeRendering(fillRenderer.renderSegs.bind(fillRenderer, 'bgEvent'), fillRenderer.unrender.bind(fillRenderer, 'bgEvent'));\n        _this.renderFgEvents = memoizeRendering(eventRenderer.renderSegs.bind(eventRenderer), eventRenderer.unrender.bind(eventRenderer));\n        _this.renderEventSelection = memoizeRendering(eventRenderer.selectByInstanceId.bind(eventRenderer), eventRenderer.unselectByInstanceId.bind(eventRenderer), [_this.renderFgEvents]);\n        return _this;\n    }\n    TimelineLane.prototype.render = function (props, context) {\n        var timeAxis = this.timeAxis;\n        var slicedProps = this.slicer.sliceProps(props, props.dateProfile, timeAxis.tDateProfile.isTimeScale ? null : props.nextDayThreshold, context.calendar, this, timeAxis);\n        this.renderBusinessHours(context, slicedProps.businessHourSegs);\n        this.renderDateSelection(context, slicedProps.dateSelectionSegs);\n        this.renderBgEvents(context, slicedProps.bgEventSegs);\n        this.renderFgEvents(context, slicedProps.fgEventSegs);\n        this.renderEventSelection(slicedProps.eventSelection);\n        this.renderEventDrag(slicedProps.eventDrag);\n        this.renderEventResize(slicedProps.eventResize);\n    };\n    TimelineLane.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.renderBusinessHours.unrender();\n        this.renderDateSelection.unrender();\n        this.renderBgEvents.unrender();\n        this.renderFgEvents.unrender();\n        this.renderEventSelection.unrender();\n        this.renderEventDrag.unrender();\n        this.renderEventResize.unrender();\n    };\n    TimelineLane.prototype._renderEventDrag = function (state) {\n        if (state) {\n            this.eventRenderer.hideByHash(state.affectedInstances);\n            this.mirrorRenderer.renderSegs(this.context, state.segs, { isDragging: true, sourceSeg: state.sourceSeg });\n        }\n    };\n    TimelineLane.prototype._unrenderEventDrag = function (state) {\n        if (state) {\n            this.eventRenderer.showByHash(state.affectedInstances);\n            this.mirrorRenderer.unrender(this.context, state.segs, { isDragging: true, sourceSeg: state.sourceSeg });\n        }\n    };\n    TimelineLane.prototype._renderEventResize = function (state) {\n        if (state) {\n            // HACK. eventRenderer and fillRenderer both use these segs. would compete over seg.el\n            var segsForHighlight = state.segs.map(function (seg) {\n                return __assign({}, seg);\n            });\n            this.eventRenderer.hideByHash(state.affectedInstances);\n            this.fillRenderer.renderSegs('highlight', this.context, segsForHighlight);\n            this.mirrorRenderer.renderSegs(this.context, state.segs, { isDragging: true, sourceSeg: state.sourceSeg });\n        }\n    };\n    TimelineLane.prototype._unrenderEventResize = function (state) {\n        if (state) {\n            this.eventRenderer.showByHash(state.affectedInstances);\n            this.fillRenderer.unrender('highlight', this.context);\n            this.mirrorRenderer.unrender(this.context, state.segs, { isDragging: true, sourceSeg: state.sourceSeg });\n        }\n    };\n    TimelineLane.prototype.updateSize = function (isResize) {\n        var _a = this, fillRenderer = _a.fillRenderer, eventRenderer = _a.eventRenderer, mirrorRenderer = _a.mirrorRenderer;\n        fillRenderer.computeSizes(isResize);\n        eventRenderer.computeSizes(isResize);\n        mirrorRenderer.computeSizes(isResize);\n        fillRenderer.assignSizes(isResize);\n        eventRenderer.assignSizes(isResize);\n        mirrorRenderer.assignSizes(isResize);\n    };\n    return TimelineLane;\n}(DateComponent));\nvar TimelineLaneSlicer = /** @class */ (function (_super) {\n    __extends(TimelineLaneSlicer, _super);\n    function TimelineLaneSlicer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimelineLaneSlicer.prototype.sliceRange = function (origRange, timeAxis) {\n        var tDateProfile = timeAxis.tDateProfile;\n        var _a = timeAxis.props, dateProfile = _a.dateProfile, dateProfileGenerator = _a.dateProfileGenerator;\n        var dateEnv = timeAxis.context.dateEnv;\n        var normalRange = normalizeRange(origRange, tDateProfile, dateEnv);\n        var segs = [];\n        // protect against when the span is entirely in an invalid date region\n        if (timeAxis.computeDateSnapCoverage(normalRange.start) < timeAxis.computeDateSnapCoverage(normalRange.end)) {\n            // intersect the footprint's range with the grid's range\n            var slicedRange = intersectRanges(normalRange, tDateProfile.normalizedRange);\n            if (slicedRange) {\n                segs.push({\n                    start: slicedRange.start,\n                    end: slicedRange.end,\n                    isStart: slicedRange.start.valueOf() === normalRange.start.valueOf() && isValidDate(slicedRange.start, tDateProfile, dateProfile, dateProfileGenerator),\n                    isEnd: slicedRange.end.valueOf() === normalRange.end.valueOf() && isValidDate(addMs(slicedRange.end, -1), tDateProfile, dateProfile, dateProfileGenerator)\n                });\n            }\n        }\n        return segs;\n    };\n    return TimelineLaneSlicer;\n}(Slicer));\n\nvar TimelineView = /** @class */ (function (_super) {\n    __extends(TimelineView, _super);\n    function TimelineView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.renderSkeleton = memoizeRendering(_this._renderSkeleton, _this._unrenderSkeleton);\n        _this.startInteractive = memoizeRendering(_this._startInteractive, _this._stopInteractive);\n        return _this;\n    }\n    TimelineView.prototype._startInteractive = function (timeAxisEl) {\n        this.context.calendar.registerInteractiveComponent(this, {\n            el: timeAxisEl\n        });\n    };\n    TimelineView.prototype._stopInteractive = function () {\n        this.context.calendar.unregisterInteractiveComponent(this);\n    };\n    TimelineView.prototype.render = function (props, context) {\n        _super.prototype.render.call(this, props, context); // flags for updateSize, addScroll. and _renderSkeleton/_unrenderSkeleton\n        this.renderSkeleton(this.context);\n        this.timeAxis.receiveProps({\n            dateProfileGenerator: props.dateProfileGenerator,\n            dateProfile: props.dateProfile\n        }, context);\n        this.startInteractive(this.timeAxis.slats.el);\n        this.lane.receiveProps(__assign({}, props, { nextDayThreshold: this.context.nextDayThreshold }), context);\n        this.startNowIndicator(props.dateProfile, props.dateProfileGenerator);\n    };\n    TimelineView.prototype.destroy = function () {\n        this.startInteractive.unrender(); // \"unrender\" a weird name\n        this.renderSkeleton.unrender();\n        _super.prototype.destroy.call(this);\n    };\n    TimelineView.prototype._renderSkeleton = function (context) {\n        this.el.classList.add('fc-timeline');\n        if (context.options.eventOverlap === false) {\n            this.el.classList.add('fc-no-overlap');\n        }\n        this.el.innerHTML = this.renderSkeletonHtml();\n        this.timeAxis = new TimeAxis(this.el.querySelector('thead .fc-time-area'), this.el.querySelector('tbody .fc-time-area'));\n        this.lane = new TimelineLane(this.timeAxis.layout.bodyScroller.enhancedScroll.canvas.contentEl, this.timeAxis.layout.bodyScroller.enhancedScroll.canvas.bgEl, this.timeAxis);\n    };\n    TimelineView.prototype._unrenderSkeleton = function () {\n        this.el.classList.remove('fc-timeline');\n        this.el.classList.remove('fc-no-overlap');\n        this.timeAxis.destroy();\n        this.lane.destroy();\n    };\n    TimelineView.prototype.renderSkeletonHtml = function () {\n        var theme = this.context.theme;\n        return \"<table class=\\\"\" + theme.getClass('tableGrid') + \"\\\"> <thead class=\\\"fc-head\\\"> <tr> <td class=\\\"fc-time-area \" + theme.getClass('widgetHeader') + \"\\\"></td> </tr> </thead> <tbody class=\\\"fc-body\\\"> <tr> <td class=\\\"fc-time-area \" + theme.getClass('widgetContent') + \"\\\"></td> </tr> </tbody> </table>\";\n    };\n    TimelineView.prototype.updateSize = function (isResize, totalHeight, isAuto) {\n        this.timeAxis.updateSize(isResize, totalHeight, isAuto);\n        this.lane.updateSize(isResize);\n    };\n    // Now Indicator\n    // ------------------------------------------------------------------------------------------\n    TimelineView.prototype.getNowIndicatorUnit = function (dateProfile, dateProfileGenerator) {\n        return this.timeAxis.getNowIndicatorUnit(dateProfile, dateProfileGenerator);\n    };\n    TimelineView.prototype.renderNowIndicator = function (date) {\n        this.timeAxis.renderNowIndicator(date);\n    };\n    TimelineView.prototype.unrenderNowIndicator = function () {\n        this.timeAxis.unrenderNowIndicator();\n    };\n    // Scroll System\n    // ------------------------------------------------------------------------------------------\n    TimelineView.prototype.computeDateScroll = function (duration) {\n        return this.timeAxis.computeDateScroll(duration);\n    };\n    TimelineView.prototype.applyScroll = function (scroll, isResize) {\n        _super.prototype.applyScroll.call(this, scroll, isResize); // will call applyDateScroll\n        var calendar = this.context.calendar;\n        // avoid updating stickyscroll too often\n        // TODO: repeat code as ResourceTimelineView::updateSize\n        if (isResize || calendar.isViewUpdated || calendar.isDatesUpdated || calendar.isEventsUpdated) {\n            this.timeAxis.updateStickyScrollers();\n        }\n    };\n    TimelineView.prototype.applyDateScroll = function (scroll) {\n        this.timeAxis.applyDateScroll(scroll);\n    };\n    TimelineView.prototype.queryScroll = function () {\n        var enhancedScroll = this.timeAxis.layout.bodyScroller.enhancedScroll;\n        return {\n            top: enhancedScroll.getScrollTop(),\n            left: enhancedScroll.getScrollLeft()\n        };\n    };\n    // Hit System\n    // ------------------------------------------------------------------------------------------\n    TimelineView.prototype.buildPositionCaches = function () {\n        this.timeAxis.slats.updateSize();\n    };\n    TimelineView.prototype.queryHit = function (positionLeft, positionTop, elWidth, elHeight) {\n        var slatHit = this.timeAxis.slats.positionToHit(positionLeft);\n        if (slatHit) {\n            return {\n                component: this,\n                dateSpan: slatHit.dateSpan,\n                rect: {\n                    left: slatHit.left,\n                    right: slatHit.right,\n                    top: 0,\n                    bottom: elHeight\n                },\n                dayEl: slatHit.dayEl,\n                layer: 0\n            };\n        }\n    };\n    return TimelineView;\n}(View));\n\nvar main = createPlugin({\n    defaultView: 'timelineDay',\n    views: {\n        timeline: {\n            class: TimelineView,\n            eventResizableFromStart: true // how is this consumed for TimelineView tho?\n        },\n        timelineDay: {\n            type: 'timeline',\n            duration: { days: 1 }\n        },\n        timelineWeek: {\n            type: 'timeline',\n            duration: { weeks: 1 }\n        },\n        timelineMonth: {\n            type: 'timeline',\n            duration: { months: 1 }\n        },\n        timelineYear: {\n            type: 'timeline',\n            duration: { years: 1 }\n        }\n    }\n});\n\nexport default main;\nexport { HeaderBodyLayout, ScrollJoiner, StickyScroller, TimeAxis, TimelineLane, TimelineView };\n","export default \"<div class=\\\"facility-view-calendar-wrapper\\\">\\n    <div class=\\\"main\\\">\\n        <app-loader *ngIf=\\\"!loadingData\\\"></app-loader>\\n        <div class=\\\"bg-card shadow\\\" *ngIf=\\\"loadingData\\\">\\n            <div class=\\\"text-right mb-4\\\" *ngIf=\\\"info && info.facilityId\\\">\\n                <mat-icon [svgIcon]=\\\"'close'\\\" mat-dialog-close></mat-icon>\\n            </div>\\n             <!-- FullCalendar -->\\n             <full-calendar [defaultView]=\\\"initialView\\\"\\n                [events]=\\\"calendarResult\\\"\\n                [resources] = \\\"rooms\\\"\\n                resourceLabelText = \\\"Facility\\\"\\n                [header]=\\\"header\\\"\\n                [height]=\\\"'parent'\\\"\\n                [plugins]=\\\"plugins\\\"\\n                [views]=\\\"initialView\\\"\\n                [schedulerLicenseKey]=\\\"schedulerLicenseKey\\\"\\n                (dateClick)=\\\"addEvent($event)\\\"\\n                (eventClick)=\\\"dateEventClick($event)\\\"\\n             #fullCalendar></full-calendar>\\n        </div>\\n    </div>\\n</div>\\n\";","export default \"<div class=\\\"facility-create-booking-wrapper\\\">\\n\\t<div class=\\\"main\\\">\\n\\t\\t<form #facilityBookingForm = \\\"ngForm\\\" name=\\\"facilityBookingForm\\\" novalidate>\\n\\t\\t\\t<!-- create,edit and view using Router -->\\n\\t\\t\\t<h4 class=\\\"mb-4\\\" *ngIf=\\\"!info.type\\\">\\n\\t\\t\\t\\t<span *ngIf=\\\"urlType == 'create'\\\">{{'FACILITY.CREATEBOOKING.CREATETITLE' | translate}}</span>\\n\\t\\t\\t\\t<span *ngIf=\\\"urlType == 'edit'\\\">{{'FACILITY.CREATEBOOKING.EDITTITLE' | translate}}</span>\\n\\t\\t\\t\\t<span *ngIf=\\\"urlType == 'view'\\\">{{'FACILITY.CREATEBOOKING.VIEWTITLE' | translate}}</span>\\n\\t\\t\\t</h4>\\n\\t\\t\\t<condo-message class=\\\"mb-3\\\" *ngIf=\\\"message\\\"\\n\\t\\t\\t\\t[appearance]=\\\"message.appearance\\\"\\n\\t\\t\\t\\t[showIcon]=\\\"message.showIcon\\\"\\n\\t\\t\\t\\t[type]=\\\"message.type\\\"\\n\\t\\t\\t\\t[@shake]=\\\"message.shake\\\">\\n\\t\\t\\t\\t{{message.content}}\\n\\t\\t\\t</condo-message>\\n\\t\\t\\t<div class=\\\"bg-card shadow\\\">\\n\\t\\t\\t\\t<!--Create,edit and view using popup -->\\n\\t\\t\\t\\t<div class=\\\"d-flex mb-4\\\" *ngIf=\\\"info.type\\\">\\n\\t\\t\\t\\t\\t<h4>\\n\\t\\t\\t\\t\\t\\t<span *ngIf=\\\"urlType == 'create'\\\">{{'FACILITY.CREATEBOOKING.CREATETITLE' | translate}}</span>\\n\\t\\t\\t\\t\\t\\t<span *ngIf=\\\"urlType == 'view'\\\">{{'FACILITY.CREATEBOOKING.VIEWTITLE' | translate}}</span>\\n\\t\\t\\t\\t\\t</h4>\\n\\t\\t\\t\\t\\t<mat-icon class=\\\"ml-auto\\\" *ngIf=\\\"info.type\\\" [svgIcon]=\\\"'close'\\\" mat-dialog-close></mat-icon>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<!-- Facility Details -->\\n\\t\\t\\t\\t<div class=\\\"row text-center\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"col-sm-12\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"input-box radio-box mb-0\\\">\\n\\t\\t\\t\\t\\t\\t\\t<label>{{'FACILITY.CREATEBOOKING.BOOKINGFOR' | translate}} </label>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<input  name=\\\"isBookingforGuest\\\" id=\\\"Yes\\\" [(ngModel)]=\\\"booking.isBookingforGuest\\\" (click)=\\\"bookedForChange()\\\" [value]=\\\"true\\\" type=\\\"radio\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t[disabled]=\\\"isDisable()\\\" required>\\n\\t\\t\\t\\t\\t\\t\\t\\t<label class=\\\"radio-inline\\\" for=\\\"Yes\\\">{{'FACILITY.CREATEBOOKING.GUEST' | translate}}</label>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<input  name=\\\"isBookingforGuest\\\" id=\\\"No\\\" [(ngModel)]=\\\"booking.isBookingforGuest\\\" (click)=\\\"bookedForChange()\\\" [value]=\\\"false\\\" type=\\\"radio\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t[disabled]=\\\"isDisable()\\\" required>\\n\\t\\t\\t\\t\\t\\t\\t\\t<label class=\\\"radio-inline\\\" for=\\\"No\\\">{{'FACILITY.CREATEBOOKING.USER' | translate}}</label>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<h6 class=\\\"mb-4\\\">{{'FACILITY.CREATEBOOKING.FACILITYDETAILS' | translate}}</h6>\\n\\t\\t\\t\\t<div class=\\\"row\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"col-sm-4\\\">\\n\\t\\t\\t\\t\\t\\t<condo-select \\n\\t\\t\\t\\t\\t\\t\\tlabelText=\\\"{{'FACILITY.CREATEBOOKING.FACILITYNAME' | translate}}\\\"\\n\\t\\t\\t\\t\\t\\t\\tfieldPlaceholder=\\\"{{'PLACEHOLDER.FACILITYNAME' | translate}}\\\"\\n\\t\\t\\t\\t\\t\\t\\t[fieldRequired]=\\\"'required'\\\"\\n\\t\\t\\t\\t\\t\\t\\t[fieldList]=\\\"facilityCatList\\\"\\n\\t\\t\\t\\t\\t\\t\\tfieldValue=\\\"facilityName\\\"\\n\\t\\t\\t\\t\\t\\t\\t[fieldModel]=\\\"booking.apartmentFacilityId\\\"\\n\\t\\t\\t\\t\\t\\t\\tfieldId=\\\"apartmentFacilityId\\\"\\n\\t\\t\\t\\t\\t\\t\\t[isDisabled]=\\\"isDisable()\\\"\\n\\t\\t\\t\\t\\t\\t\\t(fieldParams)=\\\"setFacility($event)\\\" \\n\\t\\t\\t\\t\\t\\t  ></condo-select>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"col-sm-4\\\">\\n\\t\\t\\t\\t\\t\\t<a *ngIf=\\\"booking.apartmentFacilityId && !info.type\\\" class=\\\"float-right\\\"  href=\\\"javascript:void(0)\\\" (click)=\\\"viewBookingDetails()\\\">View Booking Details</a>\\n\\t\\t\\t\\t\\t\\t<app-datepicker\\n\\t\\t\\t\\t\\t\\t\\tlabelText=\\\"{{'FACILITY.CREATEBOOKING.DATE' | translate}}\\\"\\n\\t\\t\\t\\t\\t\\t\\tfieldName=\\\"eventDateTo\\\"\\n\\t\\t\\t\\t\\t\\t\\ttype=\\\"date\\\"\\n\\t\\t\\t\\t\\t\\t\\t[fieldRequired]=\\\"'required'\\\"\\n\\t\\t\\t\\t\\t\\t\\t[fieldModel]=\\\"booking.bookedForDate\\\"\\n\\t\\t\\t\\t\\t\\t\\t[min]=\\\"advanceBookingDate\\\"\\n\\t\\t\\t\\t\\t\\t\\t[isDisabled]=\\\"isDisable()\\\"\\n\\t\\t\\t\\t\\t\\t\\t(fieldParams)=\\\"setBookedForDate($event)\\\">\\n\\t\\t\\t\\t\\t\\t</app-datepicker>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"col-sm-4\\\" *ngIf=\\\"booking.apartmentFacilityId && facilitySlotData?.length > 0\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"select-box\\\">\\n\\t\\t\\t\\t\\t\\t\\t<label>{{'FACILITY.CREATEBOOKING.SLOT' | translate}}<span class=\\\"required\\\">*</span></label>\\n\\t\\t\\t\\t\\t\\t\\t<select name=\\\"slotId\\\" id=\\\"slotId\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"booking.slotId\\\" (ngModelChange)=\\\"selectSlot()\\\" [disabled]=\\\"isDisable()\\\" required>\\n\\t\\t\\t\\t\\t\\t\\t\\t<option [ngValue]=\\\"null\\\" disabled selected hidden>Select</option>\\n\\t\\t\\t\\t\\t\\t\\t\\t<option *ngFor=\\\"let item of facilitySlotData\\\" [ngValue]=\\\"item.apartmentFacilitySlotId\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t{{getSlotTime(item.slotBeginTime)}} - {{getSlotTime(item.slotEndTime)}}</option>\\n\\t\\t\\t\\t\\t\\t\\t</select>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"col-sm-4\\\" *ngIf=\\\"booking.apartmentFacilityId && facilitySlotData?.length == 0 && booking.rateBaseId == 138\\\"> \\n\\t\\t\\t\\t\\t\\t<div class=\\\"input-box\\\">\\n\\t\\t\\t\\t\\t\\t\\t<label>{{'FACILITY.CREATEBOOKING.FROMTIME' | translate}}<span class=\\\"required\\\">*</span></label>\\n\\t\\t\\t\\t\\t\\t\\t<input  class=\\\"form-control\\\" name=\\\"bookedFromTime\\\" [owlDateTime]=\\\"bookedFromTime\\\" [owlDateTimeTrigger]=\\\"bookedFromTime\\\" placeholder=\\\"Time\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t[(ngModel)]=\\\"booking.bookedFromTime\\\" (dateTimeInput)=\\\"setMinTime()\\\" [disabled]=\\\"isDisable()\\\" autocomplete=\\\"off\\\" required>\\n\\t\\t\\t\\t\\t\\t\\t<owl-date-time  [pickerType]=\\\"'timer'\\\" #bookedFromTime></owl-date-time>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"date-btn\\\" [owlDateTimeTrigger]=\\\"bookedFromTime\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<mat-icon svgIcon=\\\"feather:clock\\\"></mat-icon>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"col-sm-4\\\" *ngIf=\\\"booking.apartmentFacilityId && facilitySlotData?.length == 0 && booking.rateBaseId == 138\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"input-box\\\">\\n\\t\\t\\t\\t\\t\\t\\t<label>{{'FACILITY.CREATEBOOKING.TOTIME' | translate}}<span class=\\\"required\\\">*</span></label>\\n\\t\\t\\t\\t\\t\\t\\t<input  class=\\\"form-control\\\" name=\\\"bookedToTime\\\" [owlDateTime]=\\\"bookedToTime\\\" [owlDateTimeTrigger]=\\\"bookedToTime\\\" placeholder=\\\"Time\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t[(ngModel)]=\\\"booking.bookedToTime\\\" (dateTimeInput)=\\\"setMinTime()\\\" [disabled]=\\\"isDisable()\\\" autocomplete=\\\"off\\\" required>\\n\\t\\t\\t\\t\\t\\t\\t<owl-date-time  [pickerType]=\\\"'timer'\\\" #bookedToTime></owl-date-time>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"date-btn\\\" [owlDateTimeTrigger]=\\\"bookedToTime\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<mat-icon svgIcon=\\\"feather:clock\\\"></mat-icon>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t<p class=\\\"error\\\" *ngIf=\\\"facilityBookingForm.controls.bookedToTime?.errors?.min\\\">{{'FACILITY.CREATEBOOKING.ENTERMIN' | translate}} {{facilityBookingDetail.minHoursBooking}} {{'FACILITY.CREATEBOOKING.HOURSORMAX' | translate}} {{facilityBookingDetail.minHoursBooking}} {{'FACILITY.CREATEBOOKING.HOURS' | translate}}</p>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"col-sm-4\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"input-box\\\">\\n\\t\\t\\t\\t\\t\\t\\t<label>{{'FACILITY.CREATEBOOKING.EVENTNAME' | translate}}<span class=\\\"required\\\">*</span></label>\\n\\t\\t\\t\\t\\t\\t\\t<input  type=\\\"text\\\"  class=\\\"form-control\\\" placeholder=\\\"{{'PLACEHOLDER.EVENTNAME' | translate}}\\\" name=\\\"eventName\\\" [(ngModel)]=\\\"booking.eventName\\\" [disabled]=\\\"isDisable()\\\" required>\\n\\t\\t\\t\\t\\t\\t\\t<help-tooltip title=\\\"eventName\\\"></help-tooltip>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t\\t<!-- Payment Details -->\\n\\t\\t\\t<div class=\\\"bg-card shadow\\\" *ngIf=\\\"showBookingDetail()\\\">\\n\\t\\t\\t\\t<h6 class=\\\"mb-4\\\">{{'FACILITY.CREATEBOOKING.BOOKINGDETAILS' | translate}}</h6>\\n\\t\\t\\t\\t<div class=\\\"row\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"col-sm-4\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"input-box\\\">\\n\\t\\t\\t\\t\\t\\t\\t<label>{{'FACILITY.CREATEBOOKING.SECURITYAMOUNT' | translate}} ({{pesoValue}})</label>\\n\\t\\t\\t\\t\\t\\t\\t<input type=\\\"number\\\" OnlyNumber=\\\"true\\\" class=\\\"form-control\\\" placeholder=\\\"{{'PLACEHOLDER.SECURITYAMOUNT' | translate}}\\\" name=\\\"securityDepositAmount\\\" [value]=\\\"booking.securityDepositAmount\\\" readonly>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"col-sm-4\\\" *ngIf=\\\"facilityBookingDetail\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"input-box\\\">\\n\\t\\t\\t\\t\\t\\t\\t<label>{{'FACILITY.CREATEBOOKING.BOOKINGPERAMOUNT' | translate}} {{ booking.rateBaseId == 138 ? 'Hour' : 'Day'}} ({{pesoValue}})</label>\\n\\t\\t\\t\\t\\t\\t\\t<input type=\\\"number\\\" OnlyNumber=\\\"true\\\" class=\\\"form-control\\\" placeholder=\\\"{{'PLACEHOLDER.AMOUNT' | translate}}\\\" name=\\\"bookingAmoutPerRate\\\" [value]=\\\"facilityBookingDetail.amount\\\" readonly>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"col-sm-4\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"input-box\\\">\\n\\t\\t\\t\\t\\t\\t\\t<label>{{'FACILITY.CREATEBOOKING.COST' | translate}} ({{pesoValue}})*</label>\\n\\t\\t\\t\\t\\t\\t\\t<input OnlyNumber=\\\"true\\\" class=\\\"form-control\\\" placeholder=\\\"{{'PLACEHOLDER.COST' | translate}}\\\" name=\\\"amount\\\" [value]=\\\"booking.amount\\\" readonly>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"col-sm-4\\\"> \\n\\t\\t\\t\\t\\t\\t<div class=\\\"select-box\\\">\\n\\t\\t\\t\\t\\t\\t\\t<label>{{'FACILITY.CREATEBOOKING.TAX' | translate}} ({{taxPecentage}}%)</label>\\n\\t\\t\\t\\t\\t\\t\\t<input OnlyNumber=\\\"true\\\" class=\\\"form-control\\\" placeholder=\\\"{{'PLACEHOLDER.TAX' | translate}}\\\" name=\\\"amount\\\" [value]=\\\"booking.tax\\\" readonly>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"col-sm-4\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"input-box\\\">\\n\\t\\t\\t\\t\\t\\t\\t<label>{{'FACILITY.CREATEBOOKING.DISCOUNTAMOUNT' | translate}} ({{pesoValue}})</label>\\n\\t\\t\\t\\t\\t\\t\\t<input OnlyNumber=\\\"true\\\" (keyup)=\\\"calcDiscount()\\\" class=\\\"form-control\\\" placeholder=\\\"{{'PLACEHOLDER.DISCOUNT' | translate}}\\\" name=\\\"discountAmt\\\" [(ngModel)]=\\\"booking.discount\\\" [disabled]=\\\"isDisable()\\\">\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"col-sm-4\\\">\\n\\t\\t\\t\\t\\t\\t<!-- Need to integrate -->\\n\\t\\t\\t\\t\\t\\t<div class=\\\"input-box\\\">\\n\\t\\t\\t\\t\\t\\t\\t<label>{{'FACILITY.CREATEBOOKING.MEMBERSHIPDISCOUNT' | translate}} ({{pesoValue}})</label>\\n\\t\\t\\t\\t\\t\\t\\t<input OnlyNumber=\\\"true\\\" (keyup)=\\\"calcDiscount()\\\" class=\\\"form-control\\\" placeholder=\\\"{{'PLACEHOLDER.MEMBERSHIPDISCOUNT' | translate}}\\\"  [(ngModel)]=\\\"booking.membershipDiscountAmount\\\" name=\\\"memberDiscount\\\" [disabled]=\\\"isDisable()\\\">\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"col-sm-4\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"input-box\\\">\\n\\t\\t\\t\\t\\t\\t\\t<label>{{'FACILITY.CREATEBOOKING.FINALBOOKINGAMOUNT' | translate}} ({{pesoValue}})</label>\\n\\t\\t\\t\\t\\t\\t\\t<input OnlyNumber=\\\"true\\\" class=\\\"form-control\\\" placeholder=\\\"{{'PLACEHOLDER.TOTAL' | translate}}\\\" name=\\\"totalBillAmount\\\" [value]=\\\"booking.totalBillAmount\\\" readonly>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t\\t<!-- Unit Details -->\\n\\t\\t\\t<div class=\\\"bg-card shadow\\\" *ngIf=\\\"isAdmin()\\\">\\n\\t\\t\\t\\t<h6 class=\\\"mb-4\\\">{{'FACILITY.CREATEBOOKING.UNITRESIDENTDETAILS' | translate}}</h6>\\n\\t\\t\\t\\t<div class=\\\"row\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"col-sm-4\\\">\\n\\t\\t\\t\\t\\t\\t<condo-select \\n\\t\\t\\t\\t\\t\\t\\tlabelText=\\\"{{'FACILITY.CREATEBOOKING.TOWERNO' | translate}}\\\"\\n\\t\\t\\t\\t\\t\\t\\tfieldPlaceholder=\\\"{{'PLACEHOLDER.TOWERNO' | translate}}\\\"\\n\\t\\t\\t\\t\\t\\t\\t[fieldRequired]=\\\"'required'\\\"\\n\\t\\t\\t\\t\\t\\t\\t[fieldList]=\\\"towerList\\\"\\n\\t\\t\\t\\t\\t\\t\\tfieldValue=\\\"block_Label\\\"\\n\\t\\t\\t\\t\\t\\t\\t[fieldModel]=\\\"booking.apartmentBlockId\\\"\\n\\t\\t\\t\\t\\t\\t\\tfieldId=\\\"block_Id\\\"\\n\\t\\t\\t\\t\\t\\t\\t[isDisabled]=\\\"isDisable()\\\"\\n\\t\\t\\t\\t\\t\\t\\t(fieldParams)=\\\"setSelectedBlock($event)\\\" \\n\\t\\t\\t\\t\\t\\t></condo-select>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"col-sm-4\\\" *ngIf=\\\"booking.apartmentBlockId\\\">\\n\\t\\t\\t\\t\\t\\t  <condo-select \\n\\t\\t\\t\\t\\t\\t\\tlabelText=\\\"{{'FACILITY.CREATEBOOKING.UNITNO' | translate}}\\\"\\n\\t\\t\\t\\t\\t\\t\\tfieldPlaceholder=\\\"{{'PLACEHOLDER.UNITNO' | translate}}\\\"\\n\\t\\t\\t\\t\\t\\t\\t[fieldRequired]=\\\"'required'\\\"\\n\\t\\t\\t\\t\\t\\t\\t[fieldList]=\\\"unitList\\\"\\n\\t\\t\\t\\t\\t\\t\\tfieldValue=\\\"bu_Label\\\"\\n\\t\\t\\t\\t\\t\\t\\t[fieldModel]=\\\"booking.apartmentBlockUnitId\\\"\\n\\t\\t\\t\\t\\t\\t\\tfieldId=\\\"buId\\\"\\n\\t\\t\\t\\t\\t\\t\\t[isDisabled]=\\\"isDisable()\\\"\\n\\t\\t\\t\\t\\t\\t\\t(fieldParams)=\\\"setSelectedBlockUnit($event)\\\" \\n\\t\\t\\t\\t\\t\\t></condo-select>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"col-sm-4\\\" *ngIf=\\\"booking.apartmentBlockUnitId\\\">\\n\\t\\t\\t\\t\\t  <div class=\\\"input-box\\\">\\n\\t\\t\\t\\t\\t\\t<label>{{'FACILITY.CREATEBOOKING.PRIMARYNAME' | translate}}</label>\\n\\t\\t\\t\\t\\t\\t<input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"{{'PLACEHOLDER.PRIMARYNAME' | translate}}\\\" name=\\\"primaryName\\\" [value]=\\\"primaryName\\\" readonly>\\n\\t\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t\\t<!-- Guest Details -->\\n\\t\\t\\t<div class=\\\"bg-card shadow\\\" *ngIf=\\\"booking.isBookingforGuest\\\">\\n\\t\\t\\t\\t<h6 class=\\\"mb-4\\\">{{'FACILITY.CREATEBOOKING.GUESTDETAILS' | translate}}</h6>\\n\\t\\t\\t\\t<div class=\\\"row\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"col-sm-4\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"input-box\\\">\\n\\t\\t\\t\\t\\t\\t\\t<label>{{'FACILITY.CREATEBOOKING.GUESTNAME' | translate}} <span class=\\\"required\\\">*</span></label>\\n\\t\\t\\t\\t\\t\\t\\t<input  type=\\\"text\\\"  class=\\\"form-control\\\" placeholder=\\\"{{'PLACEHOLDER.GUESTNAME' | translate}}\\\" name=\\\"guestName\\\" [(ngModel)]=\\\"booking.guestName\\\" [disabled]=\\\"isDisable()\\\" required>\\n\\t\\t\\t\\t\\t\\t\\t<help-tooltip title=\\\"guestName\\\"></help-tooltip>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"col-sm-4\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"input-box\\\">\\n\\t\\t\\t\\t\\t\\t\\t<label>{{'FACILITY.CREATEBOOKING.GUESTPHONE' | translate}} <span class=\\\"required\\\">*</span></label>\\n\\t\\t\\t\\t\\t\\t\\t<input OnlyNumber=\\\"true\\\" class=\\\"form-control\\\" placeholder=\\\"{{'PLACEHOLDER.GUESTPHONE' | translate}}\\\" name=\\\"guestPhone\\\" [(ngModel)]=\\\"booking.guestPhone\\\" [disabled]=\\\"isDisable()\\\" required>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"col-sm-4\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"input-box\\\">\\n\\t\\t\\t\\t\\t\\t\\t<label>{{'FACILITY.CREATEBOOKING.RELATIONSHIPGUEST' | translate}} <span class=\\\"required\\\">*</span></label>\\n\\t\\t\\t\\t\\t\\t\\t<input  type=\\\"text\\\"  class=\\\"form-control\\\" placeholder=\\\"{{'PLACEHOLDER.RELATIONSHIPGUEST' | translate}}\\\" name=\\\"guestRelation\\\" [(ngModel)]=\\\"booking.guestRelation\\\" [disabled]=\\\"isDisable()\\\" required>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"col-sm-4\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"input-box\\\">\\n\\t\\t\\t\\t\\t\\t\\t<label>{{'FACILITY.CREATEBOOKING.GUESTATTEND' | translate}} <span class=\\\"required\\\">*</span></label>\\n\\t\\t\\t\\t\\t\\t\\t<input OnlyNumber=\\\"true\\\" class=\\\"form-control\\\" placeholder=\\\"{{'PLACEHOLDER.GUESTATTEND' | translate}}\\\" name=\\\"totalofguestsforevent\\\" [(ngModel)]=\\\"booking.totalofguestsforevent\\\" [disabled]=\\\"isDisable()\\\" required>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t\\t<!-- booked for, comment box and status -->\\n\\t\\t\\t<div class=\\\"bg-card shadow\\\">\\n\\t\\t\\t\\t<div class=\\\"row\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"col-sm-6\\\" *ngIf=\\\"booking.apartmentBlockUnitId && booking.isBookingforGuest\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"float-right\\\">\\n\\t\\t\\t\\t\\t\\t\\t<a *ngIf=\\\"urlType != 'view'\\\" class=\\\"ml-auto\\\" href=\\\"javascript:void(0)\\\" (click)=\\\"createVisitor()\\\">{{'FACILITY.CREATEBOOKING.CREATEVISITORPASS' | translate}}</a>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<condo-select \\n\\t\\t\\t\\t\\t\\t\\tlabelText=\\\"{{'FACILITY.CREATEBOOKING.VISITORPASS' | translate}}\\\"\\n\\t\\t\\t\\t\\t\\t\\tfieldPlaceholder=\\\"{{'PLACEHOLDER.VISITORPASS' | translate}}\\\"\\n\\t\\t\\t\\t\\t\\t\\t[fieldList]=\\\"visitorsList | orderBy : 'expectedVisitorName'\\\"\\n\\t\\t\\t\\t\\t\\t\\tfieldValue=\\\"customLabel\\\"\\n\\t\\t\\t\\t\\t\\t\\t[fieldModel]=\\\"booking.neededUserId\\\"\\n\\t\\t\\t\\t\\t\\t\\tfieldId=\\\"expectedVisitorId\\\"\\n\\t\\t\\t\\t\\t\\t\\ttoolTip=\\\"visitorPass\\\"\\n\\t\\t\\t\\t\\t\\t\\t(fieldParams)=\\\"setVisitor($event)\\\" \\n\\t\\t\\t\\t\\t\\t></condo-select> \\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"col-sm-4\\\" *ngIf=\\\"isAdmin()\\\">\\n\\t\\t\\t\\t\\t\\t<condo-select \\n\\t\\t\\t\\t\\t\\t\\tlabelText=\\\"{{'FACILITY.CREATEBOOKING.STATUS' | translate}}\\\"\\n\\t\\t\\t\\t\\t\\t\\tfieldPlaceholder=\\\"{{'PLACEHOLDER.STATUS' | translate}}\\\"\\n\\t\\t\\t\\t\\t\\t\\t[fieldRequired]=\\\"'required'\\\"\\n\\t\\t\\t\\t\\t\\t\\t[fieldList]=\\\"facilityStatus\\\"\\n\\t\\t\\t\\t\\t\\t\\tfieldValue=\\\"lookupValueName\\\"\\n\\t\\t\\t\\t\\t\\t\\t[fieldModel]=\\\"booking.facilityBookingStatusId\\\"\\n\\t\\t\\t\\t\\t\\t\\tfieldId=\\\"lookupValueId\\\"\\n\\t\\t\\t\\t\\t\\t\\t[isDisabled]=\\\"isDisable()\\\"\\n\\t\\t\\t\\t\\t\\t\\t(fieldParams)=\\\"setStatus($event)\\\" \\n\\t\\t\\t\\t\\t\\t  ></condo-select>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"col-sm-12\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"input-box\\\">\\n\\t\\t\\t\\t\\t\\t\\t<label>{{'FACILITY.CREATEBOOKING.COMMENT' | translate}}</label>\\n\\t\\t\\t\\t\\t\\t\\t<textarea placeholder=\\\"{{'PLACEHOLDER.ENTERCOMMENT' | translate}}\\\" name=\\\"comment\\\" [(ngModel)]=\\\"booking.comment\\\" [disabled]=\\\"isDisable()\\\"></textarea>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"col-sm-12\\\" *ngIf=\\\"termsCondion\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"input-box\\\">\\n\\t\\t\\t\\t\\t\\t  <label>{{'FACILITY.CREATEBOOKING.T&C' | translate}}</label>\\n\\t\\t\\t\\t\\t\\t  <textarea name=\\\"terms\\\" [value]=\\\"termsCondion\\\" readonly></textarea>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"row\\\">\\n\\t\\t\\t\\t<div class=\\\"col-sm-12\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"d-flex justify-content-end\\\">\\n\\t\\t\\t\\t\\t\\t<button class=\\\"mr-2\\\" *ngIf=\\\"urlType == 'create'\\\" class=\\\"ml-2\\\" mat-button (click)=\\\"resetField()\\\">{{'BUTTONS.CLEARBUTTON' | translate}}</button>\\n\\t\\t\\t\\t\\t\\t<submit-button [isSubmit]=\\\"isBookingSubmitted\\\"*ngIf=\\\"urlType=='create'\\\" (click)=\\\"createFacilityBooking()\\\">{{'BUTTONS.CREATEBUTTON' | translate}}</submit-button>\\n\\t\\t\\t\\t\\t\\t<button class=\\\"mr-2\\\" *ngIf=\\\"urlType == 'edit'\\\" class=\\\"ml-2\\\" mat-button (click)=\\\"back()\\\">{{'BUTTONS.BACKBUTTON' | translate}}</button>\\n\\t\\t\\t\\t\\t\\t<submit-button [isSubmit]=\\\"isBookingSubmitted\\\"*ngIf=\\\"urlType=='edit'\\\" (click)=\\\"updateFacilityBooking()\\\">{{'BUTTONS.UPDATEBUTTON' | translate}}</submit-button>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</form>\\n\\t</div>\\n</div>\";","export default \"<div class=\\\"checkin-visitor-wrapper\\\">\\n\\t<div class=\\\"main\\\">\\n\\t\\t<form #expectedVisitorForm=\\\"ngForm\\\">\\n\\t\\t\\t<div class=\\\"bg-card shadow mb-0\\\">\\n\\t\\t\\t\\t<div class=\\\"d-flex mb-4\\\">\\n\\t\\t\\t\\t\\t<h4 class=\\\"mb-4\\\">Create Expected Visitor</h4>\\n\\t\\t\\t\\t\\t<mat-icon class=\\\"ml-auto\\\" [svgIcon]=\\\"'close'\\\" mat-dialog-close></mat-icon>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<condo-message class=\\\"mb-3\\\" *ngIf=\\\"message\\\"\\n\\t\\t\\t\\t\\t[appearance]=\\\"message.appearance\\\"\\n\\t\\t\\t\\t\\t[showIcon]=\\\"message.showIcon\\\"\\n\\t\\t\\t\\t\\t[type]=\\\"message.type\\\"\\n\\t\\t\\t\\t\\t[@shake]=\\\"message.shake\\\">\\n\\t\\t\\t\\t\\t\\t\\t{{message.content}}\\n\\t\\t\\t\\t</condo-message>\\n\\t\\t\\t\\t<div class=\\\"row\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"col-sm-4\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"input-box\\\">\\n\\t\\t\\t\\t\\t\\t\\t<label>Expected Visitor Name<span class=\\\"required\\\">*</span></label>\\n\\t\\t\\t\\t\\t\\t\\t<input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Visitor Name\\\" name=\\\"visitorName\\\" [(ngModel)]=\\\"visitor.expectedVisitorName\\\" required>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"col-sm-4\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"input-box\\\">\\n\\t\\t\\t\\t\\t\\t\\t<label>Expected Visitor Count<span class=\\\"required\\\">*</span></label>\\n\\t\\t\\t\\t\\t\\t\\t<input type=\\\"number\\\" OnlyNumber=\\\"true\\\" class=\\\"form-control\\\" placeholder=\\\"Visitor Count\\\" name=\\\"visitorCount\\\" [(ngModel)]=\\\"visitor.expectedVisitorCount\\\" required>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div> \\n\\t\\t\\t\\t\\t<div class=\\\"col-sm-4\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"input-box\\\">\\n\\t\\t\\t\\t\\t\\t\\t<label>Expected Phone/Mobile No<span class=\\\"required\\\">*</span></label>\\n\\t\\t\\t\\t\\t\\t\\t<ngx-intl-tel-input [inputId]=\\\"'userMobile'\\\"\\n\\t\\t\\t\\t\\t\\t\\t[preferredCountries]=\\\"preferredCountries\\\"\\n\\t\\t\\t\\t\\t\\t\\t[enableAutoCountrySelect]=\\\"true\\\" [enablePlaceholder]=\\\"true\\\"\\n\\t\\t\\t\\t\\t\\t\\t[searchCountryFlag]=\\\"true\\\"\\n\\t\\t\\t\\t\\t\\t\\t[searchCountryField]=\\\"[SearchCountryField.Iso2, SearchCountryField.Name]\\\"\\n\\t\\t\\t\\t\\t\\t\\t[selectFirstCountry]=\\\"false\\\"\\n\\t\\t\\t\\t\\t\\t\\t[selectedCountryISO]=\\\"selectedCountryISO\\\" [maxLength]=\\\"15\\\"\\n\\t\\t\\t\\t\\t\\t\\t[phoneValidation]=\\\"false\\\" [separateDialCode]=\\\"separateDialCode\\\"\\n\\t\\t\\t\\t\\t\\t\\t[(ngModel)]=\\\"visitor.expectedVisitorPhone\\\" name=\\\"phone\\\">\\n\\t\\t\\t\\t\\t\\t</ngx-intl-tel-input>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"col-sm-4\\\">\\n\\t\\t\\t\\t\\t\\t<app-datepicker\\n\\t\\t\\t\\t\\t\\t\\tlabelText=\\\"Expected Date/Time of Visit\\\"\\n\\t\\t\\t\\t\\t\\t\\tfieldName=\\\"visitorInTime\\\"\\n\\t\\t\\t\\t\\t\\t\\t[fieldRequired]=\\\"'required'\\\"\\n\\t\\t\\t\\t\\t\\t\\ttype=\\\"dateTime\\\"\\n\\t\\t\\t\\t\\t\\t\\t[fieldModel]=\\\"visitor.expectedVisitorInTime\\\"\\n\\t\\t\\t\\t\\t\\t\\t(fieldParams)=\\\"getExpectedVisitorInDate($event)\\\">\\n\\t\\t\\t\\t\\t\\t</app-datepicker>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"col-sm-4\\\">\\n\\t\\t\\t\\t\\t\\t<app-datepicker\\n\\t\\t\\t\\t\\t\\t\\tlabelText=\\\"Expected Out/Time of Visit\\\"\\n\\t\\t\\t\\t\\t\\t\\tfieldName=\\\"visitorOutTime\\\"\\n\\t\\t\\t\\t\\t\\t\\t[fieldRequired]=\\\"'required'\\\"\\n\\t\\t\\t\\t\\t\\t\\ttype=\\\"dateTime\\\"\\n\\t\\t\\t\\t\\t\\t\\t[fieldModel]=\\\"visitor.expectedVisitorOutTime\\\"\\n\\t\\t\\t\\t\\t\\t\\t(fieldParams)=\\\"getExpectedVisitorOutDate($event)\\\">\\n\\t\\t\\t\\t\\t\\t</app-datepicker>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"col-sm-4\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"input-box\\\">\\n\\t\\t\\t\\t\\t\\t\\t<label>Expected Duration of Visit<span class=\\\"required\\\">*</span></label>\\n\\t\\t\\t\\t\\t\\t\\t<input class=\\\"form-control\\\" placeholder=\\\"Duration Info\\\" name=\\\"durationInfo\\\" [value]=\\\"expectedDurationInfo\\\" [disabled]=\\\"true\\\">\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"col-sm-4\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"input-box radio-box\\\">\\n\\t\\t\\t\\t\\t\\t\\t<label>Expected Visit Category<span class=\\\"required\\\">*</span></label>\\n\\t\\t\\t\\t\\t\\t\\t<select name=\\\"visitByCategory\\\" id=\\\"visitByCategory\\\" class=\\\"form-control\\\"[(ngModel)]=\\\"visitor.visitorCategoryId\\\" required>\\n\\t\\t\\t\\t\\t\\t\\t\\t<option [ngValue]=\\\"null\\\" disabled selected hidden>Select</option>\\n\\t\\t\\t\\t\\t\\t\\t\\t<option *ngFor=\\\"let item of visitCategoryList | orderBy : 'lookupValueName'\\\" [ngValue]=\\\"item.lookupValueId\\\">{{ item.lookupValueName }}</option>\\n\\t\\t\\t\\t\\t\\t\\t</select>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"col-sm-4\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"input-box\\\">\\n\\t\\t\\t\\t\\t\\t\\t<label>Reason for Visit<span class=\\\"required\\\">*</span></label>\\n\\t\\t\\t\\t\\t\\t\\t<textarea  type=\\\"text\\\" class=\\\"form-control purpose-box\\\" placeholder=\\\"Enter purpose\\\" name=\\\"visitorpurpose\\\" [(ngModel)]=\\\"visitor.purpose\\\" required></textarea>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\\\"row\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"col-sm-12 float-right\\\">\\n\\t\\t\\t\\t\\t\\t<submit-button (click)=\\\"createExpectedVisitor()\\\" [isSubmit]=\\\"isDataSubmitted\\\">Submit</submit-button>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</form>\\n\\t</div>\\n</div>\";","export default \"<app-facility-create-booking *ngIf=\\\"data.type=='facility-booking'\\\" [popUpInfo]=\\\"data.info\\\" (modalResult)=\\\"popUpResult($event)\\\"></app-facility-create-booking>\\n<app-facility-calender *ngIf=\\\"data.type=='view-calendar-booking'\\\" [popUpInfo]=\\\"data.info\\\"></app-facility-calender>\\n<app-facility-expected-visitor *ngIf=\\\"data.type=='create-visitor'\\\" [popUpInfo]=\\\"data.info\\\" (modalResult)=\\\"popUpResult($event)\\\"></app-facility-expected-visitor>\";","export default \"<div class=\\\"user-facility-booking-list\\\">\\n\\t<div class=\\\"main\\\">\\n\\t\\t<!-- Loader -->\\n\\t\\t<app-loader *ngIf=\\\"!isBookingDataLoaded\\\"></app-loader>\\n\\t\\t<!-- Table -->\\n\\t\\t<condo-card *ngIf=\\\"isBookingDataLoaded\\\">\\n\\t\\t\\t<div CondoCardHeader>\\n\\t\\t\\t\\t<div class=\\\"d-flex\\\">\\n\\t\\t\\t\\t\\t<div>\\n\\t\\t\\t\\t\\t\\t<h4>All Bookings</h4>\\n\\t\\t\\t\\t\\t\\t<p>{{totalItems}} results</p>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"ml-auto mr-3\\\">\\n\\t\\t\\t\\t\\t\\t<app-table-search [input]=\\\"bookingSearch\\\" (outputParams)=\\\"onGlSearchFilter($event)\\\"></app-table-search>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"mr-3\\\">\\n\\t\\t\\t\\t\\t\\t<app-print-dropdown (outputParams) =\\\"getPrintParams($event)\\\"></app-print-dropdown>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div>\\n\\t\\t\\t\\t\\t\\t<button mat-flat-button [color]=\\\"'primary'\\\" routerLink=\\\"/user/facility/bookings/create-booking\\\">Create Booking</button>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div CondoCardBody>\\n\\t\\t\\t\\t<jqxGrid \\n\\t\\t\\t\\t\\t[theme]=\\\"'material'\\\" \\n\\t\\t\\t\\t\\t[width]=\\\"'100%'\\\"\\n\\t\\t\\t\\t\\t[rowsheight]=\\\"48\\\"\\n\\t\\t\\t\\t\\t[autoheight]=\\\"true\\\"\\n\\t\\t\\t\\t\\t[pageable]=\\\"true\\\" \\n\\t\\t\\t\\t\\t[filterable]=\\\"true\\\" \\n\\t\\t\\t\\t\\t[sortable]=\\\"true\\\" \\n\\t\\t\\t\\t\\t[source]=\\\"bookingListData\\\"\\n\\t\\t\\t\\t\\t[columns]=\\\"columnData\\\"\\n\\t\\t\\t\\t\\t[columnsresize]=\\\"true\\\"\\n\\t\\t\\t\\t\\t[enablehover]=\\\"false\\\" #datagrid>\\n\\t\\t\\t\\t</jqxGrid> \\n\\t\\t\\t</div>\\n\\t\\t</condo-card>\\n\\t</div>\\n</div>\";","export default \"/* Colors for the ripple elements.*/\\n/* stylelint-disable-next-line material/theme-mixin-api */\\n/* stylelint-disable-next-line material/theme-mixin-api */\\n/* stylelint-disable material/no-prefixes */\\n/* stylelint-enable */\\n.facility-view-calendar-wrapper {\\n  font-size: 1.4rem;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9AYW5ndWxhci9tYXRlcmlhbC9fdGhlbWluZy5zY3NzIiwic3JjL2FwcC9tb2R1bGVzL2Ftcy9mYWNpbGl0eS9mYWNpbGl0eS1jcmVhdGUtYm9va2luZy9mYWNpbGl0eS1jYWxlbmRlci9mYWNpbGl0eS1jYWxlbmRlci5jb21wb25lbnQuc2NzcyIsInNyYy9AY29uZG8vc3R5bGVzL3V0aWxpdGllcy9fdHlwb2dyYXBoeS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQTJ0REEsbUNBQUE7QUFnSkEseURBQUE7QUE2WEEseURBQUE7QUE0ekRBLDJDQUFBO0FBd0NBLHFCQUFBO0FDMWtJQTtFQ2dESSxpQkFBQTtBRDNDSiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvYW1zL2ZhY2lsaXR5L2ZhY2lsaXR5LWNyZWF0ZS1ib29raW5nL2ZhY2lsaXR5LWNhbGVuZGVyL2ZhY2lsaXR5LWNhbGVuZGVyLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gRmlsZSBmb3Igd2hpY2ggYWxsIGltcG9ydHMgYXJlIHJlc29sdmVkIGFuZCBidW5kbGVkLiBUaGlzIGlzIHRoZSBlbnRyeS1wb2ludCBmb3Jcbi8vIHRoZSBgQGFuZ3VsYXIvbWF0ZXJpYWxgIHRoZW1pbmcgU2FzcyBidW5kbGUuIFNlZSBgLy9zcmMvbWF0ZXJpYWw6dGhlbWluZ19idW5kbGVgLlxuXG4vLyBJbXBvcnQgYWxsIHRoZSB0aGVtaW5nIGZ1bmN0aW9uYWxpdHkuXG4vLyBXZSB3YW50IG92ZXJsYXlzIHRvIGFsd2F5cyBhcHBlYXIgb3ZlciB1c2VyIGNvbnRlbnQsIHNvIHNldCBhIGJhc2VsaW5lXG4vLyB2ZXJ5IGhpZ2ggei1pbmRleCBmb3IgdGhlIG92ZXJsYXkgY29udGFpbmVyLCB3aGljaCBpcyB3aGVyZSB3ZSBjcmVhdGUgdGhlIG5ld1xuLy8gc3RhY2tpbmcgY29udGV4dCBmb3IgYWxsIG92ZXJsYXlzLlxuJGNkay16LWluZGV4LW92ZXJsYXktY29udGFpbmVyOiAxMDAwICFkZWZhdWx0O1xuJGNkay16LWluZGV4LW92ZXJsYXk6IDEwMDAgIWRlZmF1bHQ7XG4kY2RrLXotaW5kZXgtb3ZlcmxheS1iYWNrZHJvcDogMTAwMCAhZGVmYXVsdDtcblxuLy8gQmFja2dyb3VuZCBjb2xvciBmb3IgYWxsIG9mIHRoZSBiYWNrZHJvcHNcbiRjZGstb3ZlcmxheS1kYXJrLWJhY2tkcm9wLWJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC4zMikgIWRlZmF1bHQ7XG5cbi8vIERlZmF1bHQgYmFja2Ryb3AgYW5pbWF0aW9uIGlzIGJhc2VkIG9uIHRoZSBNYXRlcmlhbCBEZXNpZ24gc3dpZnQtZWFzZS1vdXQuXG4kYmFja2Ryb3AtYW5pbWF0aW9uLWR1cmF0aW9uOiA0MDBtcyAhZGVmYXVsdDtcbiRiYWNrZHJvcC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBjdWJpYy1iZXppZXIoMC4yNSwgMC44LCAwLjI1LCAxKSAhZGVmYXVsdDtcblxuXG5AbWl4aW4gY2RrLW92ZXJsYXkoKSB7XG4gIC5jZGstb3ZlcmxheS1jb250YWluZXIsIC5jZGstZ2xvYmFsLW92ZXJsYXktd3JhcHBlciB7XG4gICAgLy8gRGlzYWJsZSBldmVudHMgZnJvbSBiZWluZyBjYXB0dXJlZCBvbiB0aGUgb3ZlcmxheSBjb250YWluZXIuXG4gICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG5cbiAgICAvLyBUaGUgY29udGFpbmVyIHNob3VsZCBiZSB0aGUgc2l6ZSBvZiB0aGUgdmlld3BvcnQuXG4gICAgdG9wOiAwO1xuICAgIGxlZnQ6IDA7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG5cbiAgLy8gVGhlIG92ZXJsYXktY29udGFpbmVyIGlzIGFuIGludmlzaWJsZSBlbGVtZW50IHdoaWNoIGNvbnRhaW5zIGFsbCBpbmRpdmlkdWFsIG92ZXJsYXlzLlxuICAuY2RrLW92ZXJsYXktY29udGFpbmVyIHtcbiAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgei1pbmRleDogJGNkay16LWluZGV4LW92ZXJsYXktY29udGFpbmVyO1xuXG4gICAgJjplbXB0eSB7XG4gICAgICAvLyBIaWRlIHRoZSBlbGVtZW50IHdoZW4gaXQgZG9lc24ndCBoYXZlIGFueSBjaGlsZCBub2Rlcy4gVGhpcyBkb2Vzbid0XG4gICAgICAvLyBpbmNsdWRlIG92ZXJsYXlzIHRoYXQgaGF2ZSBiZWVuIGRldGFjaGVkLCByYXRoZXIgdGhhbiBkaXNwb3NlZC5cbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuICB9XG5cbiAgLy8gV2UgdXNlIGFuIGV4dHJhIHdyYXBwZXIgZWxlbWVudCBpbiBvcmRlciB0byB1c2UgbWFrZSB0aGUgb3ZlcmxheSBpdHNlbGYgYSBmbGV4IGl0ZW0uXG4gIC8vIFRoaXMgbWFrZXMgY2VudGVyaW5nIHRoZSBvdmVybGF5IGVhc3kgd2l0aG91dCBydW5uaW5nIGludG8gdGhlIHN1YnBpeGVsIHJlbmRlcmluZ1xuICAvLyBwcm9ibGVtcyB0aWVkIHRvIHVzaW5nIGB0cmFuc2Zvcm1gIGFuZCB3aXRob3V0IGludGVyZmVyaW5nIHdpdGggdGhlIG90aGVyIHBvc2l0aW9uXG4gIC8vIHN0cmF0ZWdpZXMuXG4gIC5jZGstZ2xvYmFsLW92ZXJsYXktd3JhcHBlciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgei1pbmRleDogJGNkay16LWluZGV4LW92ZXJsYXk7XG4gIH1cblxuICAvLyBBIHNpbmdsZSBvdmVybGF5IHBhbmUuXG4gIC5jZGstb3ZlcmxheS1wYW5lIHtcbiAgICAvLyBOb3RlOiBpdCdzIGltcG9ydGFudCBmb3IgdGhpcyBvbmUgdG8gc3RhcnQgb2ZmIGBhYnNvbHV0ZWAsXG4gICAgLy8gaW4gb3JkZXIgZm9yIHVzIHRvIGJlIGFibGUgdG8gbWVhc3VyZSBpdCBjb3JyZWN0bHkuXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHBvaW50ZXItZXZlbnRzOiBhdXRvO1xuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgei1pbmRleDogJGNkay16LWluZGV4LW92ZXJsYXk7XG5cbiAgICAvLyBGb3IgY29ubmVjdGVkLXBvc2l0aW9uIG92ZXJsYXlzLCB3ZSBzZXQgYGRpc3BsYXk6IGZsZXhgIGluXG4gICAgLy8gb3JkZXIgdG8gZm9yY2UgYG1heC13aWR0aGAgYW5kIGBtYXgtaGVpZ2h0YCB0byB0YWtlIGVmZmVjdC5cbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIG1heC13aWR0aDogMTAwJTtcbiAgICBtYXgtaGVpZ2h0OiAxMDAlO1xuICB9XG5cbiAgLmNkay1vdmVybGF5LWJhY2tkcm9wIHtcbiAgICAvLyBUT0RPKGplbGJvdXJuKTogcmV1c2Ugc2lkZW5hdiBmdWxsc2NyZWVuIG1peGluLlxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDA7XG4gICAgYm90dG9tOiAwO1xuICAgIGxlZnQ6IDA7XG4gICAgcmlnaHQ6IDA7XG5cbiAgICB6LWluZGV4OiAkY2RrLXotaW5kZXgtb3ZlcmxheS1iYWNrZHJvcDtcbiAgICBwb2ludGVyLWV2ZW50czogYXV0bztcbiAgICAtd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6IHRyYW5zcGFyZW50O1xuICAgIHRyYW5zaXRpb246IG9wYWNpdHkgJGJhY2tkcm9wLWFuaW1hdGlvbi1kdXJhdGlvbiAkYmFja2Ryb3AtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjtcbiAgICBvcGFjaXR5OiAwO1xuXG4gICAgJi5jZGstb3ZlcmxheS1iYWNrZHJvcC1zaG93aW5nIHtcbiAgICAgIG9wYWNpdHk6IDE7XG5cbiAgICAgIC8vIEluIGhpZ2ggY29udHJhc3QgbW9kZSB0aGUgcmdiYSBiYWNrZ3JvdW5kIHdpbGwgYmVjb21lIHNvbGlkIHNvIHdlIG5lZWQgdG8gZmFsbCBiYWNrXG4gICAgICAvLyB0byBtYWtpbmcgaXQgb3BhcXVlIHVzaW5nIGBvcGFjaXR5YC4gTm90ZSB0aGF0IHdlIGNhbid0IHVzZSB0aGUgYGNkay1oaWdoLWNvbnRyYXN0YFxuICAgICAgLy8gbWl4aW4sIGJlY2F1c2Ugd2UgY2FuJ3Qgbm9ybWFsaXplIHRoZSBpbXBvcnQgcGF0aCB0byB0aGUgX2ExMXkuc2NzcyBib3RoIGZvciB0aGVcbiAgICAgIC8vIHNvdXJjZSBhbmQgd2hlbiB0aGlzIGZpbGUgaXMgZGlzdHJpYnV0ZWQuIFNlZSAjMTA5MDguXG4gICAgICBAbWVkaWEgc2NyZWVuIGFuZCAoLW1zLWhpZ2gtY29udHJhc3Q6IGFjdGl2ZSkge1xuICAgICAgICBvcGFjaXR5OiAwLjY7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLmNkay1vdmVybGF5LWRhcmstYmFja2Ryb3Age1xuICAgIGJhY2tncm91bmQ6ICRjZGstb3ZlcmxheS1kYXJrLWJhY2tkcm9wLWJhY2tncm91bmQ7XG4gIH1cblxuICAuY2RrLW92ZXJsYXktdHJhbnNwYXJlbnQtYmFja2Ryb3Age1xuICAgIC8vIE5vdGU6IGFzIG9mIEZpcmVmb3ggNTcsIGhhdmluZyB0aGUgYmFja2Ryb3AgYmUgYGJhY2tncm91bmQ6IG5vbmVgIHdpbGwgcHJldmVudCBpdCBmcm9tXG4gICAgLy8gY2FwdHVyaW5nIHRoZSB1c2VyJ3MgbW91c2Ugc2Nyb2xsIGV2ZW50cy4gU2luY2Ugd2UgYWxzbyBjYW4ndCB1c2Ugc29tZXRoaW5nIGxpa2VcbiAgICAvLyBgcmdiYSgwLCAwLCAwLCAwKWAsIHdlIHdvcmsgYXJvdW5kIHRoZSBpbmNvbnNpc3RlbmN5IGJ5IG5vdCBzZXR0aW5nIHRoZSBiYWNrZ3JvdW5kIGF0XG4gICAgLy8gYWxsIGFuZCB1c2luZyBgb3BhY2l0eWAgdG8gbWFrZSB0aGUgZWxlbWVudCB0cmFuc3BhcmVudC5cbiAgICAmLCAmLmNkay1vdmVybGF5LWJhY2tkcm9wLXNob3dpbmcge1xuICAgICAgb3BhY2l0eTogMDtcbiAgICB9XG4gIH1cblxuICAvLyBPdmVybGF5IHBhcmVudCBlbGVtZW50IHVzZWQgd2l0aCB0aGUgY29ubmVjdGVkIHBvc2l0aW9uIHN0cmF0ZWd5LiBVc2VkIHRvIGNvbnN0cmFpbiB0aGVcbiAgLy8gb3ZlcmxheSBlbGVtZW50J3Mgc2l6ZSB0byBmaXQgd2l0aGluIHRoZSB2aWV3cG9ydC5cbiAgLmNkay1vdmVybGF5LWNvbm5lY3RlZC1wb3NpdGlvbi1ib3VuZGluZy1ib3gge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB6LWluZGV4OiAkY2RrLXotaW5kZXgtb3ZlcmxheTtcblxuICAgIC8vIFdlIHVzZSBgZGlzcGxheTogZmxleGAgb24gdGhpcyBlbGVtZW50IGV4Y2x1c2l2ZWx5IGZvciBjZW50ZXJpbmcgY29ubmVjdGVkIG92ZXJsYXlzLlxuICAgIC8vIFdoZW4gKm5vdCogY2VudGVyaW5nLCBhIHRvcC9sZWZ0L2JvdHRvbS9yaWdodCB3aWxsIGJlIHNldCB3aGljaCBvdmVycmlkZXMgdGhlIG5vcm1hbFxuICAgIC8vIGZsZXggbGF5b3V0LlxuICAgIGRpc3BsYXk6IGZsZXg7XG5cbiAgICAvLyBXZSB1c2UgdGhlIGBjb2x1bW5gIGRpcmVjdGlvbiBoZXJlIHRvIGF2b2lkIHNvbWUgZmxleGJveCBpc3N1ZXMgaW4gRWRnZVxuICAgIC8vIHdoZW4gdXNpbmcgdGhlIFwiZ3JvdyBhZnRlciBvcGVuXCIgb3B0aW9ucy5cbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuXG4gICAgLy8gQWRkIHNvbWUgZGltZW5zaW9ucyBzbyB0aGUgZWxlbWVudCBoYXMgYW4gYGlubmVyVGV4dGAgd2hpY2ggc29tZSBwZW9wbGUgZGVwZW5kIG9uIGluIHRlc3RzLlxuICAgIG1pbi13aWR0aDogMXB4O1xuICAgIG1pbi1oZWlnaHQ6IDFweDtcbiAgfVxuXG4gIC8vIFVzZWQgd2hlbiBkaXNhYmxpbmcgZ2xvYmFsIHNjcm9sbGluZy5cbiAgLmNkay1nbG9iYWwtc2Nyb2xsYmxvY2sge1xuICAgIHBvc2l0aW9uOiBmaXhlZDtcblxuICAgIC8vIE5lY2Vzc2FyeSBmb3IgdGhlIGNvbnRlbnQgbm90IHRvIGxvc2UgaXRzIHdpZHRoLiBOb3RlIHRoYXQgd2UncmUgdXNpbmcgMTAwJSwgaW5zdGVhZCBvZlxuICAgIC8vIDEwMHZ3LCBiZWNhdXNlIDEwMHZ3IGluY2x1ZGVzIHRoZSB3aWR0aCBwbHVzIHRoZSBzY3JvbGxiYXIsIHdoZXJlYXMgMTAwJSBpcyB0aGUgd2lkdGhcbiAgICAvLyB0aGF0IHRoZSBlbGVtZW50IGhhZCBiZWZvcmUgd2UgbWFkZSBpdCBgZml4ZWRgLlxuICAgIHdpZHRoOiAxMDAlO1xuXG4gICAgLy8gTm90ZTogdGhpcyB3aWxsIGFsd2F5cyBhZGQgYSBzY3JvbGxiYXIgdG8gd2hhdGV2ZXIgZWxlbWVudCBpdCBpcyBvbiwgd2hpY2ggY2FuXG4gICAgLy8gcG90ZW50aWFsbHkgcmVzdWx0IGluIGRvdWJsZSBzY3JvbGxiYXJzLiBJdCBzaG91bGRuJ3QgYmUgYW4gaXNzdWUsIGJlY2F1c2Ugd2Ugd29uJ3RcbiAgICAvLyBibG9jayBzY3JvbGxpbmcgb24gYSBwYWdlIHRoYXQgZG9lc24ndCBoYXZlIGEgc2Nyb2xsYmFyIGluIHRoZSBmaXJzdCBwbGFjZS5cbiAgICBvdmVyZmxvdy15OiBzY3JvbGw7XG4gIH1cbn1cblxuQG1peGluIGNkay1hMTF5IHtcbiAgLmNkay12aXN1YWxseS1oaWRkZW4ge1xuICAgIGJvcmRlcjogMDtcbiAgICBjbGlwOiByZWN0KDAgMCAwIDApO1xuICAgIGhlaWdodDogMXB4O1xuICAgIG1hcmdpbjogLTFweDtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIHBhZGRpbmc6IDA7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHdpZHRoOiAxcHg7XG5cbiAgICAvLyBBdm9pZCBicm93c2VycyByZW5kZXJpbmcgdGhlIGZvY3VzIHJpbmcgaW4gc29tZSBjYXNlcy5cbiAgICBvdXRsaW5lOiAwO1xuXG4gICAgLy8gQXZvaWQgc29tZSBjYXNlcyB3aGVyZSB0aGUgYnJvd3NlciB3aWxsIHN0aWxsIHJlbmRlciB0aGUgbmF0aXZlIGNvbnRyb2xzIChzZWUgIzkwNDkpLlxuICAgIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcbiAgICAtbW96LWFwcGVhcmFuY2U6IG5vbmU7XG4gIH1cbn1cblxuLy8vIEVtaXRzIHRoZSBtaXhpbidzIGNvbnRlbnQgbmVzdGVkIHVuZGVyIGAkc2VsZWN0b3ItY29udGV4dGAgaWYgYCRzZWxlY3Rvci1jb250ZXh0YFxuLy8vIGlzIG5vbi1lbXB0eS5cbi8vLyBAcGFyYW0gc2VsZWN0b3ItY29udGV4dCBUaGUgc2VsZWN0b3IgdW5kZXIgd2hpY2ggdG8gbmVzdCB0aGUgbWl4aW4ncyBjb250ZW50LlxuQG1peGluIF9jZGstb3B0aW9uYWxseS1uZXN0LWNvbnRlbnQoJHNlbGVjdG9yLWNvbnRleHQpIHtcbiAgQGlmICgkc2VsZWN0b3ItY29udGV4dCA9PSAnJykge1xuICAgIEBjb250ZW50O1xuICB9XG4gIEBlbHNlIHtcbiAgICAjeyRzZWxlY3Rvci1jb250ZXh0fSB7XG4gICAgICBAY29udGVudDtcbiAgICB9XG4gIH1cbn1cblxuLy8vIEFwcGxpZXMgc3R5bGVzIGZvciB1c2VycyBpbiBoaWdoIGNvbnRyYXN0IG1vZGUuIE5vdGUgdGhhdCB0aGlzIG9ubHkgYXBwbGllc1xuLy8vIHRvIE1pY3Jvc29mdCBicm93c2Vycy4gQ2hyb21lIGNhbiBiZSBpbmNsdWRlZCBieSBjaGVja2luZyBmb3IgdGhlIGBodG1sW2hjXWBcbi8vLyBhdHRyaWJ1dGUsIGhvd2V2ZXIgQ2hyb21lIGhhbmRsZXMgaGlnaCBjb250cmFzdCBkaWZmZXJlbnRseS5cbi8vL1xuLy8vIEBwYXJhbSB0YXJnZXQgV2hpY2gga2luZCBvZiBoaWdoIGNvbnRyYXN0IHNldHRpbmcgdG8gdGFyZ2V0LiBEZWZhdWx0cyB0byBgYWN0aXZlYCwgY2FuIGJlXG4vLy8gICAgYHdoaXRlLW9uLWJsYWNrYCBvciBgYmxhY2stb24td2hpdGVgLlxuLy8vIEBwYXJhbSBlbmNhcHN1bGF0aW9uIFdoZXRoZXIgdG8gZW1pdCBzdHlsZXMgZm9yIHZpZXcgZW5jYXBzdWxhdGlvbi4gVmFsdWVzIGFyZTpcbi8vLyAgICAgKiBgb25gIC0gd29ya3MgZm9yIGBFbXVsYXRlZGAsIGBOYXRpdmVgLCBhbmQgYFNoYWRvd0RvbWBcbi8vLyAgICAgKiBgb2ZmYCAtIHdvcmtzIGZvciBgTm9uZWBcbi8vLyAgICAgKiBgYW55YCAtIHdvcmtzIGZvciBhbGwgZW5jYXBzdWxhdGlvbiBtb2RlcyBieSBlbWl0dGluZyB0aGUgQ1NTIHR3aWNlIChkZWZhdWx0KS5cbkBtaXhpbiBjZGstaGlnaC1jb250cmFzdCgkdGFyZ2V0OiBhY3RpdmUsICRlbmNhcHN1bGF0aW9uOiAnYW55Jykge1xuICBAaWYgKCR0YXJnZXQgIT0gJ2FjdGl2ZScgYW5kICR0YXJnZXQgIT0gJ2JsYWNrLW9uLXdoaXRlJyBhbmQgJHRhcmdldCAhPSAnd2hpdGUtb24tYmxhY2snKSB7XG4gICAgQGVycm9yICdVbmtub3duIGNkay1oaWdoLWNvbnRyYXN0IHZhbHVlIFwiI3skdGFyZ2V0fVwiIHByb3ZpZGVkLiAnICtcbiAgICAgICAgICAgJ0FsbG93ZWQgdmFsdWVzIGFyZSBcImFjdGl2ZVwiLCBcImJsYWNrLW9uLXdoaXRlXCIsIGFuZCBcIndoaXRlLW9uLWJsYWNrXCInO1xuICB9XG5cbiAgQGlmICgkZW5jYXBzdWxhdGlvbiAhPSAnb24nIGFuZCAkZW5jYXBzdWxhdGlvbiAhPSAnb2ZmJyBhbmQgJGVuY2Fwc3VsYXRpb24gIT0gJ2FueScpIHtcbiAgICBAZXJyb3IgJ1Vua25vd24gY2RrLWhpZ2gtY29udHJhc3QgZW5jYXBzdWxhdGlvbiBcIiN7JGVuY2Fwc3VsYXRpb259XCIgcHJvdmlkZWQuICcgK1xuICAgICAgICAgICAnQWxsb3dlZCB2YWx1ZXMgYXJlIFwib25cIiwgXCJvZmZcIiwgYW5kIFwiYW55XCInO1xuICB9XG5cbiAgLy8gSWYgdGhlIHNlbGVjdG9yIGNvbnRleHQgaGFzIG11bHRpcGxlIHBhcnRzLCBzdWNoIGFzIGAuc2VjdGlvbiwgLnJlZ2lvbmAsIGp1c3QgZG9pbmdcbiAgLy8gYC5jZGstaGlnaC1jb250cmFzdC14eHggI3smfWAgd2lsbCBvbmx5IGFwcGx5IHRoZSBwYXJlbnQgc2VsZWN0b3IgdG8gdGhlIGZpcnN0IHBhcnQgb2YgdGhlXG4gIC8vIGNvbnRleHQuIFdlIGFkZHJlc3MgdGhpcyBieSBuZXN0aW5nIHRoZSBzZWxlY3RvciBjb250ZXh0IHVuZGVyIC5jZGstaGlnaC1jb250cmFzdC5cbiAgQGF0LXJvb3Qge1xuICAgICRzZWxlY3Rvci1jb250ZXh0OiAjeyZ9O1xuXG4gICAgQGlmICgkZW5jYXBzdWxhdGlvbiAhPSAnb24nKSB7XG4gICAgICAuY2RrLWhpZ2gtY29udHJhc3QtI3skdGFyZ2V0fSB7XG4gICAgICAgIEBpbmNsdWRlIF9jZGstb3B0aW9uYWxseS1uZXN0LWNvbnRlbnQoJHNlbGVjdG9yLWNvbnRleHQpIHtcbiAgICAgICAgICBAY29udGVudDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIEBpZiAoJGVuY2Fwc3VsYXRpb24gIT0gJ29mZicpIHtcbiAgICAgIC5jZGstaGlnaC1jb250cmFzdC0jeyR0YXJnZXR9IDpob3N0IHtcbiAgICAgICAgQGluY2x1ZGUgX2Nkay1vcHRpb25hbGx5LW5lc3QtY29udGVudCgkc2VsZWN0b3ItY29udGV4dCkge1xuICAgICAgICAgIEBjb250ZW50O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8vIENvcmUgc3R5bGVzIHRoYXQgZW5hYmxlIG1vbml0b3JpbmcgYXV0b2ZpbGwgc3RhdGUgb2YgdGV4dCBmaWVsZHMuXG5AbWl4aW4gY2RrLXRleHQtZmllbGQge1xuICAvLyBLZXlmcmFtZXMgdGhhdCBhcHBseSBubyBzdHlsZXMsIGJ1dCBhbGxvdyB1cyB0byBtb25pdG9yIHdoZW4gYW4gdGV4dCBmaWVsZCBiZWNvbWVzIGF1dG9maWxsZWRcbiAgLy8gYnkgd2F0Y2hpbmcgZm9yIHRoZSBhbmltYXRpb24gZXZlbnRzIHRoYXQgYXJlIGZpcmVkIHdoZW4gdGhleSBzdGFydC4gTm90ZTogdGhlIC8qISovIGNvbW1lbnQgaXNcbiAgLy8gbmVlZGVkIHRvIHByZXZlbnQgTGliU2FzcyBmcm9tIHN0cmlwcGluZyB0aGUga2V5ZnJhbWVzIG91dC5cbiAgLy8gQmFzZWQgb246IGh0dHBzOi8vbWVkaXVtLmNvbS9AYnJ1bm4vZGV0ZWN0aW5nLWF1dG9maWxsZWQtZmllbGRzLWluLWphdmFzY3JpcHQtYWVkNTk4ZDI1ZGE3XG4gIEBrZXlmcmFtZXMgY2RrLXRleHQtZmllbGQtYXV0b2ZpbGwtc3RhcnQgey8qISovfVxuICBAa2V5ZnJhbWVzIGNkay10ZXh0LWZpZWxkLWF1dG9maWxsLWVuZCB7LyohKi99XG5cbiAgLmNkay10ZXh0LWZpZWxkLWF1dG9maWxsLW1vbml0b3JlZDotd2Via2l0LWF1dG9maWxsIHtcbiAgICAvLyBTaW5jZSBDaHJvbWUgODAgd2UgbmVlZCBhIDFtcyBkZWxheSwgb3IgdGhlIGFuaW1hdGlvbnN0YXJ0IGV2ZW50IHdvbid0IGZpcmUuXG4gICAgYW5pbWF0aW9uOiBjZGstdGV4dC1maWVsZC1hdXRvZmlsbC1zdGFydCAwcyAxbXM7XG4gIH1cblxuICAuY2RrLXRleHQtZmllbGQtYXV0b2ZpbGwtbW9uaXRvcmVkOm5vdCg6LXdlYmtpdC1hdXRvZmlsbCkge1xuICAgIC8vIFNpbmNlIENocm9tZSA4MCB3ZSBuZWVkIGEgMW1zIGRlbGF5LCBvciB0aGUgYW5pbWF0aW9uc3RhcnQgZXZlbnQgd29uJ3QgZmlyZS5cbiAgICBhbmltYXRpb246IGNkay10ZXh0LWZpZWxkLWF1dG9maWxsLWVuZCAwcyAxbXM7XG4gIH1cblxuICAvLyBSZW1vdmUgdGhlIHJlc2l6ZSBoYW5kbGUgb24gYXV0b3NpemluZyB0ZXh0YXJlYXMsIGJlY2F1c2Ugd2hhdGV2ZXIgaGVpZ2h0XG4gIC8vIHRoZSB1c2VyIHJlc2l6ZWQgdG8gd2lsbCBiZSBvdmVyd3JpdHRlbiBvbmNlIHRoZXkgc3RhcnQgdHlwaW5nIGFnYWluLlxuICB0ZXh0YXJlYS5jZGstdGV4dGFyZWEtYXV0b3NpemUge1xuICAgIHJlc2l6ZTogbm9uZTtcbiAgfVxuXG4gIC8vIFRoaXMgY2xhc3MgaXMgdGVtcG9yYXJpbHkgYXBwbGllZCB0byB0aGUgdGV4dGFyZWEgd2hlbiBpdCBpcyBiZWluZyBtZWFzdXJlZC4gSXQgaXMgaW1tZWRpYXRlbHlcbiAgLy8gcmVtb3ZlZCB3aGVuIG1lYXN1cmluZyBpcyBjb21wbGV0ZS4gV2UgdXNlIGAhaW1wb3J0YW50YCBydWxlcyBoZXJlIHRvIG1ha2Ugc3VyZSB1c2VyLXNwZWNpZmllZFxuICAvLyBydWxlcyBkbyBub3QgaW50ZXJmZXJlIHdpdGggdGhlIG1lYXN1cmVtZW50LlxuICB0ZXh0YXJlYS5jZGstdGV4dGFyZWEtYXV0b3NpemUtbWVhc3VyaW5nIHtcbiAgICBAaW5jbHVkZSBfY2RrLXRleHRhcmVhLWF1dG9zaXplLW1lYXN1cmluZy1iYXNlO1xuICAgIGhlaWdodDogYXV0byAhaW1wb3J0YW50O1xuICAgIG92ZXJmbG93OiBoaWRkZW4gIWltcG9ydGFudDtcbiAgfVxuXG4gIC8vIFNpbWlsYXIgdG8gdGhlIGBjZGstdGV4dGFyZWEtYXV0b3NpemUtbWVhc3VyaW5nYCBjbGFzcywgYnV0IG9ubHkgYXBwbGllZCBvbiBGaXJlZm94LiBXZSBuZWVkXG4gIC8vIHRvIHVzZSB0aGlzIGNsYXNzLCBiZWNhdXNlIEZpcmVmb3ggaGFzIGEgYnVnIHdoZXJlIGNoYW5naW5nIHRoZSBgb3ZlcmZsb3dgIGJyZWFrcyB0aGUgdXNlcidzXG4gIC8vIGFiaWxpdHkgdG8gdW5kby9yZWRvIHdoYXQgdGhleSB3ZXJlIHR5cGluZyAoc2VlICMxNjYyOSkuIFRoaXMgY2xhc3MgaXMgb25seSBzY29wZWQgdG8gRmlyZWZveCxcbiAgLy8gYmVjYXVzZSB0aGUgbWVhc3VyZW1lbnRzIHRoZXJlIGRvbid0IHNlZW0gdG8gYmUgYWZmZWN0ZWQgYnkgdGhlIGBoZWlnaHQ6IDBgLCB3aGVyZWFzIG9uIG90aGVyXG4gIC8vIGJyb3dzZXJzIHRoZXkgYXJlLCBlLmcuIENocm9tZSBkZXRlY3RzIGxvbmdlciB0ZXh0IGFuZCBJRSBkb2VzJ3QgcmVzaXplIGJhY2sgdG8gbm9ybWFsLlxuICAvLyBJZGVudGljYWwgaXNzdWUgcmVwb3J0OiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD00NDg3ODRcbiAgdGV4dGFyZWEuY2RrLXRleHRhcmVhLWF1dG9zaXplLW1lYXN1cmluZy1maXJlZm94IHtcbiAgICBAaW5jbHVkZSBfY2RrLXRleHRhcmVhLWF1dG9zaXplLW1lYXN1cmluZy1iYXNlO1xuICAgIGhlaWdodDogMCAhaW1wb3J0YW50O1xuICB9XG59XG5cbkBtaXhpbiBfY2RrLXRleHRhcmVhLWF1dG9zaXplLW1lYXN1cmluZy1iYXNlIHtcbiAgLy8gSGF2aW5nIDJweCB0b3AgYW5kIGJvdHRvbSBwYWRkaW5nIHNlZW1zIHRvIGZpeCBhIGJ1ZyB3aGVyZSBDaHJvbWUgZ2V0cyBhbiBpbmNvcnJlY3RcbiAgLy8gbWVhc3VyZW1lbnQuIFdlIGp1c3QgaGF2ZSB0byBhY2NvdW50IGZvciBpdCBsYXRlciBhbmQgc3VidHJhY3QgaXQgb2ZmIHRoZSBmaW5hbCByZXN1bHQuXG4gIHBhZGRpbmc6IDJweCAwICFpbXBvcnRhbnQ7XG4gIGJveC1zaXppbmc6IGNvbnRlbnQtYm94ICFpbXBvcnRhbnQ7XG59XG5cbi8vIFVzZWQgdG8gZ2VuZXJhdGUgVUlEcyBmb3Iga2V5ZnJhbWVzIHVzZWQgdG8gY2hhbmdlIHRoZSB0ZXh0IGZpZWxkIGF1dG9maWxsIHN0eWxlcy5cbiRjZGstdGV4dC1maWVsZC1hdXRvZmlsbC1jb2xvci1mcmFtZS1jb3VudDogMDtcblxuLy8gTWl4aW4gdXNlZCB0byBhcHBseSBjdXN0b20gYmFja2dyb3VuZCBhbmQgZm9yZWdyb3VuZCBjb2xvcnMgdG8gYW4gYXV0b2ZpbGxlZCB0ZXh0IGZpZWxkLlxuLy8gQmFzZWQgb246IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzI3ODE1NDkvXG4vLyByZW1vdmluZy1pbnB1dC1iYWNrZ3JvdW5kLWNvbG91ci1mb3ItY2hyb21lLWF1dG9jb21wbGV0ZSNhbnN3ZXItMzc0MzIyNjBcbkBtaXhpbiBjZGstdGV4dC1maWVsZC1hdXRvZmlsbC1jb2xvcigkYmFja2dyb3VuZCwgJGZvcmVncm91bmQ6JycpIHtcbiAgQGtleWZyYW1lcyBjZGstdGV4dC1maWVsZC1hdXRvZmlsbC1jb2xvci0jeyRjZGstdGV4dC1maWVsZC1hdXRvZmlsbC1jb2xvci1mcmFtZS1jb3VudH0ge1xuICAgIHRvIHtcbiAgICAgIGJhY2tncm91bmQ6ICRiYWNrZ3JvdW5kO1xuICAgICAgQGlmICRmb3JlZ3JvdW5kICE9ICcnIHsgY29sb3I6ICRmb3JlZ3JvdW5kOyB9XG4gICAgfVxuICB9XG5cbiAgJjotd2Via2l0LWF1dG9maWxsIHtcbiAgICBhbmltYXRpb246IGNkay10ZXh0LWZpZWxkLWF1dG9maWxsLWNvbG9yLSN7JGNkay10ZXh0LWZpZWxkLWF1dG9maWxsLWNvbG9yLWZyYW1lLWNvdW50fSBib3RoO1xuICB9XG5cbiAgJi5jZGstdGV4dC1maWVsZC1hdXRvZmlsbC1tb25pdG9yZWQ6LXdlYmtpdC1hdXRvZmlsbCB7XG4gICAgLy8gU2luY2UgQ2hyb21lIDgwIHdlIG5lZWQgYSAxbXMgZGVsYXkgZm9yIGNkay10ZXh0LWZpZWxkLWF1dG9maWxsLXN0YXJ0LCBvciB0aGUgYW5pbWF0aW9uc3RhcnRcbiAgICAvLyBldmVudCB3b24ndCBmaXJlLlxuICAgIGFuaW1hdGlvbjogY2RrLXRleHQtZmllbGQtYXV0b2ZpbGwtc3RhcnQgMHMgMW1zLFxuICAgICAgICAgICAgICAgY2RrLXRleHQtZmllbGQtYXV0b2ZpbGwtY29sb3ItI3skY2RrLXRleHQtZmllbGQtYXV0b2ZpbGwtY29sb3ItZnJhbWUtY291bnR9IGJvdGg7XG4gIH1cblxuICAkY2RrLXRleHQtZmllbGQtYXV0b2ZpbGwtY29sb3ItZnJhbWUtY291bnQ6XG4gICAgICAkY2RrLXRleHQtZmllbGQtYXV0b2ZpbGwtY29sb3ItZnJhbWUtY291bnQgKyAxICFnbG9iYWw7XG59XG5cblxuLy8gQ29yZSBzdHlsZXMgdGhhdCBjYW4gYmUgdXNlZCB0byBhcHBseSBtYXRlcmlhbCBkZXNpZ24gdHJlYXRtZW50cyB0byBhbnkgZWxlbWVudC5cbi8vIE1lZGlhIHF1ZXJpZXNcbi8vIFRPRE8oam9zZXBocGVycm90dCk6IENoYW5nZSAkbWF0LXhzbWFsbCBhbmQgJG1hdC1zbWFsbCB1c2FnZXMgdG8gcmVseSBvbiBCcmVha3BvaW50T2JzZXJ2ZXIsXG4kbWF0LXhzbWFsbDogJ21heC13aWR0aDogNTk5cHgnO1xuJG1hdC1zbWFsbDogJ21heC13aWR0aDogOTU5cHgnO1xuXG4vLyBUT0RPOiBSZXZpc2l0IGFsbCB6LWluZGljZXMgYmVmb3JlIGJldGFcbi8vIHotaW5kZXggbWFzdGVyIGxpc3RcblxuJHotaW5kZXgtZmFiOiAyMCAhZGVmYXVsdDtcbiR6LWluZGV4LWRyYXdlcjogMTAwICFkZWZhdWx0O1xuXG4vLyBHbG9iYWwgY29uc3RhbnRzXG4kcGk6IDMuMTQxNTkyNjU7XG5cbi8vIFBhZGRpbmcgYmV0d2VlbiBpbnB1dCB0b2dnbGVzIGFuZCB0aGVpciBsYWJlbHNcbiRtYXQtdG9nZ2xlLXBhZGRpbmc6IDhweCAhZGVmYXVsdDtcbi8vIFdpZHRoIGFuZCBoZWlnaHQgb2YgaW5wdXQgdG9nZ2xlc1xuJG1hdC10b2dnbGUtc2l6ZTogMjBweCAhZGVmYXVsdDtcblxuLy8gRWFzaW5nIEN1cnZlc1xuLy8gVE9ETyhqZWxib3Vybik6IGFsbCBvZiB0aGVzZSBuZWVkIHRvIGJlIHJldmlzaXRlZFxuXG4vLyBUaGUgZGVmYXVsdCBhbmltYXRpb24gY3VydmVzIHVzZWQgYnkgbWF0ZXJpYWwgZGVzaWduLlxuJG1hdC1saW5lYXItb3V0LXNsb3ctaW4tdGltaW5nLWZ1bmN0aW9uOiBjdWJpYy1iZXppZXIoMCwgMCwgMC4yLCAwLjEpICFkZWZhdWx0O1xuJG1hdC1mYXN0LW91dC1zbG93LWluLXRpbWluZy1mdW5jdGlvbjogY3ViaWMtYmV6aWVyKDAuNCwgMCwgMC4yLCAxKSAhZGVmYXVsdDtcbiRtYXQtZmFzdC1vdXQtbGluZWFyLWluLXRpbWluZy1mdW5jdGlvbjogY3ViaWMtYmV6aWVyKDAuNCwgMCwgMSwgMSkgIWRlZmF1bHQ7XG5cbiRlYXNlLWluLW91dC1jdXJ2ZS1mdW5jdGlvbjogY3ViaWMtYmV6aWVyKDAuMzUsIDAsIDAuMjUsIDEpICFkZWZhdWx0O1xuXG4kc3dpZnQtZWFzZS1vdXQtZHVyYXRpb246IDQwMG1zICFkZWZhdWx0O1xuJHN3aWZ0LWVhc2Utb3V0LXRpbWluZy1mdW5jdGlvbjogY3ViaWMtYmV6aWVyKDAuMjUsIDAuOCwgMC4yNSwgMSkgIWRlZmF1bHQ7XG4kc3dpZnQtZWFzZS1vdXQ6IGFsbCAkc3dpZnQtZWFzZS1vdXQtZHVyYXRpb24gJHN3aWZ0LWVhc2Utb3V0LXRpbWluZy1mdW5jdGlvbiAhZGVmYXVsdDtcblxuJHN3aWZ0LWVhc2UtaW4tZHVyYXRpb246IDMwMG1zICFkZWZhdWx0O1xuJHN3aWZ0LWVhc2UtaW4tdGltaW5nLWZ1bmN0aW9uOiBjdWJpYy1iZXppZXIoMC41NSwgMCwgMC41NSwgMC4yKSAhZGVmYXVsdDtcbiRzd2lmdC1lYXNlLWluOiBhbGwgJHN3aWZ0LWVhc2UtaW4tZHVyYXRpb24gJHN3aWZ0LWVhc2UtaW4tdGltaW5nLWZ1bmN0aW9uICFkZWZhdWx0O1xuXG4kc3dpZnQtZWFzZS1pbi1vdXQtZHVyYXRpb246IDUwMG1zICFkZWZhdWx0O1xuJHN3aWZ0LWVhc2UtaW4tb3V0LXRpbWluZy1mdW5jdGlvbjogJGVhc2UtaW4tb3V0LWN1cnZlLWZ1bmN0aW9uICFkZWZhdWx0O1xuJHN3aWZ0LWVhc2UtaW4tb3V0OiBhbGwgJHN3aWZ0LWVhc2UtaW4tb3V0LWR1cmF0aW9uICRzd2lmdC1lYXNlLWluLW91dC10aW1pbmctZnVuY3Rpb24gIWRlZmF1bHQ7XG5cbiRzd2lmdC1saW5lYXItZHVyYXRpb246IDgwbXMgIWRlZmF1bHQ7XG4kc3dpZnQtbGluZWFyLXRpbWluZy1mdW5jdGlvbjogbGluZWFyICFkZWZhdWx0O1xuJHN3aWZ0LWxpbmVhcjogYWxsICRzd2lmdC1saW5lYXItZHVyYXRpb24gJHN3aWZ0LWxpbmVhci10aW1pbmctZnVuY3Rpb24gIWRlZmF1bHQ7XG5cblxuXG4vLyBBIGNvbGxlY3Rpb24gb2YgbWl4aW5zIGFuZCBDU1MgY2xhc3NlcyB0aGF0IGNhbiBiZSB1c2VkIHRvIGFwcGx5IGVsZXZhdGlvbiB0byBhIG1hdGVyaWFsXG4vLyBlbGVtZW50LlxuLy8gU2VlOiBodHRwczovL21hdGVyaWFsLmlvL2Rlc2lnbi9lbnZpcm9ubWVudC9lbGV2YXRpb24uaHRtbFxuLy8gRXhhbXBsZXM6XG4vL1xuLy9cbi8vIC5tYXQtZm9vIHtcbi8vICAgQGluY2x1ZGUgJG1hdC1lbGV2YXRpb24oMik7XG4vL1xuLy8gICAmOmFjdGl2ZSB7XG4vLyAgICAgQGluY2x1ZGUgJG1hdC1lbGV2YXRpb24oOCk7XG4vLyAgIH1cbi8vIH1cbi8vXG4vLyA8ZGl2IGlkPVwiZXh0ZXJuYWwtY2FyZFwiIGNsYXNzPVwibWF0LWVsZXZhdGlvbi16MlwiPjxwPlNvbWUgY29udGVudDwvcD48L2Rpdj5cbi8vXG4vLyBGb3IgYW4gZXhwbGFuYXRpb24gb2YgdGhlIGRlc2lnbiBiZWhpbmQgaG93IGVsZXZhdGlvbiBpcyBpbXBsZW1lbnRlZCwgc2VlIHRoZSBkZXNpZ24gZG9jIGF0XG4vLyBodHRwczovL2dvby5nbC9LcTBrOVouXG5cbi8vIENvbG9ycyBmb3IgdW1icmEsIHBlbnVtYnJhLCBhbmQgYW1iaWVudCBzaGFkb3dzLiBBcyBkZXNjcmliZWQgaW4gdGhlIGRlc2lnbiBkb2MsIGVhY2ggZWxldmF0aW9uXG4vLyBsZXZlbCBpcyBjcmVhdGVkIHVzaW5nIGEgc2V0IG9mIDMgc2hhZG93IHZhbHVlcywgb25lIGZvciB1bWJyYSAodGhlIHNoYWRvdyByZXByZXNlbnRpbmcgdGhlXG4vLyBzcGFjZSBjb21wbGV0ZWx5IG9ic2N1cmVkIGJ5IGFuIG9iamVjdCByZWxhdGl2ZSB0byBpdHMgbGlnaHQgc291cmNlKSwgb25lIGZvciBwZW51bWJyYSAodGhlXG4vLyBzcGFjZSBwYXJ0aWFsbHkgb2JzY3VyZWQgYnkgYW4gb2JqZWN0KSwgYW5kIG9uZSBmb3IgYW1iaWVudCAodGhlIHNwYWNlIHdoaWNoIGNvbnRhaW5zIHRoZSBvYmplY3Rcbi8vIGl0c2VsZikuIEZvciBhIGZ1cnRoZXIgZXhwbGFuYXRpb24gb2YgdGhlc2UgdGVybXMgYW5kIHRoZWlyIG1lYW5pbmdzLCBzZWVcbi8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1VtYnJhLF9wZW51bWJyYV9hbmRfYW50dW1icmEuXG5cbi8vIE1hcHMgZm9yIHRoZSBkaWZmZXJlbnQgc2hhZG93IHNldHMgYW5kIHRoZWlyIHZhbHVlcyB3aXRoaW4gZWFjaCB6LXNwYWNlLiBUaGVzZSB2YWx1ZXMgd2VyZVxuLy8gY3JlYXRlZCBieSB0YWtpbmcgYSBmZXcgcmVmZXJlbmNlIHNoYWRvdyBzZXRzIGNyZWF0ZWQgYnkgR29vZ2xlJ3MgRGVzaWduZXJzIGFuZCBpbnRlcnBvbGF0aW5nXG4vLyBhbGwgb2YgdGhlIHZhbHVlcyBiZXR3ZWVuIHRoZW0uXG5cbkBmdW5jdGlvbiBfZ2V0LXVtYnJhLW1hcCgkY29sb3IsICRvcGFjaXR5KSB7XG4gICRzaGFkb3ctY29sb3I6IGlmKHR5cGUtb2YoJGNvbG9yKSA9PSBjb2xvciwgcmdiYSgkY29sb3IsICRvcGFjaXR5ICogMC4yKSwgJGNvbG9yKTtcblxuICBAcmV0dXJuIChcbiAgICAwOiAnMHB4IDBweCAwcHggMHB4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDE6ICcwcHggMnB4IDFweCAtMXB4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDI6ICcwcHggM3B4IDFweCAtMnB4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDM6ICcwcHggM3B4IDNweCAtMnB4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDQ6ICcwcHggMnB4IDRweCAtMXB4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDU6ICcwcHggM3B4IDVweCAtMXB4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDY6ICcwcHggM3B4IDVweCAtMXB4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDc6ICcwcHggNHB4IDVweCAtMnB4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDg6ICcwcHggNXB4IDVweCAtM3B4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDk6ICcwcHggNXB4IDZweCAtM3B4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDEwOiAnMHB4IDZweCA2cHggLTNweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICAxMTogJzBweCA2cHggN3B4IC00cHggI3skc2hhZG93LWNvbG9yfScsXG4gICAgMTI6ICcwcHggN3B4IDhweCAtNHB4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDEzOiAnMHB4IDdweCA4cHggLTRweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICAxNDogJzBweCA3cHggOXB4IC00cHggI3skc2hhZG93LWNvbG9yfScsXG4gICAgMTU6ICcwcHggOHB4IDlweCAtNXB4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDE2OiAnMHB4IDhweCAxMHB4IC01cHggI3skc2hhZG93LWNvbG9yfScsXG4gICAgMTc6ICcwcHggOHB4IDExcHggLTVweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICAxODogJzBweCA5cHggMTFweCAtNXB4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDE5OiAnMHB4IDlweCAxMnB4IC02cHggI3skc2hhZG93LWNvbG9yfScsXG4gICAgMjA6ICcwcHggMTBweCAxM3B4IC02cHggI3skc2hhZG93LWNvbG9yfScsXG4gICAgMjE6ICcwcHggMTBweCAxM3B4IC02cHggI3skc2hhZG93LWNvbG9yfScsXG4gICAgMjI6ICcwcHggMTBweCAxNHB4IC02cHggI3skc2hhZG93LWNvbG9yfScsXG4gICAgMjM6ICcwcHggMTFweCAxNHB4IC03cHggI3skc2hhZG93LWNvbG9yfScsXG4gICAgMjQ6ICcwcHggMTFweCAxNXB4IC03cHggI3skc2hhZG93LWNvbG9yfSdcbiAgKTtcbn1cblxuQGZ1bmN0aW9uIF9nZXQtcGVudW1icmEtbWFwKCRjb2xvciwgJG9wYWNpdHkpIHtcbiAgJHNoYWRvdy1jb2xvcjogaWYodHlwZS1vZigkY29sb3IpID09IGNvbG9yLCByZ2JhKCRjb2xvciwgJG9wYWNpdHkgKiAwLjE0KSwgJGNvbG9yKTtcblxuICBAcmV0dXJuIChcbiAgICAwOiAnMHB4IDBweCAwcHggMHB4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDE6ICcwcHggMXB4IDFweCAwcHggI3skc2hhZG93LWNvbG9yfScsXG4gICAgMjogJzBweCAycHggMnB4IDBweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICAzOiAnMHB4IDNweCA0cHggMHB4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDQ6ICcwcHggNHB4IDVweCAwcHggI3skc2hhZG93LWNvbG9yfScsXG4gICAgNTogJzBweCA1cHggOHB4IDBweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICA2OiAnMHB4IDZweCAxMHB4IDBweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICA3OiAnMHB4IDdweCAxMHB4IDFweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICA4OiAnMHB4IDhweCAxMHB4IDFweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICA5OiAnMHB4IDlweCAxMnB4IDFweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICAxMDogJzBweCAxMHB4IDE0cHggMXB4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDExOiAnMHB4IDExcHggMTVweCAxcHggI3skc2hhZG93LWNvbG9yfScsXG4gICAgMTI6ICcwcHggMTJweCAxN3B4IDJweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICAxMzogJzBweCAxM3B4IDE5cHggMnB4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDE0OiAnMHB4IDE0cHggMjFweCAycHggI3skc2hhZG93LWNvbG9yfScsXG4gICAgMTU6ICcwcHggMTVweCAyMnB4IDJweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICAxNjogJzBweCAxNnB4IDI0cHggMnB4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDE3OiAnMHB4IDE3cHggMjZweCAycHggI3skc2hhZG93LWNvbG9yfScsXG4gICAgMTg6ICcwcHggMThweCAyOHB4IDJweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICAxOTogJzBweCAxOXB4IDI5cHggMnB4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDIwOiAnMHB4IDIwcHggMzFweCAzcHggI3skc2hhZG93LWNvbG9yfScsXG4gICAgMjE6ICcwcHggMjFweCAzM3B4IDNweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICAyMjogJzBweCAyMnB4IDM1cHggM3B4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDIzOiAnMHB4IDIzcHggMzZweCAzcHggI3skc2hhZG93LWNvbG9yfScsXG4gICAgMjQ6ICcwcHggMjRweCAzOHB4IDNweCAjeyRzaGFkb3ctY29sb3J9J1xuICApO1xufVxuXG5AZnVuY3Rpb24gX2dldC1hbWJpZW50LW1hcCgkY29sb3IsICRvcGFjaXR5KSB7XG4gICRzaGFkb3ctY29sb3I6IGlmKHR5cGUtb2YoJGNvbG9yKSA9PSBjb2xvciwgcmdiYSgkY29sb3IsICRvcGFjaXR5ICogMC4xMiksICRjb2xvcik7XG5cbiAgQHJldHVybiAoXG4gICAgMDogJzBweCAwcHggMHB4IDBweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICAxOiAnMHB4IDFweCAzcHggMHB4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDI6ICcwcHggMXB4IDVweCAwcHggI3skc2hhZG93LWNvbG9yfScsXG4gICAgMzogJzBweCAxcHggOHB4IDBweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICA0OiAnMHB4IDFweCAxMHB4IDBweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICA1OiAnMHB4IDFweCAxNHB4IDBweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICA2OiAnMHB4IDFweCAxOHB4IDBweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICA3OiAnMHB4IDJweCAxNnB4IDFweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICA4OiAnMHB4IDNweCAxNHB4IDJweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICA5OiAnMHB4IDNweCAxNnB4IDJweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICAxMDogJzBweCA0cHggMThweCAzcHggI3skc2hhZG93LWNvbG9yfScsXG4gICAgMTE6ICcwcHggNHB4IDIwcHggM3B4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDEyOiAnMHB4IDVweCAyMnB4IDRweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICAxMzogJzBweCA1cHggMjRweCA0cHggI3skc2hhZG93LWNvbG9yfScsXG4gICAgMTQ6ICcwcHggNXB4IDI2cHggNHB4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDE1OiAnMHB4IDZweCAyOHB4IDVweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICAxNjogJzBweCA2cHggMzBweCA1cHggI3skc2hhZG93LWNvbG9yfScsXG4gICAgMTc6ICcwcHggNnB4IDMycHggNXB4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDE4OiAnMHB4IDdweCAzNHB4IDZweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICAxOTogJzBweCA3cHggMzZweCA2cHggI3skc2hhZG93LWNvbG9yfScsXG4gICAgMjA6ICcwcHggOHB4IDM4cHggN3B4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDIxOiAnMHB4IDhweCA0MHB4IDdweCAjeyRzaGFkb3ctY29sb3J9JyxcbiAgICAyMjogJzBweCA4cHggNDJweCA3cHggI3skc2hhZG93LWNvbG9yfScsXG4gICAgMjM6ICcwcHggOXB4IDQ0cHggOHB4ICN7JHNoYWRvdy1jb2xvcn0nLFxuICAgIDI0OiAnMHB4IDlweCA0NnB4IDhweCAjeyRzaGFkb3ctY29sb3J9J1xuICApO1xufVxuXG4vLyBUaGUgZGVmYXVsdCBkdXJhdGlvbiB2YWx1ZSBmb3IgZWxldmF0aW9uIHRyYW5zaXRpb25zLlxuJG1hdC1lbGV2YXRpb24tdHJhbnNpdGlvbi1kdXJhdGlvbjogMjgwbXMgIWRlZmF1bHQ7XG5cbi8vIFRoZSBkZWZhdWx0IGVhc2luZyB2YWx1ZSBmb3IgZWxldmF0aW9uIHRyYW5zaXRpb25zLlxuJG1hdC1lbGV2YXRpb24tdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246ICRtYXQtZmFzdC1vdXQtc2xvdy1pbi10aW1pbmctZnVuY3Rpb247XG5cbi8vIFRoZSBkZWZhdWx0IGNvbG9yIGZvciBlbGV2YXRpb24gc2hhZG93cy5cbiRtYXQtZWxldmF0aW9uLWNvbG9yOiBibGFjayAhZGVmYXVsdDtcblxuLy8gVGhlIGRlZmF1bHQgb3BhY2l0eSBzY2FsaW5nIHZhbHVlIGZvciBlbGV2YXRpb24gc2hhZG93cy5cbiRtYXQtZWxldmF0aW9uLW9wYWNpdHk6IDEgIWRlZmF1bHQ7XG5cbi8vIFByZWZpeCBmb3IgZWxldmF0aW9uLXJlbGF0ZWQgc2VsZWN0b3JzLlxuJF9tYXQtZWxldmF0aW9uLXByZWZpeDogJ21hdC1lbGV2YXRpb24teic7XG5cbi8vIEFwcGxpZXMgdGhlIGNvcnJlY3QgY3NzIHJ1bGVzIHRvIGFuIGVsZW1lbnQgdG8gZ2l2ZSBpdCB0aGUgZWxldmF0aW9uIHNwZWNpZmllZCBieSAkelZhbHVlLlxuLy8gVGhlICR6VmFsdWUgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDI0LlxuQG1peGluIG1hdC1lbGV2YXRpb24oJHpWYWx1ZSwgJGNvbG9yOiAkbWF0LWVsZXZhdGlvbi1jb2xvciwgJG9wYWNpdHk6ICRtYXQtZWxldmF0aW9uLW9wYWNpdHkpIHtcbiAgQGlmIHR5cGUtb2YoJHpWYWx1ZSkgIT0gbnVtYmVyIG9yIG5vdCB1bml0bGVzcygkelZhbHVlKSB7XG4gICAgQGVycm9yICckelZhbHVlIG11c3QgYmUgYSB1bml0bGVzcyBudW1iZXInO1xuICB9XG4gIEBpZiAkelZhbHVlIDwgMCBvciAkelZhbHVlID4gMjQge1xuICAgIEBlcnJvciAnJHpWYWx1ZSBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMjQnO1xuICB9XG5cbiAgYm94LXNoYWRvdzogI3ttYXAtZ2V0KF9nZXQtdW1icmEtbWFwKCRjb2xvciwgJG9wYWNpdHkpLCAkelZhbHVlKX0sXG4gICAgICAgICAgICAgICN7bWFwLWdldChfZ2V0LXBlbnVtYnJhLW1hcCgkY29sb3IsICRvcGFjaXR5KSwgJHpWYWx1ZSl9LFxuICAgICAgICAgICAgICAje21hcC1nZXQoX2dldC1hbWJpZW50LW1hcCgkY29sb3IsICRvcGFjaXR5KSwgJHpWYWx1ZSl9O1xufVxuXG5AbWl4aW4gX21hdC10aGVtZS1lbGV2YXRpb24oJHpWYWx1ZSwgJGNvbmZpZywgJG9wYWNpdHk6ICRtYXQtZWxldmF0aW9uLW9wYWNpdHkpIHtcbiAgJGZvcmVncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgZm9yZWdyb3VuZCk7XG4gICRlbGV2YXRpb24tY29sb3I6IG1hcC1nZXQoJGZvcmVncm91bmQsIGVsZXZhdGlvbik7XG4gICRlbGV2YXRpb24tY29sb3Itb3ItZGVmYXVsdDogaWYoJGVsZXZhdGlvbi1jb2xvciA9PSBudWxsLCAkbWF0LWVsZXZhdGlvbi1jb2xvciwgJGVsZXZhdGlvbi1jb2xvcik7XG5cbiAgQGluY2x1ZGUgbWF0LWVsZXZhdGlvbigkelZhbHVlLCAkZWxldmF0aW9uLWNvbG9yLW9yLWRlZmF1bHQsICRvcGFjaXR5KTtcbn1cblxuLy8gQXBwbGllcyB0aGUgZWxldmF0aW9uIHRvIGFuIGVsZW1lbnQgaW4gYSBtYW5uZXIgdGhhdCBhbGxvd3Ncbi8vIGNvbnN1bWVycyB0byBvdmVycmlkZSBpdCB2aWEgdGhlIE1hdGVyaWFsIGVsZXZhdGlvbiBjbGFzc2VzLlxuQG1peGluIG1hdC1vdmVycmlkYWJsZS1lbGV2YXRpb24oXG4gICAgJHpWYWx1ZSxcbiAgICAkY29sb3I6ICRtYXQtZWxldmF0aW9uLWNvbG9yLFxuICAgICRvcGFjaXR5OiAkbWF0LWVsZXZhdGlvbi1vcGFjaXR5KSB7XG4gICY6bm90KFtjbGFzcyo9JyN7JF9tYXQtZWxldmF0aW9uLXByZWZpeH0nXSkge1xuICAgIEBpbmNsdWRlIG1hdC1lbGV2YXRpb24oJHpWYWx1ZSwgJGNvbG9yLCAkb3BhY2l0eSk7XG4gIH1cbn1cblxuQG1peGluIF9tYXQtdGhlbWUtb3ZlcnJpZGFibGUtZWxldmF0aW9uKCR6VmFsdWUsICRjb25maWcsICRvcGFjaXR5OiAkbWF0LWVsZXZhdGlvbi1vcGFjaXR5KSB7XG4gICRmb3JlZ3JvdW5kOiBtYXAtZ2V0KCRjb25maWcsIGZvcmVncm91bmQpO1xuICAkZWxldmF0aW9uLWNvbG9yOiBtYXAtZ2V0KCRmb3JlZ3JvdW5kLCBlbGV2YXRpb24pO1xuICAkZWxldmF0aW9uLWNvbG9yLW9yLWRlZmF1bHQ6IGlmKCRlbGV2YXRpb24tY29sb3IgPT0gbnVsbCwgJG1hdC1lbGV2YXRpb24tY29sb3IsICRlbGV2YXRpb24tY29sb3IpO1xuXG4gIEBpbmNsdWRlIG1hdC1vdmVycmlkYWJsZS1lbGV2YXRpb24oJHpWYWx1ZSwgJGVsZXZhdGlvbi1jb2xvci1vci1kZWZhdWx0LCAkb3BhY2l0eSk7XG59XG5cbi8vIFJldHVybnMgYSBzdHJpbmcgdGhhdCBjYW4gYmUgdXNlZCBhcyB0aGUgdmFsdWUgZm9yIGEgdHJhbnNpdGlvbiBwcm9wZXJ0eSBmb3IgZWxldmF0aW9uLlxuLy8gQ2FsbGluZyB0aGlzIGZ1bmN0aW9uIGRpcmVjdGx5IGlzIHVzZWZ1bCBpbiBzaXR1YXRpb25zIHdoZXJlIGEgY29tcG9uZW50IG5lZWRzIHRvIHRyYW5zaXRpb25cbi8vIG1vcmUgdGhhbiBvbmUgcHJvcGVydHkuXG4vL1xuLy8gLmZvbyB7XG4vLyAgIHRyYW5zaXRpb246IG1hdC1lbGV2YXRpb24tdHJhbnNpdGlvbi1wcm9wZXJ0eS12YWx1ZSgpLCBvcGFjaXR5IDEwMG1zIGVhc2U7XG4vLyB9XG5AZnVuY3Rpb24gbWF0LWVsZXZhdGlvbi10cmFuc2l0aW9uLXByb3BlcnR5LXZhbHVlKFxuICAgICRkdXJhdGlvbjogJG1hdC1lbGV2YXRpb24tdHJhbnNpdGlvbi1kdXJhdGlvbixcbiAgICAkZWFzaW5nOiAkbWF0LWVsZXZhdGlvbi10cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbikge1xuICBAcmV0dXJuIGJveC1zaGFkb3cgI3skZHVyYXRpb259ICN7JGVhc2luZ307XG59XG5cbi8vIEFwcGxpZXMgdGhlIGNvcnJlY3QgY3NzIHJ1bGVzIG5lZWRlZCB0byBoYXZlIGFuIGVsZW1lbnQgdHJhbnNpdGlvbiBiZXR3ZWVuIGVsZXZhdGlvbnMuXG4vLyBUaGlzIG1peGluIHNob3VsZCBiZSBhcHBsaWVkIHRvIGVsZW1lbnRzIHdob3NlIGVsZXZhdGlvbiB2YWx1ZXMgd2lsbCBjaGFuZ2UgZGVwZW5kaW5nIG9uIHRoZWlyXG4vLyBjb250ZXh0IChlLmcuIHdoZW4gYWN0aXZlIG9yIGRpc2FibGVkKS5cbi8vXG4vLyBOT1RFKHRyYXZpc2thdWZtYW4pOiBCb3RoIHRoaXMgbWl4aW4gYW5kIHRoZSBhYm92ZSBmdW5jdGlvbiB1c2UgZGVmYXVsdCBwYXJhbWV0ZXJzIHNvIHRoZXkgY2FuXG4vLyBiZSB1c2VkIGluIHRoZSBzYW1lIHdheSBieSBjbGllbnRzLlxuQG1peGluIG1hdC1lbGV2YXRpb24tdHJhbnNpdGlvbihcbiAgICAkZHVyYXRpb246ICRtYXQtZWxldmF0aW9uLXRyYW5zaXRpb24tZHVyYXRpb24sXG4gICAgJGVhc2luZzogJG1hdC1lbGV2YXRpb24tdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb24pIHtcbiAgdHJhbnNpdGlvbjogbWF0LWVsZXZhdGlvbi10cmFuc2l0aW9uLXByb3BlcnR5LXZhbHVlKCRkdXJhdGlvbiwgJGVhc2luZyk7XG59XG5cbi8vIENvbG9yIHBhbGV0dGVzIGZyb20gdGhlIE1hdGVyaWFsIERlc2lnbiBzcGVjLlxuLy8gU2VlIGh0dHBzOi8vbWF0ZXJpYWwuaW8vZGVzaWduL2NvbG9yL1xuLy9cbi8vIENvbnRyYXN0IGNvbG9ycyBhcmUgaGFyZC1jb2RlZCBiZWNhdXNlIGl0IGlzIHRvbyBkaWZmaWN1bHQgKHByb2JhYmx5IGltcG9zc2libGUpIHRvXG4vLyBjYWxjdWxhdGUgdGhlbS4gVGhlc2UgY29udHJhc3QgY29sb3JzIGFyZSBwdWxsZWQgZnJvbSB0aGUgcHVibGljIE1hdGVyaWFsIERlc2lnbiBzcGVjIHN3YXRjaGVzLlxuLy8gV2hpbGUgdGhlIGNvbnRyYXN0IGNvbG9ycyBpbiB0aGUgc3BlYyBhcmUgbm90IHByZXNjcmlwdGl2ZSwgd2UgdXNlIHRoZW0gZm9yIGNvbnZlbmllbmNlLlxuXG5cbi8vIEBkZXByZWNhdGVkIHJlbmFtZWQgdG8gJGRhcmstcHJpbWFyeS10ZXh0LlxuLy8gQGJyZWFraW5nLWNoYW5nZSA4LjAuMFxuJGJsYWNrLTg3LW9wYWNpdHk6IHJnYmEoYmxhY2ssIDAuODcpO1xuLy8gQGRlcHJlY2F0ZWQgcmVuYW1lZCB0byAkbGlnaHQtcHJpbWFyeS10ZXh0LlxuLy8gQGJyZWFraW5nLWNoYW5nZSA4LjAuMFxuJHdoaXRlLTg3LW9wYWNpdHk6IHJnYmEod2hpdGUsIDAuODcpO1xuLy8gQGRlcHJlY2F0ZWQgdXNlICRkYXJrLVtzZWNvbmRhcnktdGV4dCxkaXNhYmxlZC10ZXh0LGRpdmlkZXJzLGZvY3VzZWRdIGluc3RlYWQuXG4vLyBAYnJlYWtpbmctY2hhbmdlIDguMC4wXG4kYmxhY2stMTItb3BhY2l0eTogcmdiYShibGFjaywgMC4xMik7XG4vLyBAZGVwcmVjYXRlZCB1c2UgJGxpZ2h0LVtzZWNvbmRhcnktdGV4dCxkaXNhYmxlZC10ZXh0LGRpdmlkZXJzLGZvY3VzZWRdIGluc3RlYWQuXG4vLyBAYnJlYWtpbmctY2hhbmdlIDguMC4wXG4kd2hpdGUtMTItb3BhY2l0eTogcmdiYSh3aGl0ZSwgMC4xMik7XG4vLyBAZGVwcmVjYXRlZCB1c2UgJGRhcmstW3NlY29uZGFyeS10ZXh0LGRpc2FibGVkLXRleHQsZGl2aWRlcnMsZm9jdXNlZF0gaW5zdGVhZC5cbi8vIEBicmVha2luZy1jaGFuZ2UgOC4wLjBcbiRibGFjay02LW9wYWNpdHk6IHJnYmEoYmxhY2ssIDAuMDYpO1xuLy8gQGRlcHJlY2F0ZWQgdXNlICRsaWdodC1bc2Vjb25kYXJ5LXRleHQsZGlzYWJsZWQtdGV4dCxkaXZpZGVycyxmb2N1c2VkXSBpbnN0ZWFkLlxuLy8gQGJyZWFraW5nLWNoYW5nZSA4LjAuMFxuJHdoaXRlLTYtb3BhY2l0eTogcmdiYSh3aGl0ZSwgMC4wNik7XG5cbiRkYXJrLXByaW1hcnktdGV4dDogcmdiYShibGFjaywgMC44Nyk7XG4kZGFyay1zZWNvbmRhcnktdGV4dDogcmdiYShibGFjaywgMC41NCk7XG4kZGFyay1kaXNhYmxlZC10ZXh0OiByZ2JhKGJsYWNrLCAwLjM4KTtcbiRkYXJrLWRpdmlkZXJzOiByZ2JhKGJsYWNrLCAwLjEyKTtcbiRkYXJrLWZvY3VzZWQ6IHJnYmEoYmxhY2ssIDAuMTIpO1xuJGxpZ2h0LXByaW1hcnktdGV4dDogd2hpdGU7XG4kbGlnaHQtc2Vjb25kYXJ5LXRleHQ6IHJnYmEod2hpdGUsIDAuNyk7XG4kbGlnaHQtZGlzYWJsZWQtdGV4dDogcmdiYSh3aGl0ZSwgMC41KTtcbiRsaWdodC1kaXZpZGVyczogcmdiYSh3aGl0ZSwgMC4xMik7XG4kbGlnaHQtZm9jdXNlZDogcmdiYSh3aGl0ZSwgMC4xMik7XG5cbiRtYXQtcmVkOiAoXG4gIDUwOiAjZmZlYmVlLFxuICAxMDA6ICNmZmNkZDIsXG4gIDIwMDogI2VmOWE5YSxcbiAgMzAwOiAjZTU3MzczLFxuICA0MDA6ICNlZjUzNTAsXG4gIDUwMDogI2Y0NDMzNixcbiAgNjAwOiAjZTUzOTM1LFxuICA3MDA6ICNkMzJmMmYsXG4gIDgwMDogI2M2MjgyOCxcbiAgOTAwOiAjYjcxYzFjLFxuICBBMTAwOiAjZmY4YTgwLFxuICBBMjAwOiAjZmY1MjUyLFxuICBBNDAwOiAjZmYxNzQ0LFxuICBBNzAwOiAjZDUwMDAwLFxuICBjb250cmFzdDogKFxuICAgIDUwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgMTAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgMjAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgMzAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgNDAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgNTAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIDYwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICA3MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgODAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIDkwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICBBMTAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgQTIwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICBBNDAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIEE3MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gIClcbik7XG5cbiRtYXQtcGluazogKFxuICA1MDogI2ZjZTRlYyxcbiAgMTAwOiAjZjhiYmQwLFxuICAyMDA6ICNmNDhmYjEsXG4gIDMwMDogI2YwNjI5MixcbiAgNDAwOiAjZWM0MDdhLFxuICA1MDA6ICNlOTFlNjMsXG4gIDYwMDogI2Q4MWI2MCxcbiAgNzAwOiAjYzIxODViLFxuICA4MDA6ICNhZDE0NTcsXG4gIDkwMDogIzg4MGU0ZixcbiAgQTEwMDogI2ZmODBhYixcbiAgQTIwMDogI2ZmNDA4MSxcbiAgQTQwMDogI2Y1MDA1NyxcbiAgQTcwMDogI2M1MTE2MixcbiAgY29udHJhc3Q6IChcbiAgICA1MDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDEwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDIwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDMwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDQwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDUwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICA2MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgNzAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIDgwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICA5MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgQTEwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIEEyMDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgQTQwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICBBNzAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICApXG4pO1xuXG4kbWF0LXB1cnBsZTogKFxuICA1MDogI2YzZTVmNSxcbiAgMTAwOiAjZTFiZWU3LFxuICAyMDA6ICNjZTkzZDgsXG4gIDMwMDogI2JhNjhjOCxcbiAgNDAwOiAjYWI0N2JjLFxuICA1MDA6ICM5YzI3YjAsXG4gIDYwMDogIzhlMjRhYSxcbiAgNzAwOiAjN2IxZmEyLFxuICA4MDA6ICM2YTFiOWEsXG4gIDkwMDogIzRhMTQ4YyxcbiAgQTEwMDogI2VhODBmYyxcbiAgQTIwMDogI2UwNDBmYixcbiAgQTQwMDogI2Q1MDBmOSxcbiAgQTcwMDogI2FhMDBmZixcbiAgY29udHJhc3Q6IChcbiAgICA1MDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDEwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDIwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDMwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICA0MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgNTAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIDYwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICA3MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgODAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIDkwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICBBMTAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgQTIwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICBBNDAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIEE3MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gIClcbik7XG5cbiRtYXQtZGVlcC1wdXJwbGU6IChcbiAgNTA6ICNlZGU3ZjYsXG4gIDEwMDogI2QxYzRlOSxcbiAgMjAwOiAjYjM5ZGRiLFxuICAzMDA6ICM5NTc1Y2QsXG4gIDQwMDogIzdlNTdjMixcbiAgNTAwOiAjNjczYWI3LFxuICA2MDA6ICM1ZTM1YjEsXG4gIDcwMDogIzUxMmRhOCxcbiAgODAwOiAjNDUyN2EwLFxuICA5MDA6ICMzMTFiOTIsXG4gIEExMDA6ICNiMzg4ZmYsXG4gIEEyMDA6ICM3YzRkZmYsXG4gIEE0MDA6ICM2NTFmZmYsXG4gIEE3MDA6ICM2MjAwZWEsXG4gIGNvbnRyYXN0OiAoXG4gICAgNTA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICAxMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICAyMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICAzMDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgNDAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIDUwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICA2MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgNzAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIDgwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICA5MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgQTEwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIEEyMDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgQTQwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICBBNzAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICApXG4pO1xuXG4kbWF0LWluZGlnbzogKFxuICA1MDogI2U4ZWFmNixcbiAgMTAwOiAjYzVjYWU5LFxuICAyMDA6ICM5ZmE4ZGEsXG4gIDMwMDogIzc5ODZjYixcbiAgNDAwOiAjNWM2YmMwLFxuICA1MDA6ICMzZjUxYjUsXG4gIDYwMDogIzM5NDlhYixcbiAgNzAwOiAjMzAzZjlmLFxuICA4MDA6ICMyODM1OTMsXG4gIDkwMDogIzFhMjM3ZSxcbiAgQTEwMDogIzhjOWVmZixcbiAgQTIwMDogIzUzNmRmZSxcbiAgQTQwMDogIzNkNWFmZSxcbiAgQTcwMDogIzMwNGZmZSxcbiAgY29udHJhc3Q6IChcbiAgICA1MDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDEwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDIwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDMwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICA0MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgNTAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIDYwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICA3MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgODAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIDkwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICBBMTAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgQTIwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICBBNDAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIEE3MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gIClcbik7XG5cbiRtYXQtYmx1ZTogKFxuICA1MDogI2UzZjJmZCxcbiAgMTAwOiAjYmJkZWZiLFxuICAyMDA6ICM5MGNhZjksXG4gIDMwMDogIzY0YjVmNixcbiAgNDAwOiAjNDJhNWY1LFxuICA1MDA6ICMyMTk2ZjMsXG4gIDYwMDogIzFlODhlNSxcbiAgNzAwOiAjMTk3NmQyLFxuICA4MDA6ICMxNTY1YzAsXG4gIDkwMDogIzBkNDdhMSxcbiAgQTEwMDogIzgyYjFmZixcbiAgQTIwMDogIzQ0OGFmZixcbiAgQTQwMDogIzI5NzlmZixcbiAgQTcwMDogIzI5NjJmZixcbiAgY29udHJhc3Q6IChcbiAgICA1MDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDEwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDIwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDMwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDQwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDUwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICA2MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgNzAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIDgwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICA5MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgQTEwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIEEyMDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgQTQwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICBBNzAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICApXG4pO1xuXG4kbWF0LWxpZ2h0LWJsdWU6IChcbiAgNTA6ICNlMWY1ZmUsXG4gIDEwMDogI2IzZTVmYyxcbiAgMjAwOiAjODFkNGZhLFxuICAzMDA6ICM0ZmMzZjcsXG4gIDQwMDogIzI5YjZmNixcbiAgNTAwOiAjMDNhOWY0LFxuICA2MDA6ICMwMzliZTUsXG4gIDcwMDogIzAyODhkMSxcbiAgODAwOiAjMDI3N2JkLFxuICA5MDA6ICMwMTU3OWIsXG4gIEExMDA6ICM4MGQ4ZmYsXG4gIEEyMDA6ICM0MGM0ZmYsXG4gIEE0MDA6ICMwMGIwZmYsXG4gIEE3MDA6ICMwMDkxZWEsXG4gIGNvbnRyYXN0OiAoXG4gICAgNTA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICAxMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICAyMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICAzMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICA0MDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICA1MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgNjAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIDcwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICA4MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgOTAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIEExMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICBBMjAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgQTQwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIEE3MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gIClcbik7XG5cbiRtYXQtY3lhbjogKFxuICA1MDogI2UwZjdmYSxcbiAgMTAwOiAjYjJlYmYyLFxuICAyMDA6ICM4MGRlZWEsXG4gIDMwMDogIzRkZDBlMSxcbiAgNDAwOiAjMjZjNmRhLFxuICA1MDA6ICMwMGJjZDQsXG4gIDYwMDogIzAwYWNjMSxcbiAgNzAwOiAjMDA5N2E3LFxuICA4MDA6ICMwMDgzOGYsXG4gIDkwMDogIzAwNjA2NCxcbiAgQTEwMDogIzg0ZmZmZixcbiAgQTIwMDogIzE4ZmZmZixcbiAgQTQwMDogIzAwZTVmZixcbiAgQTcwMDogIzAwYjhkNCxcbiAgY29udHJhc3Q6IChcbiAgICA1MDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDEwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDIwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDMwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDQwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDUwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICA2MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgNzAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIDgwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICA5MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgQTEwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIEEyMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICBBNDAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgQTcwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICApXG4pO1xuXG4kbWF0LXRlYWw6IChcbiAgNTA6ICNlMGYyZjEsXG4gIDEwMDogI2IyZGZkYixcbiAgMjAwOiAjODBjYmM0LFxuICAzMDA6ICM0ZGI2YWMsXG4gIDQwMDogIzI2YTY5YSxcbiAgNTAwOiAjMDA5Njg4LFxuICA2MDA6ICMwMDg5N2IsXG4gIDcwMDogIzAwNzk2YixcbiAgODAwOiAjMDA2OTVjLFxuICA5MDA6ICMwMDRkNDAsXG4gIEExMDA6ICNhN2ZmZWIsXG4gIEEyMDA6ICM2NGZmZGEsXG4gIEE0MDA6ICMxZGU5YjYsXG4gIEE3MDA6ICMwMGJmYTUsXG4gIGNvbnRyYXN0OiAoXG4gICAgNTA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICAxMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICAyMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICAzMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICA0MDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICA1MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgNjAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIDcwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICA4MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgOTAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIEExMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICBBMjAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgQTQwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIEE3MDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgKVxuKTtcblxuJG1hdC1ncmVlbjogKFxuICA1MDogI2U4ZjVlOSxcbiAgMTAwOiAjYzhlNmM5LFxuICAyMDA6ICNhNWQ2YTcsXG4gIDMwMDogIzgxYzc4NCxcbiAgNDAwOiAjNjZiYjZhLFxuICA1MDA6ICM0Y2FmNTAsXG4gIDYwMDogIzQzYTA0NyxcbiAgNzAwOiAjMzg4ZTNjLFxuICA4MDA6ICMyZTdkMzIsXG4gIDkwMDogIzFiNWUyMCxcbiAgQTEwMDogI2I5ZjZjYSxcbiAgQTIwMDogIzY5ZjBhZSxcbiAgQTQwMDogIzAwZTY3NixcbiAgQTcwMDogIzAwYzg1MyxcbiAgY29udHJhc3Q6IChcbiAgICA1MDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDEwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDIwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDMwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDQwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDUwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDYwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICA3MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgODAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIDkwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICBBMTAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgQTIwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIEE0MDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICBBNzAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gIClcbik7XG5cbiRtYXQtbGlnaHQtZ3JlZW46IChcbiAgNTA6ICNmMWY4ZTksXG4gIDEwMDogI2RjZWRjOCxcbiAgMjAwOiAjYzVlMWE1LFxuICAzMDA6ICNhZWQ1ODEsXG4gIDQwMDogIzljY2M2NSxcbiAgNTAwOiAjOGJjMzRhLFxuICA2MDA6ICM3Y2IzNDIsXG4gIDcwMDogIzY4OWYzOCxcbiAgODAwOiAjNTU4YjJmLFxuICA5MDA6ICMzMzY5MWUsXG4gIEExMDA6ICNjY2ZmOTAsXG4gIEEyMDA6ICNiMmZmNTksXG4gIEE0MDA6ICM3NmZmMDMsXG4gIEE3MDA6ICM2NGRkMTcsXG4gIGNvbnRyYXN0OiAoXG4gICAgNTA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICAxMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICAyMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICAzMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICA0MDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICA1MDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICA2MDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICA3MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgODAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIDkwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICBBMTAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgQTIwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIEE0MDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICBBNzAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gIClcbik7XG5cbiRtYXQtbGltZTogKFxuICA1MDogI2Y5ZmJlNyxcbiAgMTAwOiAjZjBmNGMzLFxuICAyMDA6ICNlNmVlOWMsXG4gIDMwMDogI2RjZTc3NSxcbiAgNDAwOiAjZDRlMTU3LFxuICA1MDA6ICNjZGRjMzksXG4gIDYwMDogI2MwY2EzMyxcbiAgNzAwOiAjYWZiNDJiLFxuICA4MDA6ICM5ZTlkMjQsXG4gIDkwMDogIzgyNzcxNyxcbiAgQTEwMDogI2Y0ZmY4MSxcbiAgQTIwMDogI2VlZmY0MSxcbiAgQTQwMDogI2M2ZmYwMCxcbiAgQTcwMDogI2FlZWEwMCxcbiAgY29udHJhc3Q6IChcbiAgICA1MDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDEwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDIwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDMwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDQwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDUwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDYwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDcwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDgwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDkwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICBBMTAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgQTIwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIEE0MDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICBBNzAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gIClcbik7XG5cbiRtYXQteWVsbG93OiAoXG4gIDUwOiAjZmZmZGU3LFxuICAxMDA6ICNmZmY5YzQsXG4gIDIwMDogI2ZmZjU5ZCxcbiAgMzAwOiAjZmZmMTc2LFxuICA0MDA6ICNmZmVlNTgsXG4gIDUwMDogI2ZmZWIzYixcbiAgNjAwOiAjZmRkODM1LFxuICA3MDA6ICNmYmMwMmQsXG4gIDgwMDogI2Y5YTgyNSxcbiAgOTAwOiAjZjU3ZjE3LFxuICBBMTAwOiAjZmZmZjhkLFxuICBBMjAwOiAjZmZmZjAwLFxuICBBNDAwOiAjZmZlYTAwLFxuICBBNzAwOiAjZmZkNjAwLFxuICBjb250cmFzdDogKFxuICAgIDUwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgMTAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgMjAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgMzAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgNDAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgNTAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgNjAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgNzAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgODAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgOTAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgQTEwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIEEyMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICBBNDAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgQTcwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICApXG4pO1xuXG4kbWF0LWFtYmVyOiAoXG4gIDUwOiAjZmZmOGUxLFxuICAxMDA6ICNmZmVjYjMsXG4gIDIwMDogI2ZmZTA4MixcbiAgMzAwOiAjZmZkNTRmLFxuICA0MDA6ICNmZmNhMjgsXG4gIDUwMDogI2ZmYzEwNyxcbiAgNjAwOiAjZmZiMzAwLFxuICA3MDA6ICNmZmEwMDAsXG4gIDgwMDogI2ZmOGYwMCxcbiAgOTAwOiAjZmY2ZjAwLFxuICBBMTAwOiAjZmZlNTdmLFxuICBBMjAwOiAjZmZkNzQwLFxuICBBNDAwOiAjZmZjNDAwLFxuICBBNzAwOiAjZmZhYjAwLFxuICBjb250cmFzdDogKFxuICAgIDUwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgMTAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgMjAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgMzAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgNDAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgNTAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgNjAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgNzAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgODAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgOTAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgQTEwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIEEyMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICBBNDAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgQTcwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICApXG4pO1xuXG4kbWF0LW9yYW5nZTogKFxuICA1MDogI2ZmZjNlMCxcbiAgMTAwOiAjZmZlMGIyLFxuICAyMDA6ICNmZmNjODAsXG4gIDMwMDogI2ZmYjc0ZCxcbiAgNDAwOiAjZmZhNzI2LFxuICA1MDA6ICNmZjk4MDAsXG4gIDYwMDogI2ZiOGMwMCxcbiAgNzAwOiAjZjU3YzAwLFxuICA4MDA6ICNlZjZjMDAsXG4gIDkwMDogI2U2NTEwMCxcbiAgQTEwMDogI2ZmZDE4MCxcbiAgQTIwMDogI2ZmYWI0MCxcbiAgQTQwMDogI2ZmOTEwMCxcbiAgQTcwMDogI2ZmNmQwMCxcbiAgY29udHJhc3Q6IChcbiAgICA1MDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDEwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDIwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDMwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDQwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDUwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDYwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDcwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDgwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICA5MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgQTEwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIEEyMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICBBNDAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgQTcwMDogYmxhY2ssXG4gIClcbik7XG5cbiRtYXQtZGVlcC1vcmFuZ2U6IChcbiAgNTA6ICNmYmU5ZTcsXG4gIDEwMDogI2ZmY2NiYyxcbiAgMjAwOiAjZmZhYjkxLFxuICAzMDA6ICNmZjhhNjUsXG4gIDQwMDogI2ZmNzA0MyxcbiAgNTAwOiAjZmY1NzIyLFxuICA2MDA6ICNmNDUxMWUsXG4gIDcwMDogI2U2NGExOSxcbiAgODAwOiAjZDg0MzE1LFxuICA5MDA6ICNiZjM2MGMsXG4gIEExMDA6ICNmZjllODAsXG4gIEEyMDA6ICNmZjZlNDAsXG4gIEE0MDA6ICNmZjNkMDAsXG4gIEE3MDA6ICNkZDJjMDAsXG4gIGNvbnRyYXN0OiAoXG4gICAgNTA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICAxMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICAyMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICAzMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICA0MDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICA1MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgNjAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIDcwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICA4MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgOTAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIEExMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICBBMjAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgQTQwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICBBNzAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICApXG4pO1xuXG4kbWF0LWJyb3duOiAoXG4gIDUwOiAjZWZlYmU5LFxuICAxMDA6ICNkN2NjYzgsXG4gIDIwMDogI2JjYWFhNCxcbiAgMzAwOiAjYTE4ODdmLFxuICA0MDA6ICM4ZDZlNjMsXG4gIDUwMDogIzc5NTU0OCxcbiAgNjAwOiAjNmQ0YzQxLFxuICA3MDA6ICM1ZDQwMzcsXG4gIDgwMDogIzRlMzQyZSxcbiAgOTAwOiAjM2UyNzIzLFxuICBBMTAwOiAjZDdjY2M4LFxuICBBMjAwOiAjYmNhYWE0LFxuICBBNDAwOiAjOGQ2ZTYzLFxuICBBNzAwOiAjNWQ0MDM3LFxuICBjb250cmFzdDogKFxuICAgIDUwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgMTAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgMjAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgMzAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIDQwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICA1MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgNjAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIDcwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICA4MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgOTAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIEExMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICBBMjAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgQTQwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICBBNzAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICApXG4pO1xuXG4kbWF0LWdyZXk6IChcbiAgNTA6ICNmYWZhZmEsXG4gIDEwMDogI2Y1ZjVmNSxcbiAgMjAwOiAjZWVlZWVlLFxuICAzMDA6ICNlMGUwZTAsXG4gIDQwMDogI2JkYmRiZCxcbiAgNTAwOiAjOWU5ZTllLFxuICA2MDA6ICM3NTc1NzUsXG4gIDcwMDogIzYxNjE2MSxcbiAgODAwOiAjNDI0MjQyLFxuICA5MDA6ICMyMTIxMjEsXG4gIEExMDA6ICNmZmZmZmYsXG4gIEEyMDA6ICNlZWVlZWUsXG4gIEE0MDA6ICNiZGJkYmQsXG4gIEE3MDA6ICM2MTYxNjEsXG4gIGNvbnRyYXN0OiAoXG4gICAgNTA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICAxMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICAyMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICAzMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICA0MDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICA1MDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICA2MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgNzAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIDgwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICA5MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgQTEwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIEEyMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICBBNDAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgQTcwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgKVxuKTtcblxuLy8gQWxpYXMgZm9yIGFsdGVybmF0ZSBzcGVsbGluZy5cbiRtYXQtZ3JheTogJG1hdC1ncmV5O1xuXG4kbWF0LWJsdWUtZ3JleTogKFxuICA1MDogI2VjZWZmMSxcbiAgMTAwOiAjY2ZkOGRjLFxuICAyMDA6ICNiMGJlYzUsXG4gIDMwMDogIzkwYTRhZSxcbiAgNDAwOiAjNzg5MDljLFxuICA1MDA6ICM2MDdkOGIsXG4gIDYwMDogIzU0NmU3YSxcbiAgNzAwOiAjNDU1YTY0LFxuICA4MDA6ICMzNzQ3NGYsXG4gIDkwMDogIzI2MzIzOCxcbiAgQTEwMDogI2NmZDhkYyxcbiAgQTIwMDogI2IwYmVjNSxcbiAgQTQwMDogIzc4OTA5YyxcbiAgQTcwMDogIzQ1NWE2NCxcbiAgY29udHJhc3Q6IChcbiAgICA1MDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDEwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDIwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDMwMDogJGRhcmstcHJpbWFyeS10ZXh0LFxuICAgIDQwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICA1MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgNjAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIDcwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICA4MDA6ICRsaWdodC1wcmltYXJ5LXRleHQsXG4gICAgOTAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICAgIEExMDA6ICRkYXJrLXByaW1hcnktdGV4dCxcbiAgICBBMjAwOiAkZGFyay1wcmltYXJ5LXRleHQsXG4gICAgQTQwMDogJGxpZ2h0LXByaW1hcnktdGV4dCxcbiAgICBBNzAwOiAkbGlnaHQtcHJpbWFyeS10ZXh0LFxuICApXG4pO1xuXG4vLyBBbGlhcyBmb3IgYWx0ZXJuYXRlIHNwZWxsaW5nLlxuJG1hdC1ibHVlLWdyYXk6ICRtYXQtYmx1ZS1ncmV5O1xuXG5cbi8vIEJhY2tncm91bmQgcGFsZXR0ZSBmb3IgbGlnaHQgdGhlbWVzLlxuJG1hdC1saWdodC10aGVtZS1iYWNrZ3JvdW5kOiAoXG4gIHN0YXR1cy1iYXI6IG1hcF9nZXQoJG1hdC1ncmV5LCAzMDApLFxuICBhcHAtYmFyOiAgICBtYXBfZ2V0KCRtYXQtZ3JleSwgMTAwKSxcbiAgYmFja2dyb3VuZDogbWFwX2dldCgkbWF0LWdyZXksIDUwKSxcbiAgaG92ZXI6ICAgICAgcmdiYShibGFjaywgMC4wNCksIC8vIFRPRE8oa2FyYSk6IGNoZWNrIHN0eWxlIHdpdGggTWF0ZXJpYWwgRGVzaWduIFVYXG4gIGNhcmQ6ICAgICAgIHdoaXRlLFxuICBkaWFsb2c6ICAgICB3aGl0ZSxcbiAgZGlzYWJsZWQtYnV0dG9uOiByZ2JhKGJsYWNrLCAwLjEyKSxcbiAgcmFpc2VkLWJ1dHRvbjogd2hpdGUsXG4gIGZvY3VzZWQtYnV0dG9uOiAkZGFyay1mb2N1c2VkLFxuICBzZWxlY3RlZC1idXR0b246IG1hcF9nZXQoJG1hdC1ncmV5LCAzMDApLFxuICBzZWxlY3RlZC1kaXNhYmxlZC1idXR0b246IG1hcF9nZXQoJG1hdC1ncmV5LCA0MDApLFxuICBkaXNhYmxlZC1idXR0b24tdG9nZ2xlOiBtYXBfZ2V0KCRtYXQtZ3JleSwgMjAwKSxcbiAgdW5zZWxlY3RlZC1jaGlwOiBtYXBfZ2V0KCRtYXQtZ3JleSwgMzAwKSxcbiAgZGlzYWJsZWQtbGlzdC1vcHRpb246IG1hcF9nZXQoJG1hdC1ncmV5LCAyMDApLFxuICB0b29sdGlwOiBtYXBfZ2V0KCRtYXQtZ3JleSwgNzAwKSxcbik7XG5cbi8vIEJhY2tncm91bmQgcGFsZXR0ZSBmb3IgZGFyayB0aGVtZXMuXG4kbWF0LWRhcmstdGhlbWUtYmFja2dyb3VuZDogKFxuICBzdGF0dXMtYmFyOiBibGFjayxcbiAgYXBwLWJhcjogICAgbWFwX2dldCgkbWF0LWdyZXksIDkwMCksXG4gIGJhY2tncm91bmQ6ICMzMDMwMzAsXG4gIGhvdmVyOiAgICAgIHJnYmEod2hpdGUsIDAuMDQpLCAvLyBUT0RPKGthcmEpOiBjaGVjayBzdHlsZSB3aXRoIE1hdGVyaWFsIERlc2lnbiBVWFxuICBjYXJkOiAgICAgICBtYXBfZ2V0KCRtYXQtZ3JleSwgODAwKSxcbiAgZGlhbG9nOiAgICAgbWFwX2dldCgkbWF0LWdyZXksIDgwMCksXG4gIGRpc2FibGVkLWJ1dHRvbjogcmdiYSh3aGl0ZSwgMC4xMiksXG4gIHJhaXNlZC1idXR0b246IG1hcC1nZXQoJG1hdC1ncmV5LCA4MDApLFxuICBmb2N1c2VkLWJ1dHRvbjogJGxpZ2h0LWZvY3VzZWQsXG4gIHNlbGVjdGVkLWJ1dHRvbjogbWFwX2dldCgkbWF0LWdyZXksIDkwMCksXG4gIHNlbGVjdGVkLWRpc2FibGVkLWJ1dHRvbjogbWFwX2dldCgkbWF0LWdyZXksIDgwMCksXG4gIGRpc2FibGVkLWJ1dHRvbi10b2dnbGU6IGJsYWNrLFxuICB1bnNlbGVjdGVkLWNoaXA6IG1hcF9nZXQoJG1hdC1ncmV5LCA3MDApLFxuICBkaXNhYmxlZC1saXN0LW9wdGlvbjogYmxhY2ssXG4gIHRvb2x0aXA6IG1hcF9nZXQoJG1hdC1ncmV5LCA3MDApLFxuKTtcblxuLy8gRm9yZWdyb3VuZCBwYWxldHRlIGZvciBsaWdodCB0aGVtZXMuXG4kbWF0LWxpZ2h0LXRoZW1lLWZvcmVncm91bmQ6IChcbiAgYmFzZTogICAgICAgICAgICAgIGJsYWNrLFxuICBkaXZpZGVyOiAgICAgICAgICAgJGRhcmstZGl2aWRlcnMsXG4gIGRpdmlkZXJzOiAgICAgICAgICAkZGFyay1kaXZpZGVycyxcbiAgZGlzYWJsZWQ6ICAgICAgICAgICRkYXJrLWRpc2FibGVkLXRleHQsXG4gIGRpc2FibGVkLWJ1dHRvbjogICByZ2JhKGJsYWNrLCAwLjI2KSxcbiAgZGlzYWJsZWQtdGV4dDogICAgICRkYXJrLWRpc2FibGVkLXRleHQsXG4gIGVsZXZhdGlvbjogICAgICAgICBibGFjayxcbiAgaGludC10ZXh0OiAgICAgICAgICRkYXJrLWRpc2FibGVkLXRleHQsXG4gIHNlY29uZGFyeS10ZXh0OiAgICAkZGFyay1zZWNvbmRhcnktdGV4dCxcbiAgaWNvbjogICAgICAgICAgICAgIHJnYmEoYmxhY2ssIDAuNTQpLFxuICBpY29uczogICAgICAgICAgICAgcmdiYShibGFjaywgMC41NCksXG4gIHRleHQ6ICAgICAgICAgICAgICByZ2JhKGJsYWNrLCAwLjg3KSxcbiAgc2xpZGVyLW1pbjogICAgICAgIHJnYmEoYmxhY2ssIDAuODcpLFxuICBzbGlkZXItb2ZmOiAgICAgICAgcmdiYShibGFjaywgMC4yNiksXG4gIHNsaWRlci1vZmYtYWN0aXZlOiByZ2JhKGJsYWNrLCAwLjM4KSxcbik7XG5cbi8vIEZvcmVncm91bmQgcGFsZXR0ZSBmb3IgZGFyayB0aGVtZXMuXG4kbWF0LWRhcmstdGhlbWUtZm9yZWdyb3VuZDogKFxuICBiYXNlOiAgICAgICAgICAgICAgd2hpdGUsXG4gIGRpdmlkZXI6ICAgICAgICAgICAkbGlnaHQtZGl2aWRlcnMsXG4gIGRpdmlkZXJzOiAgICAgICAgICAkbGlnaHQtZGl2aWRlcnMsXG4gIGRpc2FibGVkOiAgICAgICAgICAkbGlnaHQtZGlzYWJsZWQtdGV4dCxcbiAgZGlzYWJsZWQtYnV0dG9uOiAgIHJnYmEod2hpdGUsIDAuMyksXG4gIGRpc2FibGVkLXRleHQ6ICAgICAkbGlnaHQtZGlzYWJsZWQtdGV4dCxcbiAgZWxldmF0aW9uOiAgICAgICAgIGJsYWNrLFxuICBoaW50LXRleHQ6ICAgICAgICAgJGxpZ2h0LWRpc2FibGVkLXRleHQsXG4gIHNlY29uZGFyeS10ZXh0OiAgICAkbGlnaHQtc2Vjb25kYXJ5LXRleHQsXG4gIGljb246ICAgICAgICAgICAgICB3aGl0ZSxcbiAgaWNvbnM6ICAgICAgICAgICAgIHdoaXRlLFxuICB0ZXh0OiAgICAgICAgICAgICAgd2hpdGUsXG4gIHNsaWRlci1taW46ICAgICAgICB3aGl0ZSxcbiAgc2xpZGVyLW9mZjogICAgICAgIHJnYmEod2hpdGUsIDAuMyksXG4gIHNsaWRlci1vZmYtYWN0aXZlOiByZ2JhKHdoaXRlLCAwLjMpLFxuKTtcblxuXG4vLyBXaGV0aGVyIGRlbnNpdHkgc2hvdWxkIGJlIGdlbmVyYXRlZCBieSBkZWZhdWx0LlxuJF9tYXQtdGhlbWUtZ2VuZXJhdGUtZGVmYXVsdC1kZW5zaXR5OiB0cnVlICFkZWZhdWx0O1xuXG4vLyBGb3IgYSBnaXZlbiBodWUgaW4gYSBwYWxldHRlLCByZXR1cm4gdGhlIGNvbnRyYXN0IGNvbG9yIGZyb20gdGhlIG1hcCBvZiBjb250cmFzdCBwYWxldHRlcy5cbi8vIEBwYXJhbSAkY29sb3ItbWFwXG4vLyBAcGFyYW0gJGh1ZVxuQGZ1bmN0aW9uIG1hdC1jb250cmFzdCgkcGFsZXR0ZSwgJGh1ZSkge1xuICBAcmV0dXJuIG1hcC1nZXQobWFwLWdldCgkcGFsZXR0ZSwgY29udHJhc3QpLCAkaHVlKTtcbn1cblxuXG4vLyBDcmVhdGVzIGEgbWFwIG9mIGh1ZXMgdG8gY29sb3JzIGZvciBhIHRoZW1lLiBUaGlzIGlzIHVzZWQgdG8gZGVmaW5lIGEgdGhlbWUgcGFsZXR0ZSBpbiB0ZXJtc1xuLy8gb2YgdGhlIE1hdGVyaWFsIERlc2lnbiBodWVzLlxuLy8gQHBhcmFtICRjb2xvci1tYXBcbi8vIEBwYXJhbSAkcHJpbWFyeVxuLy8gQHBhcmFtICRsaWdodGVyXG5AZnVuY3Rpb24gbWF0LXBhbGV0dGUoJGJhc2UtcGFsZXR0ZSwgJGRlZmF1bHQ6IDUwMCwgJGxpZ2h0ZXI6IDEwMCwgJGRhcmtlcjogNzAwLCAkdGV4dDogJGRlZmF1bHQpIHtcbiAgJHJlc3VsdDogbWFwX21lcmdlKCRiYXNlLXBhbGV0dGUsIChcbiAgICBkZWZhdWx0OiBtYXAtZ2V0KCRiYXNlLXBhbGV0dGUsICRkZWZhdWx0KSxcbiAgICBsaWdodGVyOiBtYXAtZ2V0KCRiYXNlLXBhbGV0dGUsICRsaWdodGVyKSxcbiAgICBkYXJrZXI6IG1hcC1nZXQoJGJhc2UtcGFsZXR0ZSwgJGRhcmtlciksXG4gICAgdGV4dDogbWFwLWdldCgkYmFzZS1wYWxldHRlLCAkdGV4dCksXG5cbiAgICBkZWZhdWx0LWNvbnRyYXN0OiBtYXQtY29udHJhc3QoJGJhc2UtcGFsZXR0ZSwgJGRlZmF1bHQpLFxuICAgIGxpZ2h0ZXItY29udHJhc3Q6IG1hdC1jb250cmFzdCgkYmFzZS1wYWxldHRlLCAkbGlnaHRlciksXG4gICAgZGFya2VyLWNvbnRyYXN0OiBtYXQtY29udHJhc3QoJGJhc2UtcGFsZXR0ZSwgJGRhcmtlcilcbiAgKSk7XG5cbiAgLy8gRm9yIGVhY2ggaHVlIGluIHRoZSBwYWxldHRlLCBhZGQgYSBcIi1jb250cmFzdFwiIGNvbG9yIHRvIHRoZSBtYXAuXG4gIEBlYWNoICRodWUsICRjb2xvciBpbiAkYmFzZS1wYWxldHRlIHtcbiAgICAkcmVzdWx0OiBtYXBfbWVyZ2UoJHJlc3VsdCwgKFxuICAgICAgJyN7JGh1ZX0tY29udHJhc3QnOiBtYXQtY29udHJhc3QoJGJhc2UtcGFsZXR0ZSwgJGh1ZSlcbiAgICApKTtcbiAgfVxuXG4gIEByZXR1cm4gJHJlc3VsdDtcbn1cblxuXG4vLyBHZXRzIGEgY29sb3IgZnJvbSBhIHRoZW1lIHBhbGV0dGUgKHRoZSBvdXRwdXQgb2YgbWF0LXBhbGV0dGUpLlxuLy8gVGhlIGh1ZSBjYW4gYmUgb25lIG9mIHRoZSBzdGFuZGFyZCB2YWx1ZXMgKDUwMCwgQTQwMCwgZXRjLiksIG9uZSBvZiB0aGUgdGhyZWUgcHJlY29uZmlndXJlZFxuLy8gaHVlcyAoZGVmYXVsdCwgbGlnaHRlciwgZGFya2VyKSwgb3IgYW55IG9mIHRoZSBhZm9yZW1lbnRpb25lZCBwcmVmaXhlZCB3aXRoIFwiLWNvbnRyYXN0XCIuXG4vL1xuLy8gQHBhcmFtICRjb2xvci1tYXAgVGhlIHRoZW1lIHBhbGV0dGUgKG91dHB1dCBvZiBtYXQtcGFsZXR0ZSkuXG4vLyBAcGFyYW0gJGh1ZSBUaGUgaHVlIGZyb20gdGhlIHBhbGV0dGUgdG8gdXNlLiBJZiB0aGlzIGlzIGEgdmFsdWUgYmV0d2VlbiAwIGFuZCAxLCBpdCB3aWxsXG4vLyAgICAgYmUgdHJlYXRlZCBhcyBvcGFjaXR5LlxuLy8gQHBhcmFtICRvcGFjaXR5IFRoZSBhbHBoYSBjaGFubmVsIHZhbHVlIGZvciB0aGUgY29sb3IuXG5AZnVuY3Rpb24gbWF0LWNvbG9yKCRwYWxldHRlLCAkaHVlOiBkZWZhdWx0LCAkb3BhY2l0eTogbnVsbCkge1xuICAvLyBJZiBodWVLZXkgaXMgYSBudW1iZXIgYmV0d2VlbiB6ZXJvIGFuZCBvbmUsIHRoZW4gaXQgYWN0dWFsbHkgY29udGFpbnMgYW5cbiAgLy8gb3BhY2l0eSB2YWx1ZSwgc28gcmVjYWxsIHRoaXMgZnVuY3Rpb24gd2l0aCB0aGUgZGVmYXVsdCBodWUgYW5kIHRoYXQgZ2l2ZW4gb3BhY2l0eS5cbiAgQGlmIHR5cGUtb2YoJGh1ZSkgPT0gbnVtYmVyIGFuZCAkaHVlID49IDAgYW5kICRodWUgPD0gMSB7XG4gICAgQHJldHVybiBtYXQtY29sb3IoJHBhbGV0dGUsIGRlZmF1bHQsICRodWUpO1xuICB9XG5cbiAgJGNvbG9yOiBtYXAtZ2V0KCRwYWxldHRlLCAkaHVlKTtcblxuICBAaWYgKHR5cGUtb2YoJGNvbG9yKSAhPSBjb2xvcikge1xuICAgIC8vIElmIHRoZSAkY29sb3IgcmVzb2x2ZWQgdG8gc29tZXRoaW5nIGRpZmZlcmVudCBmcm9tIGEgY29sb3IgKGUuZy4gYSBDU1MgdmFyaWFibGUpLFxuICAgIC8vIHdlIGNhbid0IGFwcGx5IHRoZSBvcGFjaXR5IGFueXdheSBzbyB3ZSByZXR1cm4gdGhlIHZhbHVlIGFzIGlzLCBvdGhlcndpc2UgU2FzcyBjYW5cbiAgICAvLyB0aHJvdyBhbiBlcnJvciBvciBvdXRwdXQgc29tZXRoaW5nIGludmFsaWQuXG4gICAgQHJldHVybiAkY29sb3I7XG4gIH1cblxuICBAcmV0dXJuIHJnYmEoJGNvbG9yLCBpZigkb3BhY2l0eSA9PSBudWxsLCBvcGFjaXR5KCRjb2xvciksICRvcGFjaXR5KSk7XG59XG5cbi8vIFZhbGlkYXRlcyB0aGUgc3BlY2lmaWVkIHRoZW1lIGJ5IGVuc3VyaW5nIHRoYXQgdGhlIG9wdGlvbmFsIGNvbG9yIGNvbmZpZyBkZWZpbmVzXG4vLyBhIHByaW1hcnksIGFjY2VudCBhbmQgd2FybiBwYWxldHRlLiBSZXR1cm5zIHRoZSB0aGVtZSBpZiBubyBmYWlsdXJlcyB3ZXJlIGZvdW5kLlxuQGZ1bmN0aW9uIF9tYXQtdmFsaWRhdGUtdGhlbWUoJHRoZW1lKSB7XG4gIEBpZiBtYXBfZ2V0KCR0aGVtZSwgY29sb3IpIHtcbiAgICAkY29sb3I6IG1hcF9nZXQoJHRoZW1lLCBjb2xvcik7XG4gICAgQGlmIG5vdCBtYXBfZ2V0KCRjb2xvciwgcHJpbWFyeSkge1xuICAgICAgQGVycm9yICdUaGVtZSBkb2VzIG5vdCBkZWZpbmUgYSB2YWxpZCBcInByaW1hcnlcIiBwYWxldHRlLic7XG4gICAgfVxuICAgIEBlbHNlIGlmIG5vdCBtYXBfZ2V0KCRjb2xvciwgYWNjZW50KSB7XG4gICAgICBAZXJyb3IgJ1RoZW1lIGRvZXMgbm90IGRlZmluZSBhIHZhbGlkIFwiYWNjZW50XCIgcGFsZXR0ZS4nO1xuICAgIH1cbiAgICBAZWxzZSBpZiBub3QgbWFwX2dldCgkY29sb3IsIHdhcm4pIHtcbiAgICAgIEBlcnJvciAnVGhlbWUgZG9lcyBub3QgZGVmaW5lIGEgdmFsaWQgXCJ3YXJuXCIgcGFsZXR0ZS4nO1xuICAgIH1cbiAgfVxuICBAcmV0dXJuICR0aGVtZTtcbn1cblxuLy8gQ3JlYXRlcyBhIGJhY2t3YXJkcyBjb21wYXRpYmxlIHRoZW1lLiBQcmV2aW91c2x5IGluIEFuZ3VsYXIgTWF0ZXJpYWwsIHRoZW1lIG9iamVjdHNcbi8vIGNvbnRhaW5lZCB0aGUgY29sb3IgY29uZmlndXJhdGlvbiBkaXJlY3RseS4gV2l0aCB0aGUgcmVjZW50IHJlZmFjdG9yaW5nIG9mIHRoZSB0aGVtaW5nXG4vLyBzeXN0ZW0gdG8gYWxsb3cgZm9yIGRlbnNpdHkgYW5kIHR5cG9ncmFwaHkgY29uZmlndXJhdGlvbnMsIHRoaXMgaXMgbm8gbG9uZ2VyIHRoZSBjYXNlLlxuLy8gVG8gZW5zdXJlIHRoYXQgY29uc3RydWN0ZWQgdGhlbWVzIHdoaWNoIHdpbGwgYmUgcGFzc2VkIHRvIGN1c3RvbSB0aGVtZSBtaXhpbnMgZG8gbm90IGJyZWFrLFxuLy8gd2UgY29weSB0aGUgY29sb3IgY29uZmlndXJhdGlvbiBhbmQgcHV0IGl0cyBwcm9wZXJ0aWVzIGF0IHRoZSB0b3AtbGV2ZWwgb2YgdGhlIHRoZW1lIG9iamVjdC5cbi8vIEhlcmUgaXMgYW4gZXhhbXBsZSBvZiBhIHBhdHRlcm4gdGhhdCBzaG91bGQgc3RpbGwgd29yayB1bnRpbCBpdCdzIG9mZmljaWFsbHkgbWFya2VkIGFzIGFcbi8vIGJyZWFraW5nIGNoYW5nZTpcbi8vXG4vLyAgICBAbWl4aW4gbXktY3VzdG9tLWNvbXBvbmVudC10aGVtZSgkdGhlbWUpIHtcbi8vICAgICAgLm15LWNvbXAge1xuLy8gICAgICAgIGJhY2tncm91bmQtY29sb3I6IG1hdC1jb2xvcihtYXBfZ2V0KCR0aGVtZSwgcHJpbWFyeSkpO1xuLy8gICAgICB9XG4vLyAgICB9XG4vL1xuLy8gTm90ZSB0aGF0IHRoZSBgJHRoZW1lLnByaW1hcnlgIGtleSBkb2VzIHVzdWFsbHkgbm90IGV4aXN0IHNpbmNlIHRoZSBjb2xvciBjb25maWd1cmF0aW9uXG4vLyBpcyBzdG9yZWQgaW4gYCR0aGVtZS5jb2xvcmAgd2hpY2ggY29udGFpbnMgYSBwcm9wZXJ0eSBmb3IgYHByaW1hcnlgLiBUaGlzIG1ldGhvZCBjb3BpZXNcbi8vIHRoZSBtYXAgZnJvbSBgJHRoZW1lLmNvbG9yYCB0byBgJHRoZW1lYCBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkuXG5AZnVuY3Rpb24gX21hdC1jcmVhdGUtYmFja3dhcmRzLWNvbXBhdGliaWxpdHktdGhlbWUoJHRoZW1lKSB7XG4gIEBpZiBub3QgbWFwX2dldCgkdGhlbWUsIGNvbG9yKSB7XG4gICAgQHJldHVybiAkdGhlbWU7XG4gIH1cbiAgJGNvbG9yOiBtYXBfZ2V0KCR0aGVtZSwgY29sb3IpO1xuICBAcmV0dXJuIG1hcF9tZXJnZSgkdGhlbWUsICRjb2xvcik7XG59XG5cbi8vIENyZWF0ZXMgYSBsaWdodC10aGVtZWQgY29sb3IgY29uZmlndXJhdGlvbiBmcm9tIHRoZSBzcGVjaWZpZWRcbi8vIHByaW1hcnksIGFjY2VudCBhbmQgd2FybiBwYWxldHRlcy5cbkBmdW5jdGlvbiBfbWF0LWNyZWF0ZS1saWdodC1jb2xvci1jb25maWcoJHByaW1hcnksICRhY2NlbnQsICR3YXJuOiBudWxsKSB7XG4gIEByZXR1cm4gKFxuICAgIHByaW1hcnk6ICRwcmltYXJ5LFxuICAgIGFjY2VudDogJGFjY2VudCxcbiAgICB3YXJuOiBpZigkd2FybiAhPSBudWxsLCAkd2FybiwgbWF0LXBhbGV0dGUoJG1hdC1yZWQpKSxcbiAgICBpcy1kYXJrOiBmYWxzZSxcbiAgICBmb3JlZ3JvdW5kOiAkbWF0LWxpZ2h0LXRoZW1lLWZvcmVncm91bmQsXG4gICAgYmFja2dyb3VuZDogJG1hdC1saWdodC10aGVtZS1iYWNrZ3JvdW5kLFxuICApO1xufVxuXG4vLyBDcmVhdGVzIGEgZGFyay10aGVtZWQgY29sb3IgY29uZmlndXJhdGlvbiBmcm9tIHRoZSBzcGVjaWZpZWRcbi8vIHByaW1hcnksIGFjY2VudCBhbmQgd2FybiBwYWxldHRlcy5cbkBmdW5jdGlvbiBfbWF0LWNyZWF0ZS1kYXJrLWNvbG9yLWNvbmZpZygkcHJpbWFyeSwgJGFjY2VudCwgJHdhcm46IG51bGwpIHtcbiAgQHJldHVybiAoXG4gICAgcHJpbWFyeTogJHByaW1hcnksXG4gICAgYWNjZW50OiAkYWNjZW50LFxuICAgIHdhcm46IGlmKCR3YXJuICE9IG51bGwsICR3YXJuLCBtYXQtcGFsZXR0ZSgkbWF0LXJlZCkpLFxuICAgIGlzLWRhcms6IHRydWUsXG4gICAgZm9yZWdyb3VuZDogJG1hdC1kYXJrLXRoZW1lLWZvcmVncm91bmQsXG4gICAgYmFja2dyb3VuZDogJG1hdC1kYXJrLXRoZW1lLWJhY2tncm91bmQsXG4gICk7XG59XG5cbi8vIENyZWF0ZXMgYSBjb250YWluZXIgb2JqZWN0IGZvciBhIGxpZ2h0IHRoZW1lIHRvIGJlIGdpdmVuIHRvIGluZGl2aWR1YWwgY29tcG9uZW50IHRoZW1lIG1peGlucy5cbi8vIFRPRE86IFJlbW92ZSBsZWdhY3kgQVBJIGFuZCByZW5hbWUgYCRwcmltYXJ5YCB0byBgJGNvbmZpZ2AuIEN1cnJlbnRseSBpdCBjYW5ub3QgYmUgcmVuYW1lZFxuLy8gYXMgaXQgd291bGQgYnJlYWsgZXhpc3RpbmcgYXBwcyB0aGF0IHNldCB0aGUgcGFyYW1ldGVyIGJ5IG5hbWUuXG5AZnVuY3Rpb24gbWF0LWxpZ2h0LXRoZW1lKCRwcmltYXJ5LCAkYWNjZW50OiBudWxsLCAkd2FybjogbWF0LXBhbGV0dGUoJG1hdC1yZWQpKSB7XG4gIC8vIFRoaXMgZnVuY3Rpb24gY3JlYXRlcyBhIGNvbnRhaW5lciBvYmplY3QgZm9yIHRoZSBpbmRpdmlkdWFsIGNvbXBvbmVudCB0aGVtZSBtaXhpbnMuIENvbnN1bWVyc1xuICAvLyBjYW4gY29uc3RydWN0IHN1Y2ggYW4gb2JqZWN0IGJ5IGNhbGxpbmcgdGhpcyBmdW5jdGlvbiwgb3IgYnkgYnVpbGRpbmcgdGhlIG9iamVjdCBtYW51YWxseS5cbiAgLy8gVGhlcmUgYXJlIHR3byBwb3NzaWJsZSB3YXlzIHRvIGludm9rZSB0aGlzIGZ1bmN0aW9uIGluIG9yZGVyIHRvIGNyZWF0ZSBzdWNoIGFuIG9iamVjdDpcbiAgLy9cbiAgLy8gICAgKDEpIFBhc3NpbmcgaW4gYSBtYXAgdGhhdCBob2xkcyBvcHRpb25hbCBjb25maWd1cmF0aW9ucyBmb3IgaW5kaXZpZHVhbCBwYXJ0cyBvZiB0aGVcbiAgLy8gICAgICAgIHRoZW1pbmcgc3lzdGVtLiBGb3IgYGNvbG9yYCBjb25maWd1cmF0aW9ucywgdGhlIGZ1bmN0aW9uIG9ubHkgZXhwZWN0cyB0aGUgcGFsZXR0ZXNcbiAgLy8gICAgICAgIGZvciBgcHJpbWFyeWAgYW5kIGBhY2NlbnRgIChhbmQgb3B0aW9uYWxseSBgd2FybmApLiBUaGUgZnVuY3Rpb24gd2lsbCBleHBhbmQgdGhlXG4gIC8vICAgICAgICBzaG9ydGhhbmQgaW50byBhbiBhY3R1YWwgY29uZmlndXJhdGlvbiB0aGF0IGNhbiBiZSBjb25zdW1lZCBpbiBgLWNvbG9yYCBtaXhpbnMuXG4gIC8vICAgICgyKSBMZWdhY3kgcGF0dGVybjogUGFzc2luZyBpbiB0aGUgcGFsZXR0ZXMgYXMgcGFyYW1ldGVycy4gVGhpcyBpcyBub3QgYXMgZmxleGlibGVcbiAgLy8gICAgICAgIGFzIHBhc3NpbmcgaW4gYSBjb25maWd1cmF0aW9uIG1hcCBiZWNhdXNlIG9ubHkgdGhlIGBjb2xvcmAgc3lzdGVtIGNhbiBiZSBjb25maWd1cmVkLlxuICAvL1xuICAvLyBJZiB0aGUgbGVnYWN5IHBhdHRlcm4gaXMgdXNlZCwgd2UgZ2VuZXJhdGUgYSBjb250YWluZXIgb2JqZWN0IG9ubHkgd2l0aCBhIGxpZ2h0LXRoZW1lZFxuICAvLyBjb25maWd1cmF0aW9uIGZvciB0aGUgYGNvbG9yYCB0aGVtaW5nIHBhcnQuXG4gIEBpZiAkYWNjZW50ICE9IG51bGwge1xuICAgIEByZXR1cm4gX21hdC1jcmVhdGUtYmFja3dhcmRzLWNvbXBhdGliaWxpdHktdGhlbWUoX21hdC12YWxpZGF0ZS10aGVtZSgoXG4gICAgICBfaXMtbGVnYWN5LXRoZW1lOiB0cnVlLFxuICAgICAgY29sb3I6IF9tYXQtY3JlYXRlLWxpZ2h0LWNvbG9yLWNvbmZpZygkcHJpbWFyeSwgJGFjY2VudCwgJHdhcm4pLFxuICAgICkpKTtcbiAgfVxuICAvLyBJZiB0aGUgbWFwIHBhdHRlcm4gaXMgdXNlZCAoMSksIHdlIGp1c3QgcGFzcy10aHJvdWdoIHRoZSBjb25maWd1cmF0aW9ucyBmb3IgaW5kaXZpZHVhbFxuICAvLyBwYXJ0cyBvZiB0aGUgdGhlbWluZyBzeXN0ZW0sIGJ1dCB1cGRhdGUgdGhlIGBjb2xvcmAgY29uZmlndXJhdGlvbiBpZiBzZXQuIEFzIGV4cGxhaW5lZFxuICAvLyBhYm92ZSwgdGhlIGNvbG9yIHNob3J0aGFuZCB3aWxsIGJlIGV4cGFuZGVkIHRvIGFuIGFjdHVhbCBsaWdodC10aGVtZWQgY29sb3IgY29uZmlndXJhdGlvbi5cbiAgJHJlc3VsdDogJHByaW1hcnk7XG4gIEBpZiBtYXBfZ2V0KCRwcmltYXJ5LCBjb2xvcikge1xuICAgICRjb2xvci1zZXR0aW5nczogbWFwX2dldCgkcHJpbWFyeSwgY29sb3IpO1xuICAgICRwcmltYXJ5OiBtYXBfZ2V0KCRjb2xvci1zZXR0aW5ncywgcHJpbWFyeSk7XG4gICAgJGFjY2VudDogbWFwX2dldCgkY29sb3Itc2V0dGluZ3MsIGFjY2VudCk7XG4gICAgJHdhcm46IG1hcF9nZXQoJGNvbG9yLXNldHRpbmdzLCB3YXJuKTtcbiAgICAkcmVzdWx0OiBtYXBfbWVyZ2UoJHJlc3VsdCwgKGNvbG9yOiBfbWF0LWNyZWF0ZS1saWdodC1jb2xvci1jb25maWcoJHByaW1hcnksICRhY2NlbnQsICR3YXJuKSkpO1xuICB9XG4gIEByZXR1cm4gX21hdC1jcmVhdGUtYmFja3dhcmRzLWNvbXBhdGliaWxpdHktdGhlbWUoX21hdC12YWxpZGF0ZS10aGVtZSgkcmVzdWx0KSk7XG59XG5cbi8vIENyZWF0ZXMgYSBjb250YWluZXIgb2JqZWN0IGZvciBhIGRhcmsgdGhlbWUgdG8gYmUgZ2l2ZW4gdG8gaW5kaXZpZHVhbCBjb21wb25lbnQgdGhlbWUgbWl4aW5zLlxuLy8gVE9ETzogUmVtb3ZlIGxlZ2FjeSBBUEkgYW5kIHJlbmFtZSBgJHByaW1hcnlgIHRvIGAkY29uZmlnYC4gQ3VycmVudGx5IGl0IGNhbm5vdCBiZSByZW5hbWVkXG4vLyBhcyBpdCB3b3VsZCBicmVhayBleGlzdGluZyBhcHBzIHRoYXQgc2V0IHRoZSBwYXJhbWV0ZXIgYnkgbmFtZS5cbkBmdW5jdGlvbiBtYXQtZGFyay10aGVtZSgkcHJpbWFyeSwgJGFjY2VudDogbnVsbCwgJHdhcm46IG1hdC1wYWxldHRlKCRtYXQtcmVkKSkge1xuICAvLyBUaGlzIGZ1bmN0aW9uIGNyZWF0ZXMgYSBjb250YWluZXIgb2JqZWN0IGZvciB0aGUgaW5kaXZpZHVhbCBjb21wb25lbnQgdGhlbWUgbWl4aW5zLiBDb25zdW1lcnNcbiAgLy8gY2FuIGNvbnN0cnVjdCBzdWNoIGFuIG9iamVjdCBieSBjYWxsaW5nIHRoaXMgZnVuY3Rpb24sIG9yIGJ5IGJ1aWxkaW5nIHRoZSBvYmplY3QgbWFudWFsbHkuXG4gIC8vIFRoZXJlIGFyZSB0d28gcG9zc2libGUgd2F5cyB0byBpbnZva2UgdGhpcyBmdW5jdGlvbiBpbiBvcmRlciB0byBjcmVhdGUgc3VjaCBhbiBvYmplY3Q6XG4gIC8vXG4gIC8vICAgICgxKSBQYXNzaW5nIGluIGEgbWFwIHRoYXQgaG9sZHMgb3B0aW9uYWwgY29uZmlndXJhdGlvbnMgZm9yIGluZGl2aWR1YWwgcGFydHMgb2YgdGhlXG4gIC8vICAgICAgICB0aGVtaW5nIHN5c3RlbS4gRm9yIGBjb2xvcmAgY29uZmlndXJhdGlvbnMsIHRoZSBmdW5jdGlvbiBvbmx5IGV4cGVjdHMgdGhlIHBhbGV0dGVzXG4gIC8vICAgICAgICBmb3IgYHByaW1hcnlgIGFuZCBgYWNjZW50YCAoYW5kIG9wdGlvbmFsbHkgYHdhcm5gKS4gVGhlIGZ1bmN0aW9uIHdpbGwgZXhwYW5kIHRoZVxuICAvLyAgICAgICAgc2hvcnRoYW5kIGludG8gYW4gYWN0dWFsIGNvbmZpZ3VyYXRpb24gdGhhdCBjYW4gYmUgY29uc3VtZWQgaW4gYC1jb2xvcmAgbWl4aW5zLlxuICAvLyAgICAoMikgTGVnYWN5IHBhdHRlcm46IFBhc3NpbmcgaW4gdGhlIHBhbGV0dGVzIGFzIHBhcmFtZXRlcnMuIFRoaXMgaXMgbm90IGFzIGZsZXhpYmxlXG4gIC8vICAgICAgICBhcyBwYXNzaW5nIGluIGEgY29uZmlndXJhdGlvbiBtYXAgYmVjYXVzZSBvbmx5IHRoZSBgY29sb3JgIHN5c3RlbSBjYW4gYmUgY29uZmlndXJlZC5cbiAgLy9cbiAgLy8gSWYgdGhlIGxlZ2FjeSBwYXR0ZXJuIGlzIHVzZWQsIHdlIGdlbmVyYXRlIGEgY29udGFpbmVyIG9iamVjdCBvbmx5IHdpdGggYSBkYXJrLXRoZW1lZFxuICAvLyBjb25maWd1cmF0aW9uIGZvciB0aGUgYGNvbG9yYCB0aGVtaW5nIHBhcnQuXG4gIEBpZiAkYWNjZW50ICE9IG51bGwge1xuICAgIEByZXR1cm4gX21hdC1jcmVhdGUtYmFja3dhcmRzLWNvbXBhdGliaWxpdHktdGhlbWUoX21hdC12YWxpZGF0ZS10aGVtZSgoXG4gICAgICBfaXMtbGVnYWN5LXRoZW1lOiB0cnVlLFxuICAgICAgY29sb3I6IF9tYXQtY3JlYXRlLWRhcmstY29sb3ItY29uZmlnKCRwcmltYXJ5LCAkYWNjZW50LCAkd2FybiksXG4gICAgKSkpO1xuICB9XG4gIC8vIElmIHRoZSBtYXAgcGF0dGVybiBpcyB1c2VkICgxKSwgd2UganVzdCBwYXNzLXRocm91Z2ggdGhlIGNvbmZpZ3VyYXRpb25zIGZvciBpbmRpdmlkdWFsXG4gIC8vIHBhcnRzIG9mIHRoZSB0aGVtaW5nIHN5c3RlbSwgYnV0IHVwZGF0ZSB0aGUgYGNvbG9yYCBjb25maWd1cmF0aW9uIGlmIHNldC4gQXMgZXhwbGFpbmVkXG4gIC8vIGFib3ZlLCB0aGUgY29sb3Igc2hvcnRoYW5kIHdpbGwgYmUgZXhwYW5kZWQgdG8gYW4gYWN0dWFsIGRhcmstdGhlbWVkIGNvbG9yIGNvbmZpZ3VyYXRpb24uXG4gICRyZXN1bHQ6ICRwcmltYXJ5O1xuICBAaWYgbWFwX2dldCgkcHJpbWFyeSwgY29sb3IpIHtcbiAgICAkY29sb3Itc2V0dGluZ3M6IG1hcF9nZXQoJHByaW1hcnksIGNvbG9yKTtcbiAgICAkcHJpbWFyeTogbWFwX2dldCgkY29sb3Itc2V0dGluZ3MsIHByaW1hcnkpO1xuICAgICRhY2NlbnQ6IG1hcF9nZXQoJGNvbG9yLXNldHRpbmdzLCBhY2NlbnQpO1xuICAgICR3YXJuOiBtYXBfZ2V0KCRjb2xvci1zZXR0aW5ncywgd2Fybik7XG4gICAgJHJlc3VsdDogbWFwX21lcmdlKCRyZXN1bHQsIChjb2xvcjogX21hdC1jcmVhdGUtZGFyay1jb2xvci1jb25maWcoJHByaW1hcnksICRhY2NlbnQsICR3YXJuKSkpO1xuICB9XG4gIEByZXR1cm4gX21hdC1jcmVhdGUtYmFja3dhcmRzLWNvbXBhdGliaWxpdHktdGhlbWUoX21hdC12YWxpZGF0ZS10aGVtZSgkcmVzdWx0KSk7XG59XG5cbi8vLyBHZXRzIHRoZSBjb2xvciBjb25maWd1cmF0aW9uIGZyb20gdGhlIGdpdmVuIHRoZW1lIG9yIGNvbmZpZ3VyYXRpb24uXG5AZnVuY3Rpb24gbWF0LWdldC1jb2xvci1jb25maWcoJHRoZW1lLCAkZGVmYXVsdDogbnVsbCkge1xuICAvLyBJZiBhIGNvbmZpZ3VyYXRpb24gaGFzIGJlZW4gcGFzc2VkLCByZXR1cm4gdGhlIGNvbmZpZyBkaXJlY3RseS5cbiAgQGlmIG5vdCBfbWF0LWlzLXRoZW1lLW9iamVjdCgkdGhlbWUpIHtcbiAgICBAcmV0dXJuICR0aGVtZTtcbiAgfVxuICAvLyBJZiB0aGUgdGhlbWUgaGFzIGJlZW4gY29uc3RydWN0ZWQgdGhyb3VnaCB0aGUgbGVnYWN5IHRoZW1pbmcgQVBJLCB3ZSB1c2UgdGhlIHRoZW1lIG9iamVjdFxuICAvLyBhcyBjb2xvciBjb25maWd1cmF0aW9uIGluc3RlYWQgb2YgdGhlIGRlZGljYXRlZCBgY29sb3JgIHByb3BlcnR5LiBXZSBkbyB0aGlzIGJlY2F1c2UgZm9yXG4gIC8vIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LCB3ZSBjb3BpZWQgdGhlIGNvbG9yIGNvbmZpZ3VyYXRpb24gZnJvbSBgJHRoZW1lLmNvbG9yYCB0byBgJHRoZW1lYC5cbiAgLy8gSGVuY2UgZGV2ZWxvcGVycyBjb3VsZCBjdXN0b21pemUgdGhlIGNvbG9ycyBhdCB0b3AtbGV2ZWwgYW5kIHdhbnQgdG8gcmVzcGVjdCB0aGVzZSBjaGFuZ2VzXG4gIC8vIFRPRE86IFJlbW92ZSB3aGVuIGxlZ2FjeSB0aGVtaW5nIEFQSSBpcyByZW1vdmVkLlxuICBAaWYgX21hdC1pcy1sZWdhY3ktY29uc3RydWN0ZWQtdGhlbWUoJHRoZW1lKSB7XG4gICAgQHJldHVybiAkdGhlbWU7XG4gIH1cbiAgQGlmIG1hcF9oYXNfa2V5KCR0aGVtZSwgY29sb3IpIHtcbiAgICBAcmV0dXJuIG1hcF9nZXQoJHRoZW1lLCBjb2xvcik7XG4gIH1cbiAgQHJldHVybiAkZGVmYXVsdDtcbn1cblxuLy8vIEdldHMgdGhlIGRlbnNpdHkgY29uZmlndXJhdGlvbiBmcm9tIHRoZSBnaXZlbiB0aGVtZSBvciBjb25maWd1cmF0aW9uLlxuQGZ1bmN0aW9uIG1hdC1nZXQtZGVuc2l0eS1jb25maWcoJHRoZW1lLW9yLWNvbmZpZywgJGRlZmF1bHQ6IDApIHtcbiAgLy8gSWYgYSBjb25maWd1cmF0aW9uIGhhcyBiZWVuIHBhc3NlZCwgcmV0dXJuIHRoZSBjb25maWcgZGlyZWN0bHkuXG4gIEBpZiBub3QgX21hdC1pcy10aGVtZS1vYmplY3QoJHRoZW1lLW9yLWNvbmZpZykge1xuICAgIEByZXR1cm4gJHRoZW1lLW9yLWNvbmZpZztcbiAgfVxuICAvLyBJbiBjYXNlIGEgdGhlbWUgaGFzIGJlZW4gcGFzc2VkLCBleHRyYWN0IHRoZSBjb25maWd1cmF0aW9uIGlmIHByZXNlbnQsXG4gIC8vIG9yIGZhbGwgYmFjayB0byB0aGUgZGVmYXVsdCBkZW5zaXR5IGNvbmZpZy5cbiAgQGlmIG1hcF9oYXNfa2V5KCR0aGVtZS1vci1jb25maWcsIGRlbnNpdHkpIHtcbiAgICBAcmV0dXJuIG1hcF9nZXQoJHRoZW1lLW9yLWNvbmZpZywgZGVuc2l0eSk7XG4gIH1cbiAgQHJldHVybiAkZGVmYXVsdDtcbn1cblxuLy8vIEdldHMgdGhlIHR5cG9ncmFwaHkgY29uZmlndXJhdGlvbiBmcm9tIHRoZSBnaXZlbiB0aGVtZSBvciBjb25maWd1cmF0aW9uLlxuLy8vIEZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSwgdHlwb2dyYXBoeSBpcyBub3QgaW5jbHVkZWQgYnkgZGVmYXVsdC5cbkBmdW5jdGlvbiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCR0aGVtZS1vci1jb25maWcsICRkZWZhdWx0OiBudWxsKSB7XG4gIC8vIElmIGEgY29uZmlndXJhdGlvbiBoYXMgYmVlbiBwYXNzZWQsIHJldHVybiB0aGUgY29uZmlnIGRpcmVjdGx5LlxuICBAaWYgbm90IF9tYXQtaXMtdGhlbWUtb2JqZWN0KCR0aGVtZS1vci1jb25maWcpIHtcbiAgICBAcmV0dXJuICR0aGVtZS1vci1jb25maWc7XG4gIH1cbiAgLy8gSW4gY2FzZSBhIHRoZW1lIGhhcyBiZWVuIHBhc3NlZCwgZXh0cmFjdCB0aGUgY29uZmlndXJhdGlvbiBpZiBwcmVzZW50LFxuICAvLyBvciBmYWxsIGJhY2sgdG8gdGhlIGRlZmF1bHQgdHlwb2dyYXBoeSBjb25maWcuXG4gIEBpZiAobWFwX2hhc19rZXkoJHRoZW1lLW9yLWNvbmZpZywgdHlwb2dyYXBoeSkpIHtcbiAgICBAcmV0dXJuIG1hcF9nZXQoJHRoZW1lLW9yLWNvbmZpZywgdHlwb2dyYXBoeSk7XG4gIH1cbiAgQHJldHVybiAkZGVmYXVsdDtcbn1cblxuLy8gQ2hlY2tzIHdoZXRoZXIgdGhlIGdpdmVuIHZhbHVlIHJlc29sdmVzIHRvIGEgdGhlbWUgb2JqZWN0LiBUaGVtZSBvYmplY3RzIGFyZSBhbHdheXNcbi8vIG9mIHR5cGUgYG1hcGAgYW5kIGNhbiBvcHRpb25hbGx5IG9ubHkgc3BlY2lmeSBgY29sb3JgLCBgZGVuc2l0eWAgb3IgYHR5cG9ncmFwaHlgLlxuQGZ1bmN0aW9uIF9tYXQtaXMtdGhlbWUtb2JqZWN0KCR2YWx1ZSkge1xuICBAcmV0dXJuIHR5cGUtb2YoJHZhbHVlKSA9PSAnbWFwJyBhbmQgKFxuICAgIG1hcF9oYXNfa2V5KCR2YWx1ZSwgY29sb3IpIG9yXG4gICAgbWFwX2hhc19rZXkoJHZhbHVlLCBkZW5zaXR5KSBvclxuICAgIG1hcF9oYXNfa2V5KCR2YWx1ZSwgdHlwb2dyYXBoeSkgb3JcbiAgICBsZW5ndGgoJHZhbHVlKSA9PSAwXG4gICk7XG59XG5cbi8vIENoZWNrcyB3aGV0aGVyIGEgZ2l2ZW4gdmFsdWUgY29ycmVzcG9uZHMgdG8gYSBsZWdhY3kgY29uc3RydWN0ZWQgdGhlbWUuXG5AZnVuY3Rpb24gX21hdC1pcy1sZWdhY3ktY29uc3RydWN0ZWQtdGhlbWUoJHZhbHVlKSB7XG4gIEByZXR1cm4gdHlwZS1vZigkdmFsdWUpID09ICdtYXAnIGFuZCBtYXBfZ2V0KCR2YWx1ZSwgJ19pcy1sZWdhY3ktdGhlbWUnKTtcbn1cblxuLy8gR2V0cyB0aGUgdGhlbWUgZnJvbSB0aGUgZ2l2ZW4gdmFsdWUgdGhhdCBpcyBlaXRoZXIgYWxyZWFkeSBhIHRoZW1lLCBvciBhIGNvbG9yIGNvbmZpZ3VyYXRpb24uXG4vLyBUaGlzIGhhbmRsZXMgdGhlIGxlZ2FjeSBjYXNlIHdoZXJlIGRldmVsb3BlcnMgcGFzcyBhIGNvbG9yIGNvbmZpZ3VyYXRpb24gZGlyZWN0bHkgdG8gdGhlXG4vLyB0aGVtZSBtaXhpbi4gQmVmb3JlIHdlIGludHJvZHVjZWQgdGhlIG5ldyBwYXR0ZXJuIGZvciBjb25zdHJ1Y3RpbmcgYSB0aGVtZSwgZGV2ZWxvcGVycyBwYXNzZWRcbi8vIHRoZSBjb2xvciBjb25maWd1cmF0aW9uIGRpcmVjdGx5IHRvIHRoZSB0aGVtZSBtaXhpbnMuIFRoaXMgY2FuIGJlIHN0aWxsIHRoZSBjYXNlIGlmIGRldmVsb3BlcnNcbi8vIGNvbnN0cnVjdCBhIHRoZW1lIG1hbnVhbGx5IGFuZCBwYXNzIGl0IHRvIGEgdGhlbWUuIFdlIHN1cHBvcnQgdGhpcyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkuXG4vLyBUT0RPKGRldnZlcnNpb24pOiByZW1vdmUgdGhpcyBpbiB0aGUgZnV0dXJlLiBDb25zdHJ1Y3RpbmcgdGhlbWVzIG1hbnVhbGx5IGlzIHJhcmUsXG4vLyBhbmQgdGhlIGNvZGUgY2FuIGJlIGVhc2lseSB1cGRhdGVkIHRvIHRoZSBuZXcgQVBJLlxuQGZ1bmN0aW9uIF9tYXQtbGVnYWN5LWdldC10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKSB7XG4gIEBpZiBfbWF0LWlzLXRoZW1lLW9iamVjdCgkdGhlbWUtb3ItY29sb3ItY29uZmlnKSB7XG4gICAgQHJldHVybiAkdGhlbWUtb3ItY29sb3ItY29uZmlnO1xuICB9XG4gIEByZXR1cm4gX21hdC1jcmVhdGUtYmFja3dhcmRzLWNvbXBhdGliaWxpdHktdGhlbWUoKFxuICAgIF9pcy1sZWdhY3ktdGhlbWU6IHRydWUsXG4gICAgY29sb3I6ICR0aGVtZS1vci1jb2xvci1jb25maWdcbiAgKSk7XG59XG5cblxuXG4vLyBXaGV0aGVyIGR1cGxpY2F0aW9uIHdhcm5pbmdzIHNob3VsZCBiZSBkaXNhYmxlZC4gV2FybmluZ3MgZW5hYmxlZCBieSBkZWZhdWx0LlxuJG1hdC10aGVtZS1pZ25vcmUtZHVwbGljYXRpb24td2FybmluZ3M6IGZhbHNlICFkZWZhdWx0O1xuXG4vLyBXYXJuaW5nIHRoYXQgd2lsbCBiZSBwcmludGVkIGlmIGR1cGxpY2F0ZWQgc3R5bGVzIGFyZSBnZW5lcmF0ZWQgYnkgYSB0aGVtZS5cbiRfbWF0LXRoZW1lLWR1cGxpY2F0ZS13YXJuaW5nOiAnUmVhZCBtb3JlIGFib3V0IGhvdyBzdHlsZSBkdXBsaWNhdGlvbiBjYW4gYmUgYXZvaWRlZCBpbiBhICcgK1xuICAnZGVkaWNhdGVkIGd1aWRlLiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9jb21wb25lbnRzL2Jsb2IvbWFzdGVyL2d1aWRlcy9kdXBsaWNhdGUtdGhlbWluZy1zdHlsZXMubWQnO1xuXG4vLyBUaGVzZSB2YXJpYWJsZSBhcmUgbm90IGludGVuZGVkIHRvIGJlIG92ZXJyaWRkZW4gZXh0ZXJuYWxseS4gVGhleSB1c2UgYCFkZWZhdWx0YCB0b1xuLy8gYXZvaWQgYmVpbmcgcmVzZXQgZXZlcnkgdGltZSB0aGlzIGZpbGUgaXMgaW1wb3J0ZWQuXG4kX21hdC10aGVtZS1lbWl0dGVkLWNvbG9yOiAoKSAhZGVmYXVsdDtcbiRfbWF0LXRoZW1lLWVtaXR0ZWQtdHlwb2dyYXBoeTogKCkgIWRlZmF1bHQ7XG4kX21hdC10aGVtZS1lbWl0dGVkLWRlbnNpdHk6ICgpICFkZWZhdWx0O1xuXG4vLyBDaGVja3MgaWYgY29uZmlndXJhdGlvbnMgdGhhdCBoYXZlIGJlZW4gZGVjbGFyZWQgaW4gdGhlIGdpdmVuIHRoZW1lIGhhdmUgYmVlbiBnZW5lcmF0ZWRcbi8vIGJlZm9yZS4gSWYgc28sIHdhcm5pbmdzIHdpbGwgYmUgcmVwb3J0ZWQuIFRoaXMgc2hvdWxkIG5vdGlmeSBkZXZlbG9wZXJzIGluIGNhc2UgZHVwbGljYXRlXG4vLyBzdHlsZXMgYXJlIGFjY2lkZW50YWxseSBnZW5lcmF0ZWQgZHVlIHRvIHdyb25nIHVzYWdlIG9mIHRoZSBhbGwtdGhlbWUgbWl4aW5zLlxuLy9cbi8vIEFkZGl0aW9uYWxseSwgdGhpcyBtaXhpbiBjb250cm9scyB0aGUgZGVmYXVsdCB2YWx1ZSBmb3IgdGhlIGRlbnNpdHkgY29uZmlndXJhdGlvbi4gQnlcbi8vIGRlZmF1bHQsIGRlbnNpdHkgc3R5bGVzIGFyZSBnZW5lcmF0ZWQgYXQgc2NhbGUgemVyby4gSWYgdGhlIHNhbWUgZGVuc2l0eSBzdHlsZXMgd291bGQgYmVcbi8vIGdlbmVyYXRlZCBhIHNlY29uZCB0aW1lIHRob3VnaCwgdGhlIGRlZmF1bHQgdmFsdWUgd2lsbCBjaGFuZ2UgdG8gYXZvaWQgZHVwbGljYXRlIHN0eWxlcy5cbi8vXG4vLyBUaGUgbWl4aW4ga2VlcHMgdHJhY2sgb2YgYWxsIGNvbmZpZ3VyYXRpb25zIGluIGEgbGlzdCB0aGF0IGlzIHNjb3BlZCB0byB0aGUgc3BlY2lmaWVkXG4vLyBpZC4gVGhpcyBpcyBuZWNlc3NhcnkgYmVjYXVzZSBhIGdpdmVuIHRoZW1lIGNhbiBiZSBwYXNzZWQgdG8gbXVsdGlwbGUgZGlzam9pbnQgdGhlbWUgbWl4aW5zXG4vLyAoZS5nLiBgYW5ndWxhci1tYXRlcmlhbC10aGVtZWAgYW5kIGBhbmd1bGFyLW1hdGVyaWFsLW1kYy10aGVtZWApIHdpdGhvdXQgY2F1c2luZyBhbnlcbi8vIHN0eWxlIGR1cGxpY2F0aW9uLlxuQG1peGluIF9tYXQtY2hlY2stZHVwbGljYXRlLXRoZW1lLXN0eWxlcygkdGhlbWUtb3ItY29sb3ItY29uZmlnLCAkaWQpIHtcbiAgJHRoZW1lOiBfbWF0LWxlZ2FjeS1nZXQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gICRjb2xvci1jb25maWc6IG1hdC1nZXQtY29sb3ItY29uZmlnKCR0aGVtZSk7XG4gICRkZW5zaXR5LWNvbmZpZzogbWF0LWdldC1kZW5zaXR5LWNvbmZpZygkdGhlbWUpO1xuICAkdHlwb2dyYXBoeS1jb25maWc6IG1hdC1nZXQtdHlwb2dyYXBoeS1jb25maWcoJHRoZW1lKTtcbiAgLy8gTGlzdHMgb2YgcHJldmlvdXMgYGNvbG9yYCwgYGRlbnNpdHlgIGFuZCBgdHlwb2dyYXBoeWAgY29uZmlndXJhdGlvbnMuXG4gICRwcmV2aW91cy1jb2xvcjogbWFwX2dldCgkX21hdC10aGVtZS1lbWl0dGVkLWNvbG9yLCAkaWQpIG9yICgpO1xuICAkcHJldmlvdXMtdHlwb2dyYXBoeTogbWFwX2dldCgkX21hdC10aGVtZS1lbWl0dGVkLXR5cG9ncmFwaHksICRpZCkgb3IgKCk7XG4gICRwcmV2aW91cy1kZW5zaXR5OiBtYXBfZ2V0KCRfbWF0LXRoZW1lLWVtaXR0ZWQtZGVuc2l0eSwgJGlkKSBvciAoKTtcbiAgLy8gV2hldGhlciBkdXBsaWNhdGUgbGVnYWN5IGRlbnNpdHkgc3R5bGVzIHdvdWxkIGJlIGdlbmVyYXRlZC5cbiAgJGR1cGxpY2F0ZS1sZWdhY3ktZGVuc2l0eTogZmFsc2U7XG5cbiAgLy8gQ2hlY2sgaWYgdGhlIGNvbG9yIGNvbmZpZ3VyYXRpb24gaGFzIGJlZW4gZ2VuZXJhdGVkIGJlZm9yZS5cbiAgQGlmICRjb2xvci1jb25maWcgIT0gbnVsbCB7XG4gICAgQGlmIGluZGV4KCRwcmV2aW91cy1jb2xvciwgJGNvbG9yLWNvbmZpZykgIT0gbnVsbCBhbmRcbiAgICAgICAgbm90ICRtYXQtdGhlbWUtaWdub3JlLWR1cGxpY2F0aW9uLXdhcm5pbmdzIHtcbiAgICAgIEB3YXJuICdUaGUgc2FtZSBjb2xvciBzdHlsZXMgYXJlIGdlbmVyYXRlZCBtdWx0aXBsZSB0aW1lcy4gJyArXG4gICAgICAgICAgJF9tYXQtdGhlbWUtZHVwbGljYXRlLXdhcm5pbmc7XG4gICAgfVxuICAgICRwcmV2aW91cy1jb2xvcjogYXBwZW5kKCRwcmV2aW91cy1jb2xvciwgJGNvbG9yLWNvbmZpZyk7XG4gIH1cblxuICAvLyBDaGVjayBpZiB0aGUgdHlwb2dyYXBoeSBjb25maWd1cmF0aW9uIGhhcyBiZWVuIGdlbmVyYXRlZCBiZWZvcmUuXG4gIEBpZiAkdHlwb2dyYXBoeS1jb25maWcgIT0gbnVsbCB7XG4gICAgQGlmIGluZGV4KCRwcmV2aW91cy10eXBvZ3JhcGh5LCAkdHlwb2dyYXBoeS1jb25maWcpICE9IG51bGwgYW5kXG4gICAgICAgIG5vdCAkbWF0LXRoZW1lLWlnbm9yZS1kdXBsaWNhdGlvbi13YXJuaW5ncyB7XG4gICAgICBAd2FybiAnVGhlIHNhbWUgdHlwb2dyYXBoeSBzdHlsZXMgYXJlIGdlbmVyYXRlZCBtdWx0aXBsZSB0aW1lcy4gJyArXG4gICAgICAgICAgJF9tYXQtdGhlbWUtZHVwbGljYXRlLXdhcm5pbmc7XG4gICAgfVxuICAgICRwcmV2aW91cy10eXBvZ3JhcGh5OiBhcHBlbmQoJHByZXZpb3VzLXR5cG9ncmFwaHksICR0eXBvZ3JhcGh5LWNvbmZpZyk7XG4gIH1cblxuICAvLyBDaGVjayBpZiB0aGUgZGVuc2l0eSBjb25maWd1cmF0aW9uIGhhcyBiZWVuIGdlbmVyYXRlZCBiZWZvcmUuXG4gIEBpZiAkZGVuc2l0eS1jb25maWcgIT0gbnVsbCB7XG4gICAgQGlmIGluZGV4KCRwcmV2aW91cy1kZW5zaXR5LCAkZGVuc2l0eS1jb25maWcpICE9IG51bGwge1xuICAgICAgLy8gT25seSByZXBvcnQgYSB3YXJuaW5nIGlmIGRlbnNpdHkgc3R5bGVzIHdvdWxkIGJlIGR1cGxpY2F0ZWQgZm9yIG5vbi1sZWdhY3kgdGhlbWVcbiAgICAgIC8vIGRlZmluaXRpb25zLiBGb3IgbGVnYWN5IHRoZW1lcywgd2UgaGF2ZSBjb21wYXRpYmlsaXR5IGxvZ2ljIHRoYXQgYXZvaWRzIGR1cGxpY2F0aW9uXG4gICAgICAvLyBvZiBkZWZhdWx0IGRlbnNpdHkgc3R5bGVzLiBXZSBkb24ndCB3YW50IHRvIHJlcG9ydCBhIHdhcm5pbmcgaW4gdGhvc2UgY2FzZXMuXG4gICAgICBAaWYgX21hdC1pcy1sZWdhY3ktY29uc3RydWN0ZWQtdGhlbWUoJHRoZW1lKSB7XG4gICAgICAgICRkdXBsaWNhdGUtbGVnYWN5LWRlbnNpdHk6IHRydWU7XG4gICAgICB9XG4gICAgICBAZWxzZSBpZiBub3QgJG1hdC10aGVtZS1pZ25vcmUtZHVwbGljYXRpb24td2FybmluZ3Mge1xuICAgICAgICBAd2FybiAnVGhlIHNhbWUgZGVuc2l0eSBzdHlsZXMgYXJlIGdlbmVyYXRlZCBtdWx0aXBsZSB0aW1lcy4gJyArXG4gICAgICAgICAgICRfbWF0LXRoZW1lLWR1cGxpY2F0ZS13YXJuaW5nO1xuICAgICAgfVxuICAgIH1cbiAgICAkcHJldmlvdXMtZGVuc2l0eTogYXBwZW5kKCRwcmV2aW91cy1kZW5zaXR5LCAkZGVuc2l0eS1jb25maWcpO1xuICB9XG5cbiAgJF9tYXQtdGhlbWUtZW1pdHRlZC1jb2xvcjogbWFwX21lcmdlKFxuICAgICAgJF9tYXQtdGhlbWUtZW1pdHRlZC1jb2xvciwgKCRpZDogJHByZXZpb3VzLWNvbG9yKSkgIWdsb2JhbDtcbiAgJF9tYXQtdGhlbWUtZW1pdHRlZC1kZW5zaXR5OiBtYXBfbWVyZ2UoXG4gICAgICAkX21hdC10aGVtZS1lbWl0dGVkLWRlbnNpdHksICgkaWQ6ICRwcmV2aW91cy1kZW5zaXR5KSkgIWdsb2JhbDtcbiAgJF9tYXQtdGhlbWUtZW1pdHRlZC10eXBvZ3JhcGh5OiBtYXBfbWVyZ2UoXG4gICAgICAkX21hdC10aGVtZS1lbWl0dGVkLXR5cG9ncmFwaHksICgkaWQ6ICRwcmV2aW91cy10eXBvZ3JhcGh5KSkgIWdsb2JhbDtcblxuICAvLyBPcHRpb25hbGx5LCBjb25zdW1lcnMgb2YgdGhpcyBtaXhpbiBjYW4gd3JhcCBjb250ZW50cyBpbnNpZGUgc28gdGhhdCBuZXN0ZWRcbiAgLy8gZHVwbGljYXRlIHN0eWxlIGNoZWNrcyBkbyBub3QgcmVwb3J0IGFub3RoZXIgd2FybmluZy4gZS5nLiBpZiBkZXZlbG9wZXJzIGluY2x1ZGVcbiAgLy8gdGhlIGBhbmd1bGFyLW1hdGVyaWFsLXRoZW1lYCBtaXhpbiB0d2ljZSwgb25seSB0aGUgdG9wLWxldmVsIGR1cGxpY2F0ZSBzdHlsZXMgY2hlY2tcbiAgLy8gc2hvdWxkIHJlcG9ydCBhIHdhcm5pbmcuIE5vdCBhbGwgaW5kaXZpZHVhbCBjb21wb25lbnRzIHNob3VsZCByZXBvcnQgYSB3YXJuaW5nIHRvby5cbiAgJG9yaWctbWF0LXRoZW1lLWlnbm9yZS1kdXBsaWNhdGlvbi13YXJuaW5nczogJG1hdC10aGVtZS1pZ25vcmUtZHVwbGljYXRpb24td2FybmluZ3M7XG4gICRtYXQtdGhlbWUtaWdub3JlLWR1cGxpY2F0aW9uLXdhcm5pbmdzOiB0cnVlICFnbG9iYWw7XG5cbiAgLy8gSWYgZHVwbGljYXRlIGRlZmF1bHQgZGVuc2l0eSBzdHlsZXMgd291bGQgYmUgZ2VuZXJhdGVkIGZvciBhIGxlZ2FjeSBjb25zdHJ1Y3RlZCB0aGVtZSxcbiAgLy8gd2UgYWRqdXN0IHRoZSBkZW5zaXR5IGdlbmVyYXRpb24gc28gdGhhdCBubyBkZW5zaXR5IHN0eWxlcyBhcmUgZ2VuZXJhdGVkIGJ5IGRlZmF1bHQuXG4gIC8vIElmIG5vIGRlZmF1bHQgZGVuc2l0eSBzdHlsZXMgaGF2ZSBiZWVuIGdlbmVyYXRlZCB5ZXQsIHdlIGVuc3VyZSB0aGF0IHRoZSBzdHlsZXNcbiAgLy8gYXJlIGdlbmVyYXRlZCBhdCByb290LiBGb3IgbGVnYWN5IHRoZW1lcyBvdXIgZ29hbCBpcyB0byBnZW5lcmF0ZSBkZWZhdWx0IGRlbnNpdHlcbiAgLy8gc3R5bGVzICoqb25jZSoqIGFuZCBhdCByb290LiBUaGlzIG1hdGNoZXMgdGhlIG9sZCBiZWhhdmlvciB3aGVyZSBkZW5zaXR5IHN0eWxlcyB3ZXJlXG4gIC8vIHBhcnQgb2YgdGhlIGJhc2UgY29tcG9uZW50IHN0eWxlcyAodGhhdCBkaWQgbm90IHVzZSB2aWV3IGVuY2Fwc3VsYXRpb24pLlxuICAvLyBUT0RPOiBSZW1vdmUgdGhpcyBjb21wYXRpYmlsaXR5IGxvZ2ljIHdoZW4gdGhlIGxlZ2FjeSB0aGVtaW5nIEFQSSBpcyByZW1vdmVkLlxuICAkX21hdC1kZW5zaXR5LWdlbmVyYXRlLWF0LXJvb3Q6IF9tYXQtaXMtbGVnYWN5LWNvbnN0cnVjdGVkLXRoZW1lKCR0aGVtZSkgIWdsb2JhbDtcbiAgJF9tYXQtZGVuc2l0eS1nZW5lcmF0ZS1zdHlsZXM6IG5vdCAkZHVwbGljYXRlLWxlZ2FjeS1kZW5zaXR5ICFnbG9iYWw7XG5cbiAgQGNvbnRlbnQ7XG4gICRtYXQtdGhlbWUtaWdub3JlLWR1cGxpY2F0aW9uLXdhcm5pbmdzOiAkb3JpZy1tYXQtdGhlbWUtaWdub3JlLWR1cGxpY2F0aW9uLXdhcm5pbmdzICFnbG9iYWw7XG5cbiAgJF9tYXQtZGVuc2l0eS1nZW5lcmF0ZS1hdC1yb290OiBmYWxzZSAhZ2xvYmFsO1xuICAkX21hdC1kZW5zaXR5LWdlbmVyYXRlLXN0eWxlczogdHJ1ZSAhZ2xvYmFsO1xufVxuXG5cblxuJG1hdC1yaXBwbGUtY29sb3Itb3BhY2l0eTogMC4xO1xuXG5AbWl4aW4gbWF0LXJpcHBsZSgpIHtcblxuICAvLyBUaGUgaG9zdCBlbGVtZW50IG9mIGFuIG1hdC1yaXBwbGUgZGlyZWN0aXZlIHNob3VsZCBhbHdheXMgaGF2ZSBhIHBvc2l0aW9uIG9mIFwiYWJzb2x1dGVcIiBvclxuICAvLyBcInJlbGF0aXZlXCIgc28gdGhhdCB0aGUgcmlwcGxlcyBpbnNpZGUgYXJlIGNvcnJlY3RseSBwb3NpdGlvbmVkIHJlbGF0aXZlbHkgdG8gdGhlIGNvbnRhaW5lci5cbiAgLm1hdC1yaXBwbGUge1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG5cbiAgICAvLyBCeSBkZWZhdWx0LCBldmVyeSByaXBwbGUgY29udGFpbmVyIHNob3VsZCBoYXZlIHBvc2l0aW9uOiByZWxhdGl2ZSBpbiBmYXZvciBvZiBjcmVhdGluZyBhblxuICAgIC8vIGVhc3kgQVBJIGZvciBkZXZlbG9wZXJzIHVzaW5nIHRoZSBNYXRSaXBwbGUgZGlyZWN0aXZlLlxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcblxuICAgIC8vIFByb21vdGUgY29udGFpbmVycyB0aGF0IGhhdmUgcmlwcGxlcyB0byBhIG5ldyBsYXllci4gV2Ugd2FudCB0byB0YXJnZXQgYDpub3QoOmVtcHR5KWAsXG4gICAgLy8gYmVjYXVzZSB3ZSBkb24ndCB3YW50IGFsbCByaXBwbGUgY29udGFpbmVycyB0byBoYXZlIHRoZWlyIG93biBsYXllciBzaW5jZSB0aGV5J3JlIHVzZWQgaW4gYVxuICAgIC8vIGxvdCBvZiBwbGFjZXMgYW5kIHRoZSBsYXllciBpcyBvbmx5IHJlbGV2YW50IHdoaWxlIGFuaW1hdGluZy4gTm90ZSB0aGF0IGlkZWFsbHkgd2UnZCB1c2VcbiAgICAvLyB0aGUgYGNvbnRhaW5gIHByb3BlcnR5IGhlcmUgKHNlZSAjMTMxNzUpLCBiZWNhdXNlIGA6ZW1wdHlgIGNhbiBiZSBicm9rZW4gYnkgaGF2aW5nIGV4dHJhXG4gICAgLy8gdGV4dCBpbnNpZGUgdGhlIGVsZW1lbnQsIGJ1dCBpdCBpc24ndCB2ZXJ5IHdlbGwgc3VwcG9ydGVkIHlldC5cbiAgICAmOm5vdCg6ZW1wdHkpIHtcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWigwKTtcbiAgICB9XG4gIH1cblxuICAubWF0LXJpcHBsZS5tYXQtcmlwcGxlLXVuYm91bmRlZCB7XG4gICAgb3ZlcmZsb3c6IHZpc2libGU7XG4gIH1cblxuICAubWF0LXJpcHBsZS1lbGVtZW50IHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuXG4gICAgdHJhbnNpdGlvbjogb3BhY2l0eSwgdHJhbnNmb3JtIDBtcyBjdWJpYy1iZXppZXIoMCwgMCwgMC4yLCAxKTtcbiAgICB0cmFuc2Zvcm06IHNjYWxlKDApO1xuXG4gICAgLy8gSW4gaGlnaCBjb250cmFzdCBtb2RlIHRoZSByaXBwbGUgaXMgb3BhcXVlLCBjYXVzaW5nIGl0IHRvIG9ic3RydWN0IHRoZSBjb250ZW50LlxuICAgIEBpbmNsdWRlIGNkay1oaWdoLWNvbnRyYXN0KGFjdGl2ZSwgb2ZmKSB7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgIH1cbiAgfVxufVxuXG4vKiBDb2xvcnMgZm9yIHRoZSByaXBwbGUgZWxlbWVudHMuKi9cbkBtaXhpbiBtYXQtcmlwcGxlLWNvbG9yKCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC1jb2xvci1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gICRmb3JlZ3JvdW5kOiBtYXBfZ2V0KCRjb25maWcsIGZvcmVncm91bmQpO1xuICAkZm9yZWdyb3VuZC1iYXNlOiBtYXBfZ2V0KCRmb3JlZ3JvdW5kLCBiYXNlKTtcblxuICAubWF0LXJpcHBsZS1lbGVtZW50IHtcbiAgICAvLyBJZiB0aGUgcmlwcGxlIGNvbG9yIGlzIHJlc29sdmVzIHRvIGEgY29sb3IgKnR5cGUqLCB3ZSBjYW4gdXNlIGl0IGRpcmVjdGx5LCBvdGhlcndpc2VcbiAgICAvLyAoZS5nLiBpdCByZXNvbHZlcyB0byBhIENTUyB2YXJpYWJsZSkgd2UgZmFsbCBiYWNrIHRvIHVzaW5nIHRoZSBjb2xvciBhbmQgc2V0dGluZyBhbiBvcGFjaXR5LlxuICAgIEBpZiAodHlwZS1vZigkZm9yZWdyb3VuZC1iYXNlKSA9PSBjb2xvcikge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgkZm9yZWdyb3VuZC1iYXNlLCAkbWF0LXJpcHBsZS1jb2xvci1vcGFjaXR5KTtcbiAgICB9XG4gICAgQGVsc2Uge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJGZvcmVncm91bmQtYmFzZTtcbiAgICAgIG9wYWNpdHk6ICRtYXQtcmlwcGxlLWNvbG9yLW9wYWNpdHk7XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiBtYXQtcmlwcGxlLXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpIHtcbiAgJHRoZW1lOiBfbWF0LWxlZ2FjeS1nZXQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gIEBpbmNsdWRlIF9tYXQtY2hlY2stZHVwbGljYXRlLXRoZW1lLXN0eWxlcygkdGhlbWUsICdtYXQtcmlwcGxlJykge1xuICAgICRjb2xvcjogbWF0LWdldC1jb2xvci1jb25maWcoJHRoZW1lKTtcbiAgICBAaWYgJGNvbG9yICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LXJpcHBsZS1jb2xvcigkY29sb3IpO1xuICAgIH1cbiAgfVxufVxuXG5cblxuLy8gVGhpcyBtaXhpbiBlbnN1cmVzIGFuIGVsZW1lbnQgc3BhbnMgdG8gZmlsbCB0aGUgbmVhcmVzdCBhbmNlc3RvciB3aXRoIGRlZmluZWQgcG9zaXRpb25pbmcuXG5AbWl4aW4gbWF0LWZpbGwge1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIHJpZ2h0OiAwO1xuICBib3R0b206IDA7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbn1cblxuXG4vLy8gTWl4aW4gdGhhdCB0dXJucyBvbiBzdHJvbmcgZm9jdXMgaW5kaWNhdG9ycy5cbi8vL1xuLy8vIEBleGFtcGxlXG4vLy8gICAubXktYXBwIHtcbi8vLyAgICAgQGluY2x1ZGUgbWF0LXN0cm9uZy1mb2N1cy1pbmRpY2F0b3JzKCRjb25maWcpO1xuLy8vICAgfVxuQG1peGluIG1hdC1zdHJvbmctZm9jdXMtaW5kaWNhdG9ycygkY29uZmlnOiAoKSkge1xuICAvLyBEZWZhdWx0IGZvY3VzIGluZGljYXRvciBjb25maWcuXG4gICRkZWZhdWx0LWNvbmZpZzogKFxuICAgIGJvcmRlci1zdHlsZTogc29saWQsXG4gICAgYm9yZGVyLXdpZHRoOiAzcHgsXG4gICAgYm9yZGVyLXJhZGl1czogNHB4LFxuICApO1xuXG4gIC8vIE1lcmdlIGRlZmF1bHQgY29uZmlnIHdpdGggdXNlciBjb25maWcuXG4gICRjb25maWc6IG1hcC1tZXJnZSgkZGVmYXVsdC1jb25maWcsICRjb25maWcpO1xuICAkYm9yZGVyLXN0eWxlOiBtYXAtZ2V0KCRjb25maWcsIGJvcmRlci1zdHlsZSk7XG4gICRib3JkZXItd2lkdGg6IG1hcC1nZXQoJGNvbmZpZywgYm9yZGVyLXdpZHRoKTtcbiAgJGJvcmRlci1yYWRpdXM6IG1hcC1nZXQoJGNvbmZpZywgYm9yZGVyLXJhZGl1cyk7XG5cbiAgLy8gQmFzZSBzdHlsZXMgZm9yIGZvY3VzIGluZGljYXRvcnMuXG4gIC5tYXQtZm9jdXMtaW5kaWNhdG9yOjpiZWZvcmUge1xuICAgIEBpbmNsdWRlIG1hdC1maWxsKCk7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgICBib3JkZXI6ICRib3JkZXItd2lkdGggJGJvcmRlci1zdHlsZSB0cmFuc3BhcmVudDtcbiAgICBib3JkZXItcmFkaXVzOiAkYm9yZGVyLXJhZGl1cztcbiAgfVxuXG4gIC8vIEJ5IGRlZmF1bHQsIGFsbCBmb2N1cyBpbmRpY2F0b3JzIGFyZSBmbHVzaCB3aXRoIHRoZSBib3VuZGluZyBib3ggb2YgdGhlaXJcbiAgLy8gaG9zdCBlbGVtZW50LiBGb3IgcGFydGljdWxhciBlbGVtZW50cyAobGlzdGVkIGJlbG93KSwgZGVmYXVsdCBpbnNldC9vZmZzZXRcbiAgLy8gdmFsdWVzIGFyZSBuZWNlc3NhcnkgdG8gZW5zdXJlIHRoYXQgdGhlIGZvY3VzIGluZGljYXRvciBpcyBzdWZmaWNpZW50bHlcbiAgLy8gY29udHJhc3RpdmUgYW5kIHJlbmRlcnMgYXBwcm9wcmlhdGVseS5cblxuICAubWF0LWZvY3VzLWluZGljYXRvci5tYXQtZmxhdC1idXR0b246OmJlZm9yZSxcbiAgLm1hdC1mb2N1cy1pbmRpY2F0b3IubWF0LXJhaXNlZC1idXR0b246OmJlZm9yZSxcbiAgLm1hdC1mb2N1cy1pbmRpY2F0b3IubWF0LWZhYjo6YmVmb3JlLFxuICAubWF0LWZvY3VzLWluZGljYXRvci5tYXQtbWluaS1mYWI6OmJlZm9yZSxcbiAgLm1hdC1mb2N1cy1pbmRpY2F0b3IubWF0LWNoaXA6OmJlZm9yZSxcbiAgLm1hdC1mb2N1cy1pbmRpY2F0b3IubWF0LXNvcnQtaGVhZGVyLWNvbnRhaW5lcjo6YmVmb3JlIHtcbiAgICBtYXJnaW46IC0oJGJvcmRlci13aWR0aCArIDJweCk7XG4gIH1cblxuICAubWF0LWZvY3VzLWluZGljYXRvci5tYXQtc3Ryb2tlZC1idXR0b246OmJlZm9yZSxcbiAgLm1hdC1mb2N1cy1pbmRpY2F0b3IubWF0LWNhbGVuZGFyLWJvZHktY2VsbC1jb250ZW50OjpiZWZvcmUge1xuICAgIG1hcmdpbjogLSgkYm9yZGVyLXdpZHRoICsgM3B4KTtcbiAgfVxuXG4gIC5tYXQtZm9jdXMtaW5kaWNhdG9yLm1hdC10YWItbGluazo6YmVmb3JlLFxuICAubWF0LWZvY3VzLWluZGljYXRvci5tYXQtdGFiLWxhYmVsOjpiZWZvcmUge1xuICAgIG1hcmdpbjogNXB4O1xuICB9XG5cbiAgLy8gUmVuZGVyIHRoZSBmb2N1cyBpbmRpY2F0b3Igb24gZm9jdXMuIERlZmluaW5nIGEgcHNldWRvIGVsZW1lbnQnc1xuICAvLyBjb250ZW50IHdpbGwgY2F1c2UgaXQgdG8gcmVuZGVyLlxuXG4gIC8vIENoZWNrYm94ZXMsIHJhZGlvcywgYW5kIHNsaWRlIHRvZ2dsZXMgcmVuZGVyIGZvY3VzIGluZGljYXRvcnMgd2hlbiB0aGVcbiAgLy8gYXNzb2NpYXRlZCB2aXN1YWxseS1oaWRkZW4gaW5wdXQgaXMgZm9jdXNlZC5cbiAgLm1hdC1jaGVja2JveC1pbnB1dDpmb2N1cyB+IC5tYXQtZm9jdXMtaW5kaWNhdG9yOjpiZWZvcmUsXG4gIC5tYXQtcmFkaW8taW5wdXQ6Zm9jdXMgfiAubWF0LWZvY3VzLWluZGljYXRvcjo6YmVmb3JlLFxuICAubWF0LXNsaWRlLXRvZ2dsZS1pbnB1dDpmb2N1cyB+IC5tYXQtc2xpZGUtdG9nZ2xlLXRodW1iLWNvbnRhaW5lciAubWF0LWZvY3VzLWluZGljYXRvcjo6YmVmb3JlLFxuXG4gIC8vIEZvciBvcHRpb25zLCByZW5kZXIgdGhlIGZvY3VzIGluZGljYXRvciB3aGVuIHRoZSBjbGFzcyAubWF0LWFjdGl2ZVxuICAvLyBpcyBwcmVzZW50LlxuICAubWF0LWZvY3VzLWluZGljYXRvci5tYXQtb3B0aW9uLm1hdC1hY3RpdmU6OmJlZm9yZSxcblxuICAvLyBGb3IgY2FsZW5kYXIgY2VsbHMsIHJlbmRlciB0aGUgZm9jdXMgaW5kaWNhdG9yIHdoZW4gdGhlIHBhcmVudCBjZWxsIGlzXG4gIC8vIGZvY3VzZWQuXG4gIC5tYXQtY2FsZW5kYXItYm9keS1jZWxsOmZvY3VzIC5tYXQtZm9jdXMtaW5kaWNhdG9yOjpiZWZvcmUsXG5cbiAgLy8gRm9yIGFsbCBvdGhlciBjb21wb25lbnRzLCByZW5kZXIgdGhlIGZvY3VzIGluZGljYXRvciBvbiBmb2N1cy5cbiAgLm1hdC1mb2N1cy1pbmRpY2F0b3I6Zm9jdXM6OmJlZm9yZSB7XG4gICAgY29udGVudDogJyc7XG4gIH1cbn1cblxuLy8gTWl4aW4gdGhhdCBhcHBsaWVzIHRoZSBib3JkZXIgY29sb3IgZm9yIHRoZSBmb2N1cyBpbmRpY2F0b3JzLlxuQG1peGluIF9tYXQtc3Ryb25nLWZvY3VzLWluZGljYXRvcnMtYm9yZGVyLWNvbG9yKCRjb2xvcikge1xuICAubWF0LWZvY3VzLWluZGljYXRvcjo6YmVmb3JlIHtcbiAgICBib3JkZXItY29sb3I6ICRjb2xvcjtcbiAgfVxufVxuXG5AbWl4aW4gbWF0LXN0cm9uZy1mb2N1cy1pbmRpY2F0b3JzLWNvbG9yKCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC1jb2xvci1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gIEBpbmNsdWRlIF9tYXQtc3Ryb25nLWZvY3VzLWluZGljYXRvcnMtYm9yZGVyLWNvbG9yKG1hdC1jb2xvcihtYXBfZ2V0KCRjb25maWcsIHByaW1hcnkpKSk7XG59XG5cbi8vLyBNaXhpbiB0aGF0IHNldHMgdGhlIGNvbG9yIG9mIHRoZSBmb2N1cyBpbmRpY2F0b3JzLlxuLy8vXG4vLy8gQHBhcmFtIHtjb2xvcnxtYXB9ICR0aGVtZS1vci1jb2xvclxuLy8vICAgSWYgdGhlbWUsIGZvY3VzIGluZGljYXRvcnMgYXJlIHNldCB0byB0aGUgcHJpbWFyeSBjb2xvciBvZiB0aGUgdGhlbWUuIElmXG4vLy8gICBjb2xvciwgZm9jdXMgaW5kaWNhdG9ycyBhcmUgc2V0IHRvIHRoYXQgY29sb3IuXG4vLy9cbi8vLyBAZXhhbXBsZVxuLy8vICAgLmRlbW8tZGFyay10aGVtZSB7XG4vLy8gICAgIEBpbmNsdWRlIG1hdC1zdHJvbmctZm9jdXMtaW5kaWNhdG9ycy10aGVtZSgkZGFyay10aGVtZS1tYXApO1xuLy8vICAgfVxuLy8vXG4vLy8gQGV4YW1wbGVcbi8vLyAgIC5kZW1vLXJlZC10aGVtZSB7XG4vLy8gICAgIEBpbmNsdWRlIG1hdC1zdHJvbmctZm9jdXMtaW5kaWNhdG9ycy10aGVtZSgjZjAwKTtcbi8vLyAgIH1cbi8qIHN0eWxlbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXRlcmlhbC90aGVtZS1taXhpbi1hcGkgKi9cbkBtaXhpbiBtYXQtc3Ryb25nLWZvY3VzLWluZGljYXRvcnMtdGhlbWUoJHRoZW1lLW9yLWNvbG9yKSB7XG4gIEBpZiB0eXBlLW9mKCR0aGVtZS1vci1jb2xvcikgIT0gJ21hcCcge1xuICAgIEBpbmNsdWRlIF9tYXQtc3Ryb25nLWZvY3VzLWluZGljYXRvcnMtYm9yZGVyLWNvbG9yKCR0aGVtZS1vci1jb2xvcik7XG4gIH1cbiAgQGVsc2Uge1xuICAgICR0aGVtZTogX21hdC1sZWdhY3ktZ2V0LXRoZW1lKCR0aGVtZS1vci1jb2xvcik7XG4gICAgQGluY2x1ZGUgX21hdC1jaGVjay1kdXBsaWNhdGUtdGhlbWUtc3R5bGVzKCR0aGVtZSwgJ21hdC1zdHJvbmctZm9jdXMtaW5kaWNhdG9ycycpIHtcbiAgICAgICRjb2xvcjogbWF0LWdldC1jb2xvci1jb25maWcoJHRoZW1lKTtcbiAgICAgIEBpZiAkY29sb3IgIT0gbnVsbCB7XG4gICAgICAgIEBpbmNsdWRlIG1hdC1zdHJvbmctZm9jdXMtaW5kaWNhdG9ycy1jb2xvcigkY29sb3IpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vLyBNaXhpbiB0aGF0IGVuc3VyZXMgZm9jdXMgaW5kaWNhdG9yIGhvc3QgZWxlbWVudHMgYXJlIHBvc2l0aW9uZWQgc28gdGhhdCB0aGUgZm9jdXMgaW5kaWNhdG9yXG4vLyBwc2V1ZG8gZWxlbWVudCB3aXRoaW4gaXMgcG9zaXRpb25lZCByZWxhdGl2ZSB0byB0aGUgaG9zdC4gUHJpdmF0ZSBtaXhpbiBpbmNsdWRlZCB3aXRoaW5cbi8vIGBtYXQtY29yZWAuXG5AbWl4aW4gX21hdC1zdHJvbmctZm9jdXMtaW5kaWNhdG9ycy1wb3NpdGlvbmluZygpIHtcbiAgLm1hdC1mb2N1cy1pbmRpY2F0b3Ige1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgfVxufVxuXG5cblxuXG4vLyBVdGlsaXR5IGZvciBmZXRjaGluZyBhIG5lc3RlZCB2YWx1ZSBmcm9tIGEgdHlwb2dyYXBoeSBjb25maWcuXG5AZnVuY3Rpb24gX21hdC1nZXQtdHlwZS12YWx1ZSgkY29uZmlnLCAkbGV2ZWwsICRuYW1lKSB7XG4gIEByZXR1cm4gbWFwLWdldChtYXAtZ2V0KCRjb25maWcsICRsZXZlbCksICRuYW1lKTtcbn1cblxuLy8gR2V0cyB0aGUgZm9udCBzaXplIGZvciBhIGxldmVsIGluc2lkZSBhIHR5cG9ncmFwaHkgY29uZmlnLlxuQGZ1bmN0aW9uIG1hdC1mb250LXNpemUoJGNvbmZpZywgJGxldmVsKSB7XG4gIEByZXR1cm4gX21hdC1nZXQtdHlwZS12YWx1ZSgkY29uZmlnLCAkbGV2ZWwsIGZvbnQtc2l6ZSk7XG59XG5cbi8vIEdldHMgdGhlIGxpbmUgaGVpZ2h0IGZvciBhIGxldmVsIGluc2lkZSBhIHR5cG9ncmFwaHkgY29uZmlnLlxuQGZ1bmN0aW9uIG1hdC1saW5lLWhlaWdodCgkY29uZmlnLCAkbGV2ZWwpIHtcbiAgQHJldHVybiBfbWF0LWdldC10eXBlLXZhbHVlKCRjb25maWcsICRsZXZlbCwgbGluZS1oZWlnaHQpO1xufVxuXG4vLyBHZXRzIHRoZSBmb250IHdlaWdodCBmb3IgYSBsZXZlbCBpbnNpZGUgYSB0eXBvZ3JhcGh5IGNvbmZpZy5cbkBmdW5jdGlvbiBtYXQtZm9udC13ZWlnaHQoJGNvbmZpZywgJGxldmVsKSB7XG4gIEByZXR1cm4gX21hdC1nZXQtdHlwZS12YWx1ZSgkY29uZmlnLCAkbGV2ZWwsIGZvbnQtd2VpZ2h0KTtcbn1cblxuLy8gR2V0cyB0aGUgbGV0dGVyIHNwYWNpbmcgZm9yIGEgbGV2ZWwgaW5zaWRlIGEgdHlwb2dyYXBoeSBjb25maWcuXG5AZnVuY3Rpb24gbWF0LWxldHRlci1zcGFjaW5nKCRjb25maWcsICRsZXZlbCkge1xuICBAcmV0dXJuIF9tYXQtZ2V0LXR5cGUtdmFsdWUoJGNvbmZpZywgJGxldmVsLCBsZXR0ZXItc3BhY2luZyk7XG59XG5cbi8vIEdldHMgdGhlIGZvbnQtZmFtaWx5IGZyb20gYSB0eXBvZ3JhcGh5IGNvbmZpZyBhbmQgcmVtb3ZlcyB0aGUgcXVvdGVzIGFyb3VuZCBpdC5cbkBmdW5jdGlvbiBtYXQtZm9udC1mYW1pbHkoJGNvbmZpZywgJGxldmVsOiBudWxsKSB7XG4gICRmb250LWZhbWlseTogbWFwLWdldCgkY29uZmlnLCBmb250LWZhbWlseSk7XG5cbiAgQGlmICRsZXZlbCAhPSBudWxsIHtcbiAgICAkZm9udC1mYW1pbHk6IF9tYXQtZ2V0LXR5cGUtdmFsdWUoJGNvbmZpZywgJGxldmVsLCBmb250LWZhbWlseSk7XG4gIH1cblxuICAvLyBHdWFyZCBhZ2FpbnN0IHVucXVvdGluZyBub24tc3RyaW5nIHZhbHVlcywgYmVjYXVzZSBpdCdzIGRlcHJlY2F0ZWQuXG4gIEByZXR1cm4gaWYodHlwZS1vZigkZm9udC1mYW1pbHkpID09IHN0cmluZywgdW5xdW90ZSgkZm9udC1mYW1pbHkpLCAkZm9udC1mYW1pbHkpO1xufVxuXG4vLyBPdXRwdXRzIHRoZSBzaG9ydGhhbmQgYGZvbnRgIENTUyBwcm9wZXJ0eSwgYmFzZWQgb24gYSBzZXQgb2YgdHlwb2dyYXBoeSB2YWx1ZXMuIEZhbGxzIGJhY2sgdG9cbi8vIHRoZSBpbmRpdmlkdWFsIHByb3BlcnRpZXMgaWYgYSB2YWx1ZSB0aGF0IGlzbid0IGFsbG93ZWQgaW4gdGhlIHNob3J0aGFuZCBpcyBwYXNzZWQgaW4uXG5AbWl4aW4gbWF0LXR5cG9ncmFwaHktZm9udC1zaG9ydGhhbmQoJGZvbnQtc2l6ZSwgJGZvbnQtd2VpZ2h0LCAkbGluZS1oZWlnaHQsICRmb250LWZhbWlseSkge1xuICAvLyBJZiBhbnkgb2YgdGhlIHZhbHVlcyBhcmUgc2V0IHRvIGBpbmhlcml0YCwgd2UgY2FuJ3QgdXNlIHRoZSBzaG9ydGhhbmRcbiAgLy8gc28gd2UgZmFsbCBiYWNrIHRvIHBhc3NpbmcgaW4gdGhlIGluZGl2aWR1YWwgcHJvcGVydGllcy5cbiAgQGlmICgkZm9udC1zaXplID09IGluaGVyaXQgb3JcbiAgICAgICAkZm9udC13ZWlnaHQgPT0gaW5oZXJpdCBvclxuICAgICAgICRsaW5lLWhlaWdodCA9PSBpbmhlcml0IG9yXG4gICAgICAgJGZvbnQtZmFtaWx5ID09IGluaGVyaXQgb3JcbiAgICAgICAkZm9udC1zaXplID09IG51bGwgb3JcbiAgICAgICAkZm9udC13ZWlnaHQgPT0gbnVsbCBvclxuICAgICAgICRsaW5lLWhlaWdodCA9PSBudWxsIG9yXG4gICAgICAgJGZvbnQtZmFtaWx5ID09IG51bGwpIHtcblxuICAgIGZvbnQtc2l6ZTogJGZvbnQtc2l6ZTtcbiAgICBmb250LXdlaWdodDogJGZvbnQtd2VpZ2h0O1xuICAgIGxpbmUtaGVpZ2h0OiAkbGluZS1oZWlnaHQ7XG4gICAgZm9udC1mYW1pbHk6ICRmb250LWZhbWlseTtcbiAgfVxuICBAZWxzZSB7XG4gICAgLy8gT3RoZXJ3aXNlIHVzZSB0aGUgc2hvcnRoYW5kIGBmb250YCwgYmVjYXVzZSBpdCdzIHRoZSBsZWFzdCBhbW91bnQgb2YgYnl0ZXMuIE5vdGVcbiAgICAvLyB0aGF0IHdlIG5lZWQgdG8gdXNlIGludGVycG9sYXRpb24gZm9yIGBmb250LXNpemUvbGluZS1oZWlnaHRgIGluIG9yZGVyIHRvIHByZXZlbnRcbiAgICAvLyBTYXNzIGZyb20gZGl2aWRpbmcgdGhlIHR3byB2YWx1ZXMuXG4gICAgZm9udDogJGZvbnQtd2VpZ2h0ICN7JGZvbnQtc2l6ZX0vI3skbGluZS1oZWlnaHR9ICRmb250LWZhbWlseTtcbiAgfVxufVxuXG4vLyBDb252ZXJ0cyBhIHR5cG9ncmFwaHkgbGV2ZWwgaW50byBDU1Mgc3R5bGVzLlxuQG1peGluIG1hdC10eXBvZ3JhcGh5LWxldmVsLXRvLXN0eWxlcygkY29uZmlnLCAkbGV2ZWwpIHtcbiAgJGZvbnQtc2l6ZTogbWF0LWZvbnQtc2l6ZSgkY29uZmlnLCAkbGV2ZWwpO1xuICAkZm9udC13ZWlnaHQ6IG1hdC1mb250LXdlaWdodCgkY29uZmlnLCAkbGV2ZWwpO1xuICAkbGluZS1oZWlnaHQ6IG1hdC1saW5lLWhlaWdodCgkY29uZmlnLCAkbGV2ZWwpO1xuICAkZm9udC1mYW1pbHk6IG1hdC1mb250LWZhbWlseSgkY29uZmlnLCAkbGV2ZWwpO1xuXG4gIEBpbmNsdWRlIG1hdC10eXBvZ3JhcGh5LWZvbnQtc2hvcnRoYW5kKCRmb250LXNpemUsICRmb250LXdlaWdodCwgJGxpbmUtaGVpZ2h0LCAkZm9udC1mYW1pbHkpO1xuICBsZXR0ZXItc3BhY2luZzogbWF0LWxldHRlci1zcGFjaW5nKCRjb25maWcsICRsZXZlbCk7XG59XG5cblxuQG1peGluIG1hdC1vcHRpb24tY29sb3IoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgJGZvcmVncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgZm9yZWdyb3VuZCk7XG4gICRiYWNrZ3JvdW5kOiBtYXAtZ2V0KCRjb25maWcsIGJhY2tncm91bmQpO1xuICAkcHJpbWFyeTogbWFwLWdldCgkY29uZmlnLCBwcmltYXJ5KTtcbiAgJGFjY2VudDogbWFwLWdldCgkY29uZmlnLCBhY2NlbnQpO1xuICAkd2FybjogbWFwLWdldCgkY29uZmlnLCB3YXJuKTtcblxuICAubWF0LW9wdGlvbiB7XG4gICAgY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgdGV4dCk7XG5cbiAgICAmOmhvdmVyOm5vdCgubWF0LW9wdGlvbi1kaXNhYmxlZCksXG4gICAgJjpmb2N1czpub3QoLm1hdC1vcHRpb24tZGlzYWJsZWQpIHtcbiAgICAgIGJhY2tncm91bmQ6IG1hdC1jb2xvcigkYmFja2dyb3VuZCwgaG92ZXIpO1xuICAgIH1cblxuICAgIC8vIEluIG11bHRpcGxlIG1vZGUgdGhlcmUgaXMgYSBjaGVja2JveCB0byBzaG93IHRoYXQgdGhlIG9wdGlvbiBpcyBzZWxlY3RlZC5cbiAgICAmLm1hdC1zZWxlY3RlZDpub3QoLm1hdC1vcHRpb24tbXVsdGlwbGUpOm5vdCgubWF0LW9wdGlvbi1kaXNhYmxlZCkge1xuICAgICAgYmFja2dyb3VuZDogbWF0LWNvbG9yKCRiYWNrZ3JvdW5kLCBob3Zlcik7XG4gICAgfVxuXG4gICAgJi5tYXQtYWN0aXZlIHtcbiAgICAgIGJhY2tncm91bmQ6IG1hdC1jb2xvcigkYmFja2dyb3VuZCwgaG92ZXIpO1xuICAgICAgY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgdGV4dCk7XG4gICAgfVxuXG4gICAgJi5tYXQtb3B0aW9uLWRpc2FibGVkIHtcbiAgICAgIGNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIGhpbnQtdGV4dCk7XG4gICAgfVxuICB9XG5cbiAgLm1hdC1wcmltYXJ5IC5tYXQtb3B0aW9uLm1hdC1zZWxlY3RlZDpub3QoLm1hdC1vcHRpb24tZGlzYWJsZWQpIHtcbiAgICBjb2xvcjogbWF0LWNvbG9yKCRwcmltYXJ5LCB0ZXh0KTtcbiAgfVxuXG4gIC5tYXQtYWNjZW50IC5tYXQtb3B0aW9uLm1hdC1zZWxlY3RlZDpub3QoLm1hdC1vcHRpb24tZGlzYWJsZWQpIHtcbiAgICBjb2xvcjogbWF0LWNvbG9yKCRhY2NlbnQsIHRleHQpO1xuICB9XG5cbiAgLm1hdC13YXJuIC5tYXQtb3B0aW9uLm1hdC1zZWxlY3RlZDpub3QoLm1hdC1vcHRpb24tZGlzYWJsZWQpIHtcbiAgICBjb2xvcjogbWF0LWNvbG9yKCR3YXJuLCB0ZXh0KTtcbiAgfVxufVxuXG5AbWl4aW4gbWF0LW9wdGlvbi10eXBvZ3JhcGh5KCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgLm1hdC1vcHRpb24ge1xuICAgIGZvbnQ6IHtcbiAgICAgIGZhbWlseTogbWF0LWZvbnQtZmFtaWx5KCRjb25maWcpO1xuICAgICAgc2l6ZTogbWF0LWZvbnQtc2l6ZSgkY29uZmlnLCBzdWJoZWFkaW5nLTIpO1xuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gX21hdC1vcHRpb24tZGVuc2l0eSgkY29uZmlnLW9yLXRoZW1lKSB7fVxuXG5AbWl4aW4gbWF0LW9wdGlvbi10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKSB7XG4gICR0aGVtZTogX21hdC1sZWdhY3ktZ2V0LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICBAaW5jbHVkZSBfbWF0LWNoZWNrLWR1cGxpY2F0ZS10aGVtZS1zdHlsZXMoJHRoZW1lLCAnbWF0LW9wdGlvbicpIHtcbiAgICAkY29sb3I6IG1hdC1nZXQtY29sb3ItY29uZmlnKCR0aGVtZSk7XG4gICAgJGRlbnNpdHk6IG1hdC1nZXQtZGVuc2l0eS1jb25maWcoJHRoZW1lKTtcbiAgICAkdHlwb2dyYXBoeTogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkdGhlbWUpO1xuXG4gICAgQGlmICRjb2xvciAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1vcHRpb24tY29sb3IoJGNvbG9yKTtcbiAgICB9XG4gICAgQGlmICRkZW5zaXR5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgX21hdC1vcHRpb24tZGVuc2l0eSgkZGVuc2l0eSk7XG4gICAgfVxuICAgIEBpZiAkdHlwb2dyYXBoeSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1vcHRpb24tdHlwb2dyYXBoeSgkdHlwb2dyYXBoeSk7XG4gICAgfVxuICB9XG59XG5cblxuXG5cblxuXG5AbWl4aW4gbWF0LW9wdGdyb3VwLWNvbG9yKCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC1jb2xvci1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gICRmb3JlZ3JvdW5kOiBtYXAtZ2V0KCRjb25maWcsIGZvcmVncm91bmQpO1xuXG4gIC5tYXQtb3B0Z3JvdXAtbGFiZWwge1xuICAgIGNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIHNlY29uZGFyeS10ZXh0KTtcbiAgfVxuXG4gIC5tYXQtb3B0Z3JvdXAtZGlzYWJsZWQgLm1hdC1vcHRncm91cC1sYWJlbCB7XG4gICAgY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgaGludC10ZXh0KTtcbiAgfVxufVxuXG5AbWl4aW4gbWF0LW9wdGdyb3VwLXR5cG9ncmFwaHkoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAubWF0LW9wdGdyb3VwLWxhYmVsIHtcbiAgICBAaW5jbHVkZSBtYXQtdHlwb2dyYXBoeS1sZXZlbC10by1zdHlsZXMoJGNvbmZpZywgYm9keS0yKTtcbiAgfVxufVxuXG5AbWl4aW4gX21hdC1vcHRncm91cC1kZW5zaXR5KCRjb25maWctb3ItdGhlbWUpIHt9XG5cbkBtaXhpbiBtYXQtb3B0Z3JvdXAtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZykge1xuICAkdGhlbWU6IF9tYXQtbGVnYWN5LWdldC10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKTtcbiAgQGluY2x1ZGUgX21hdC1jaGVjay1kdXBsaWNhdGUtdGhlbWUtc3R5bGVzKCR0aGVtZSwgJ21hdC1vcHRncm91cCcpIHtcbiAgICAkY29sb3I6IG1hdC1nZXQtY29sb3ItY29uZmlnKCR0aGVtZSk7XG4gICAgJGRlbnNpdHk6IG1hdC1nZXQtZGVuc2l0eS1jb25maWcoJHRoZW1lKTtcbiAgICAkdHlwb2dyYXBoeTogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkdGhlbWUpO1xuXG4gICAgQGlmICRjb2xvciAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1vcHRncm91cC1jb2xvcigkY29sb3IpO1xuICAgIH1cbiAgICBAaWYgJGRlbnNpdHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBfbWF0LW9wdGdyb3VwLWRlbnNpdHkoJGRlbnNpdHkpO1xuICAgIH1cbiAgICBAaWYgJHR5cG9ncmFwaHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtb3B0Z3JvdXAtdHlwb2dyYXBoeSgkdHlwb2dyYXBoeSk7XG4gICAgfVxuICB9XG59XG5cblxuXG5cbkBtaXhpbiBtYXQtcHNldWRvLWNoZWNrYm94LWNvbG9yKCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC1jb2xvci1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gICRpcy1kYXJrLXRoZW1lOiBtYXAtZ2V0KCRjb25maWcsIGlzLWRhcmspO1xuICAkcHJpbWFyeTogbWFwLWdldCgkY29uZmlnLCBwcmltYXJ5KTtcbiAgJGFjY2VudDogbWFwLWdldCgkY29uZmlnLCBhY2NlbnQpO1xuICAkd2FybjogbWFwLWdldCgkY29uZmlnLCB3YXJuKTtcbiAgJGJhY2tncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgYmFja2dyb3VuZCk7XG5cbiAgLy8gTk9URSh0cmF2aXNrYXVmbWFuKTogV2hpbGUgdGhlIHNwZWMgY2FsbHMgZm9yIHRyYW5zbHVjZW50IGJsYWNrcy93aGl0ZXMgZm9yIGRpc2FibGVkIGNvbG9ycyxcbiAgLy8gdGhpcyBkb2VzIG5vdCB3b3JrIHdlbGwgd2l0aCBlbGVtZW50cyBsYXllcmVkIG9uIHRvcCBvZiBvbmUgYW5vdGhlci4gVG8gZ2V0IGFyb3VuZCB0aGlzIHdlXG4gIC8vIGJsZW5kIHRoZSBjb2xvcnMgdG9nZXRoZXIgYmFzZWQgb24gdGhlIGJhc2UgY29sb3IgYW5kIHRoZSB0aGVtZSBiYWNrZ3JvdW5kLlxuICAkd2hpdGUtMzBwY3Qtb3BhY2l0eS1vbi1kYXJrOiAjNjg2ODY4O1xuICAkYmxhY2stMjZwY3Qtb3BhY2l0eS1vbi1saWdodDogI2IwYjBiMDtcbiAgJGRpc2FibGVkLWNvbG9yOiBpZigkaXMtZGFyay10aGVtZSwgJHdoaXRlLTMwcGN0LW9wYWNpdHktb24tZGFyaywgJGJsYWNrLTI2cGN0LW9wYWNpdHktb24tbGlnaHQpO1xuICAkY29sb3JlZC1ib3gtc2VsZWN0b3I6ICcubWF0LXBzZXVkby1jaGVja2JveC1jaGVja2VkLCAubWF0LXBzZXVkby1jaGVja2JveC1pbmRldGVybWluYXRlJztcblxuICAubWF0LXBzZXVkby1jaGVja2JveCB7XG4gICAgY29sb3I6IG1hdC1jb2xvcihtYXAtZ2V0KCRjb25maWcsIGZvcmVncm91bmQpLCBzZWNvbmRhcnktdGV4dCk7XG5cbiAgICAmOjphZnRlciB7XG4gICAgICBjb2xvcjogbWF0LWNvbG9yKCRiYWNrZ3JvdW5kLCBiYWNrZ3JvdW5kKTtcbiAgICB9XG4gIH1cblxuICAubWF0LXBzZXVkby1jaGVja2JveC1kaXNhYmxlZCB7XG4gICAgY29sb3I6ICRkaXNhYmxlZC1jb2xvcjtcbiAgfVxuXG4gIC5tYXQtcHJpbWFyeSAubWF0LXBzZXVkby1jaGVja2JveC1jaGVja2VkLFxuICAubWF0LXByaW1hcnkgLm1hdC1wc2V1ZG8tY2hlY2tib3gtaW5kZXRlcm1pbmF0ZSB7XG4gICAgYmFja2dyb3VuZDogbWF0LWNvbG9yKG1hcC1nZXQoJGNvbmZpZywgcHJpbWFyeSkpO1xuICB9XG5cbiAgLy8gRGVmYXVsdCB0byB0aGUgYWNjZW50IGNvbG9yLiBOb3RlIHRoYXQgdGhlIHBzZXVkbyBjaGVja2JveGVzIGFyZSBtZWFudCB0byBpbmhlcml0IHRoZVxuICAvLyB0aGVtZSBmcm9tIHRoZWlyIHBhcmVudCwgcmF0aGVyIHRoYW4gaW1wbGVtZW50aW5nIHRoZWlyIG93biB0aGVtaW5nLCB3aGljaCBpcyB3aHkgd2VcbiAgLy8gZG9uJ3QgYXR0YWNoIHRvIHRoZSBgbWF0LSpgIGNsYXNzZXMuIEFsc28gbm90ZSB0aGF0IHRoaXMgbmVlZHMgdG8gYmUgYmVsb3cgYC5tYXQtcHJpbWFyeWBcbiAgLy8gaW4gb3JkZXIgdG8gYWxsb3cgZm9yIHRoZSBjb2xvciB0byBiZSBvdmVyd3JpdHRlbiBpZiB0aGUgY2hlY2tib3ggaXMgaW5zaWRlIGEgcGFyZW50IHRoYXRcbiAgLy8gaGFzIGBtYXQtYWNjZW50YCBhbmQgaXMgcGxhY2VkIGluc2lkZSBhbm90aGVyIHBhcmVudCB0aGF0IGhhcyBgbWF0LXByaW1hcnlgLlxuICAubWF0LXBzZXVkby1jaGVja2JveC1jaGVja2VkLFxuICAubWF0LXBzZXVkby1jaGVja2JveC1pbmRldGVybWluYXRlLFxuICAubWF0LWFjY2VudCAubWF0LXBzZXVkby1jaGVja2JveC1jaGVja2VkLFxuICAubWF0LWFjY2VudCAubWF0LXBzZXVkby1jaGVja2JveC1pbmRldGVybWluYXRlIHtcbiAgICBiYWNrZ3JvdW5kOiBtYXQtY29sb3IobWFwLWdldCgkY29uZmlnLCBhY2NlbnQpKTtcbiAgfVxuXG4gIC5tYXQtd2FybiAubWF0LXBzZXVkby1jaGVja2JveC1jaGVja2VkLFxuICAubWF0LXdhcm4gLm1hdC1wc2V1ZG8tY2hlY2tib3gtaW5kZXRlcm1pbmF0ZSB7XG4gICAgYmFja2dyb3VuZDogbWF0LWNvbG9yKG1hcC1nZXQoJGNvbmZpZywgd2FybikpO1xuICB9XG5cbiAgLm1hdC1wc2V1ZG8tY2hlY2tib3gtY2hlY2tlZCxcbiAgLm1hdC1wc2V1ZG8tY2hlY2tib3gtaW5kZXRlcm1pbmF0ZSB7XG4gICAgJi5tYXQtcHNldWRvLWNoZWNrYm94LWRpc2FibGVkIHtcbiAgICAgIGJhY2tncm91bmQ6ICRkaXNhYmxlZC1jb2xvcjtcbiAgICB9XG4gIH1cbn1cblxuQG1peGluIG1hdC1wc2V1ZG8tY2hlY2tib3gtdHlwb2dyYXBoeSgkY29uZmlnLW9yLXRoZW1lKSB7fVxuXG5AbWl4aW4gX21hdC1wc2V1ZG8tY2hlY2tib3gtZGVuc2l0eSgkY29uZmlnLW9yLXRoZW1lKSB7fVxuXG5AbWl4aW4gbWF0LXBzZXVkby1jaGVja2JveC10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKSB7XG4gICR0aGVtZTogX21hdC1sZWdhY3ktZ2V0LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICBAaW5jbHVkZSBfbWF0LWNoZWNrLWR1cGxpY2F0ZS10aGVtZS1zdHlsZXMoJHRoZW1lLCAnbWF0LXBzZXVkby1jaGVja2JveCcpIHtcbiAgICAkY29sb3I6IG1hdC1nZXQtY29sb3ItY29uZmlnKCR0aGVtZSk7XG4gICAgJGRlbnNpdHk6IG1hdC1nZXQtZGVuc2l0eS1jb25maWcoJHRoZW1lKTtcbiAgICAkdHlwb2dyYXBoeTogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkdGhlbWUpO1xuXG4gICAgQGlmICRjb2xvciAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1wc2V1ZG8tY2hlY2tib3gtY29sb3IoJGNvbG9yKTtcbiAgICB9XG4gICAgQGlmICRkZW5zaXR5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgX21hdC1wc2V1ZG8tY2hlY2tib3gtZGVuc2l0eSgkZGVuc2l0eSk7XG4gICAgfVxuICAgIEBpZiAkdHlwb2dyYXBoeSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1wc2V1ZG8tY2hlY2tib3gtdHlwb2dyYXBoeSgkdHlwb2dyYXBoeSk7XG4gICAgfVxuICB9XG59XG5cblxuXG4vLyBSZXByZXNlbnRzIGEgdHlwb2dyYXBoeSBsZXZlbCBmcm9tIHRoZSBNYXRlcmlhbCBkZXNpZ24gc3BlYy5cbkBmdW5jdGlvbiBtYXQtdHlwb2dyYXBoeS1sZXZlbChcbiAgJGZvbnQtc2l6ZSxcbiAgJGxpbmUtaGVpZ2h0OiAkZm9udC1zaXplLFxuICAkZm9udC13ZWlnaHQ6IDQwMCxcbiAgJGZvbnQtZmFtaWx5OiBudWxsLFxuICAkbGV0dGVyLXNwYWNpbmc6IG5vcm1hbCkge1xuXG4gIEByZXR1cm4gKFxuICAgIGZvbnQtc2l6ZTogJGZvbnQtc2l6ZSxcbiAgICBsaW5lLWhlaWdodDogJGxpbmUtaGVpZ2h0LFxuICAgIGZvbnQtd2VpZ2h0OiAkZm9udC13ZWlnaHQsXG4gICAgZm9udC1mYW1pbHk6ICRmb250LWZhbWlseSxcbiAgICBsZXR0ZXItc3BhY2luZzogJGxldHRlci1zcGFjaW5nXG4gICk7XG59XG5cbi8vIFJlcHJlc2VudHMgYSBjb2xsZWN0aW9uIG9mIHR5cG9ncmFwaHkgbGV2ZWxzLlxuLy8gRGVmYXVsdHMgY29tZSBmcm9tIGh0dHBzOi8vbWF0ZXJpYWwuaW8vZ3VpZGVsaW5lcy9zdHlsZS90eXBvZ3JhcGh5Lmh0bWxcbi8vIE5vdGU6IFRoZSBzcGVjIGRvZXNuJ3QgbWVudGlvbiBsZXR0ZXIgc3BhY2luZy4gVGhlIHZhbHVlcyBoZXJlIGNvbWUgZnJvbVxuLy8gZXllYmFsbGluZyBpdCB1bnRpbCBpdCBsb29rZWQgZXhhY3RseSBsaWtlIHRoZSBzcGVjIGV4YW1wbGVzLlxuQGZ1bmN0aW9uIG1hdC10eXBvZ3JhcGh5LWNvbmZpZyhcbiAgJGZvbnQtZmFtaWx5OiAgICdSb2JvdG8sIFwiSGVsdmV0aWNhIE5ldWVcIiwgc2Fucy1zZXJpZicsXG4gICRkaXNwbGF5LTQ6ICAgICBtYXQtdHlwb2dyYXBoeS1sZXZlbCgxMTJweCwgMTEycHgsIDMwMCwgJGxldHRlci1zcGFjaW5nOiAtMC4wNWVtKSxcbiAgJGRpc3BsYXktMzogICAgIG1hdC10eXBvZ3JhcGh5LWxldmVsKDU2cHgsIDU2cHgsIDQwMCwgJGxldHRlci1zcGFjaW5nOiAtMC4wMmVtKSxcbiAgJGRpc3BsYXktMjogICAgIG1hdC10eXBvZ3JhcGh5LWxldmVsKDQ1cHgsIDQ4cHgsIDQwMCwgJGxldHRlci1zcGFjaW5nOiAtMC4wMDVlbSksXG4gICRkaXNwbGF5LTE6ICAgICBtYXQtdHlwb2dyYXBoeS1sZXZlbCgzNHB4LCA0MHB4LCA0MDApLFxuICAkaGVhZGxpbmU6ICAgICAgbWF0LXR5cG9ncmFwaHktbGV2ZWwoMjRweCwgMzJweCwgNDAwKSxcbiAgJHRpdGxlOiAgICAgICAgIG1hdC10eXBvZ3JhcGh5LWxldmVsKDIwcHgsIDMycHgsIDUwMCksXG4gICRzdWJoZWFkaW5nLTI6ICBtYXQtdHlwb2dyYXBoeS1sZXZlbCgxNnB4LCAyOHB4LCA0MDApLFxuICAkc3ViaGVhZGluZy0xOiAgbWF0LXR5cG9ncmFwaHktbGV2ZWwoMTVweCwgMjRweCwgNDAwKSxcbiAgJGJvZHktMjogICAgICAgIG1hdC10eXBvZ3JhcGh5LWxldmVsKDE0cHgsIDI0cHgsIDUwMCksXG4gICRib2R5LTE6ICAgICAgICBtYXQtdHlwb2dyYXBoeS1sZXZlbCgxNHB4LCAyMHB4LCA0MDApLFxuICAkY2FwdGlvbjogICAgICAgbWF0LXR5cG9ncmFwaHktbGV2ZWwoMTJweCwgMjBweCwgNDAwKSxcbiAgJGJ1dHRvbjogICAgICAgIG1hdC10eXBvZ3JhcGh5LWxldmVsKDE0cHgsIDE0cHgsIDUwMCksXG4gIC8vIExpbmUtaGVpZ2h0IG11c3QgYmUgdW5pdC1sZXNzIGZyYWN0aW9uIG9mIHRoZSBmb250LXNpemUuXG4gICRpbnB1dDogICAgICAgICBtYXQtdHlwb2dyYXBoeS1sZXZlbChpbmhlcml0LCAxLjEyNSwgNDAwKVxuKSB7XG5cbiAgLy8gRGVjbGFyZSBhbiBpbml0aWFsIG1hcCB3aXRoIGFsbCBvZiB0aGUgbGV2ZWxzLlxuICAkY29uZmlnOiAoXG4gICAgZGlzcGxheS00OiAgICAgICRkaXNwbGF5LTQsXG4gICAgZGlzcGxheS0zOiAgICAgICRkaXNwbGF5LTMsXG4gICAgZGlzcGxheS0yOiAgICAgICRkaXNwbGF5LTIsXG4gICAgZGlzcGxheS0xOiAgICAgICRkaXNwbGF5LTEsXG4gICAgaGVhZGxpbmU6ICAgICAgICRoZWFkbGluZSxcbiAgICB0aXRsZTogICAgICAgICAgJHRpdGxlLFxuICAgIHN1YmhlYWRpbmctMjogICAkc3ViaGVhZGluZy0yLFxuICAgIHN1YmhlYWRpbmctMTogICAkc3ViaGVhZGluZy0xLFxuICAgIGJvZHktMjogICAgICAgICAkYm9keS0yLFxuICAgIGJvZHktMTogICAgICAgICAkYm9keS0xLFxuICAgIGNhcHRpb246ICAgICAgICAkY2FwdGlvbixcbiAgICBidXR0b246ICAgICAgICAgJGJ1dHRvbixcbiAgICBpbnB1dDogICAgICAgICAgJGlucHV0LFxuICApO1xuXG4gIC8vIExvb3AgdGhyb3VnaCB0aGUgbGV2ZWxzIGFuZCBzZXQgdGhlIGBmb250LWZhbWlseWAgb2YgdGhlIG9uZXMgdGhhdCBkb24ndCBoYXZlIG9uZSB0byB0aGUgYmFzZS5cbiAgLy8gTm90ZSB0aGF0IFNhc3MgY2FuJ3QgbW9kaWZ5IG1hcHMgaW4gcGxhY2UsIHdoaWNoIG1lYW5zIHRoYXQgd2UgbmVlZCB0byBtZXJnZSBhbmQgcmUtYXNzaWduLlxuICBAZWFjaCAka2V5LCAkbGV2ZWwgaW4gJGNvbmZpZyB7XG4gICAgQGlmIG1hcC1nZXQoJGxldmVsLCBmb250LWZhbWlseSkgPT0gbnVsbCB7XG4gICAgICAkbmV3LWxldmVsOiBtYXAtbWVyZ2UoJGxldmVsLCAoZm9udC1mYW1pbHk6ICRmb250LWZhbWlseSkpO1xuICAgICAgJGNvbmZpZzogbWFwLW1lcmdlKCRjb25maWcsICgka2V5OiAkbmV3LWxldmVsKSk7XG4gICAgfVxuICB9XG5cbiAgLy8gQWRkIHRoZSBiYXNlIGZvbnQgZmFtaWx5IHRvIHRoZSBjb25maWcuXG4gIEByZXR1cm4gbWFwLW1lcmdlKCRjb25maWcsIChmb250LWZhbWlseTogJGZvbnQtZmFtaWx5KSk7XG59XG5cbi8vIEFkZHMgdGhlIGJhc2UgdHlwb2dyYXBoeSBzdHlsZXMsIGJhc2VkIG9uIGEgY29uZmlnLlxuLyogc3R5bGVsaW50LWRpc2FibGUtbmV4dC1saW5lIG1hdGVyaWFsL3RoZW1lLW1peGluLWFwaSAqL1xuQG1peGluIG1hdC1iYXNlLXR5cG9ncmFwaHkoJGNvbmZpZywgJHNlbGVjdG9yOiAnLm1hdC10eXBvZ3JhcGh5Jykge1xuICAubWF0LWgxLCAubWF0LWhlYWRsaW5lLCAjeyRzZWxlY3Rvcn0gaDEge1xuICAgIEBpbmNsdWRlIG1hdC10eXBvZ3JhcGh5LWxldmVsLXRvLXN0eWxlcygkY29uZmlnLCBoZWFkbGluZSk7XG4gICAgbWFyZ2luOiAwIDAgMTZweDtcbiAgfVxuXG4gIC5tYXQtaDIsIC5tYXQtdGl0bGUsICN7JHNlbGVjdG9yfSBoMiB7XG4gICAgQGluY2x1ZGUgbWF0LXR5cG9ncmFwaHktbGV2ZWwtdG8tc3R5bGVzKCRjb25maWcsIHRpdGxlKTtcbiAgICBtYXJnaW46IDAgMCAxNnB4O1xuICB9XG5cbiAgLm1hdC1oMywgLm1hdC1zdWJoZWFkaW5nLTIsICN7JHNlbGVjdG9yfSBoMyB7XG4gICAgQGluY2x1ZGUgbWF0LXR5cG9ncmFwaHktbGV2ZWwtdG8tc3R5bGVzKCRjb25maWcsIHN1YmhlYWRpbmctMik7XG4gICAgbWFyZ2luOiAwIDAgMTZweDtcbiAgfVxuXG4gIC5tYXQtaDQsIC5tYXQtc3ViaGVhZGluZy0xLCAjeyRzZWxlY3Rvcn0gaDQge1xuICAgIEBpbmNsdWRlIG1hdC10eXBvZ3JhcGh5LWxldmVsLXRvLXN0eWxlcygkY29uZmlnLCBzdWJoZWFkaW5nLTEpO1xuICAgIG1hcmdpbjogMCAwIDE2cHg7XG4gIH1cblxuICAvLyBOb3RlOiB0aGUgc3BlYyBkb2Vzbid0IGhhdmUgYW55dGhpbmcgdGhhdCB3b3VsZCBjb3JyZXNwb25kIHRvIGg1IGFuZCBoNiwgYnV0IHdlIGFkZCB0aGVzZSBmb3JcbiAgLy8gY29uc2lzdGVuY3kuIFRoZSBmb250IHNpemVzIGNvbWUgZnJvbSB0aGUgQ2hyb21lIHVzZXIgYWdlbnQgc3R5bGVzIHdoaWNoIGhhdmUgaDUgYXQgMC44M2VtXG4gIC8vIGFuZCBoNiBhdCAwLjY3ZW0uXG4gIC5tYXQtaDUsICN7JHNlbGVjdG9yfSBoNSB7XG4gICAgQGluY2x1ZGUgbWF0LXR5cG9ncmFwaHktZm9udC1zaG9ydGhhbmQoXG4gICAgICAgLy8gY2FsYyBpcyB1c2VkIGhlcmUgdG8gc3VwcG9ydCBjc3MgdmFyaWFibGVzXG4gICAgICBjYWxjKCN7bWF0LWZvbnQtc2l6ZSgkY29uZmlnLCBib2R5LTEpfSAqIDAuODMpLFxuICAgICAgbWF0LWZvbnQtd2VpZ2h0KCRjb25maWcsIGJvZHktMSksXG4gICAgICBtYXQtbGluZS1oZWlnaHQoJGNvbmZpZywgYm9keS0xKSxcbiAgICAgIG1hdC1mb250LWZhbWlseSgkY29uZmlnLCBib2R5LTEpXG4gICAgKTtcblxuICAgIG1hcmdpbjogMCAwIDEycHg7XG4gIH1cblxuICAubWF0LWg2LCAjeyRzZWxlY3Rvcn0gaDYge1xuICAgIEBpbmNsdWRlIG1hdC10eXBvZ3JhcGh5LWZvbnQtc2hvcnRoYW5kKFxuICAgICAgIC8vIGNhbGMgaXMgdXNlZCBoZXJlIHRvIHN1cHBvcnQgY3NzIHZhcmlhYmxlc1xuICAgICAgY2FsYygje21hdC1mb250LXNpemUoJGNvbmZpZywgYm9keS0xKX0gKiAwLjY3KSxcbiAgICAgIG1hdC1mb250LXdlaWdodCgkY29uZmlnLCBib2R5LTEpLFxuICAgICAgbWF0LWxpbmUtaGVpZ2h0KCRjb25maWcsIGJvZHktMSksXG4gICAgICBtYXQtZm9udC1mYW1pbHkoJGNvbmZpZywgYm9keS0xKVxuICAgICk7XG5cbiAgICBtYXJnaW46IDAgMCAxMnB4O1xuICB9XG5cbiAgLm1hdC1ib2R5LXN0cm9uZywgLm1hdC1ib2R5LTIge1xuICAgIEBpbmNsdWRlIG1hdC10eXBvZ3JhcGh5LWxldmVsLXRvLXN0eWxlcygkY29uZmlnLCBib2R5LTIpO1xuICB9XG5cbiAgLm1hdC1ib2R5LCAubWF0LWJvZHktMSwgI3skc2VsZWN0b3J9IHtcbiAgICBAaW5jbHVkZSBtYXQtdHlwb2dyYXBoeS1sZXZlbC10by1zdHlsZXMoJGNvbmZpZywgYm9keS0xKTtcblxuICAgIHAge1xuICAgICAgbWFyZ2luOiAwIDAgMTJweDtcbiAgICB9XG4gIH1cblxuICAubWF0LXNtYWxsLCAubWF0LWNhcHRpb24ge1xuICAgIEBpbmNsdWRlIG1hdC10eXBvZ3JhcGh5LWxldmVsLXRvLXN0eWxlcygkY29uZmlnLCBjYXB0aW9uKTtcbiAgfVxuXG4gIC5tYXQtZGlzcGxheS00LCAjeyRzZWxlY3Rvcn0gLm1hdC1kaXNwbGF5LTQge1xuICAgIEBpbmNsdWRlIG1hdC10eXBvZ3JhcGh5LWxldmVsLXRvLXN0eWxlcygkY29uZmlnLCBkaXNwbGF5LTQpO1xuICAgIG1hcmdpbjogMCAwIDU2cHg7XG4gIH1cblxuICAubWF0LWRpc3BsYXktMywgI3skc2VsZWN0b3J9IC5tYXQtZGlzcGxheS0zIHtcbiAgICBAaW5jbHVkZSBtYXQtdHlwb2dyYXBoeS1sZXZlbC10by1zdHlsZXMoJGNvbmZpZywgZGlzcGxheS0zKTtcbiAgICBtYXJnaW46IDAgMCA2NHB4O1xuICB9XG5cbiAgLm1hdC1kaXNwbGF5LTIsICN7JHNlbGVjdG9yfSAubWF0LWRpc3BsYXktMiB7XG4gICAgQGluY2x1ZGUgbWF0LXR5cG9ncmFwaHktbGV2ZWwtdG8tc3R5bGVzKCRjb25maWcsIGRpc3BsYXktMik7XG4gICAgbWFyZ2luOiAwIDAgNjRweDtcbiAgfVxuXG4gIC5tYXQtZGlzcGxheS0xLCAjeyRzZWxlY3Rvcn0gLm1hdC1kaXNwbGF5LTEge1xuICAgIEBpbmNsdWRlIG1hdC10eXBvZ3JhcGh5LWxldmVsLXRvLXN0eWxlcygkY29uZmlnLCBkaXNwbGF5LTEpO1xuICAgIG1hcmdpbjogMCAwIDY0cHg7XG4gIH1cbn1cblxuXG5cblxuXG5AbWl4aW4gbWF0LWF1dG9jb21wbGV0ZS1jb2xvcigkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtY29sb3ItY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAkZm9yZWdyb3VuZDogbWFwLWdldCgkY29uZmlnLCBmb3JlZ3JvdW5kKTtcbiAgJGJhY2tncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgYmFja2dyb3VuZCk7XG5cbiAgLm1hdC1hdXRvY29tcGxldGUtcGFuZWwge1xuICAgIEBpbmNsdWRlIF9tYXQtdGhlbWUtb3ZlcnJpZGFibGUtZWxldmF0aW9uKDQsICRjb25maWcpO1xuICAgIGJhY2tncm91bmQ6IG1hdC1jb2xvcigkYmFja2dyb3VuZCwgY2FyZCk7XG4gICAgY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgdGV4dCk7XG5cbiAgICAvLyBTZWxlY3RlZCBvcHRpb25zIGluIGF1dG9jb21wbGV0ZXMgc2hvdWxkIG5vdCBiZSBncmF5LCBidXQgd2VcbiAgICAvLyBvbmx5IHdhbnQgdG8gb3ZlcnJpZGUgdGhlIGJhY2tncm91bmQgZm9yIHNlbGVjdGVkIG9wdGlvbnMgaWZcbiAgICAvLyB0aGV5IGFyZSAqbm90KiBpbiBob3ZlciBvciBmb2N1cyBzdGF0ZS4gVGhpcyBjaGFuZ2UgaGFzIHRvIGJlXG4gICAgLy8gbWFkZSBoZXJlIGJlY2F1c2UgYmFzZSBvcHRpb24gc3R5bGVzIGFyZSBzaGFyZWQgYmV0d2VlbiB0aGVcbiAgICAvLyBhdXRvY29tcGxldGUgYW5kIHRoZSBzZWxlY3QuXG4gICAgLm1hdC1vcHRpb24ubWF0LXNlbGVjdGVkOm5vdCgubWF0LWFjdGl2ZSk6bm90KDpob3Zlcikge1xuICAgICAgYmFja2dyb3VuZDogbWF0LWNvbG9yKCRiYWNrZ3JvdW5kLCBjYXJkKTtcblxuICAgICAgJjpub3QoLm1hdC1vcHRpb24tZGlzYWJsZWQpIHtcbiAgICAgICAgY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgdGV4dCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiBtYXQtYXV0b2NvbXBsZXRlLXR5cG9ncmFwaHkoJGNvbmZpZy1vci10aGVtZSkge31cblxuQG1peGluIF9tYXQtYXV0b2NvbXBsZXRlLWRlbnNpdHkoJGNvbmZpZy1vci10aGVtZSkge31cblxuQG1peGluIG1hdC1hdXRvY29tcGxldGUtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZykge1xuICAkdGhlbWU6IF9tYXQtbGVnYWN5LWdldC10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKTtcbiAgQGluY2x1ZGUgX21hdC1jaGVjay1kdXBsaWNhdGUtdGhlbWUtc3R5bGVzKCR0aGVtZSwgJ21hdC1hdXRvY29tcGxldGUnKSB7XG4gICAgJGNvbG9yOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkdGhlbWUpO1xuICAgICRkZW5zaXR5OiBtYXQtZ2V0LWRlbnNpdHktY29uZmlnKCR0aGVtZSk7XG4gICAgJHR5cG9ncmFwaHk6IG1hdC1nZXQtdHlwb2dyYXBoeS1jb25maWcoJHRoZW1lKTtcblxuICAgIEBpZiAkY29sb3IgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtYXV0b2NvbXBsZXRlLWNvbG9yKCRjb2xvcik7XG4gICAgfVxuICAgIEBpZiAkZGVuc2l0eSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIF9tYXQtYXV0b2NvbXBsZXRlLWRlbnNpdHkoJGRlbnNpdHkpO1xuICAgIH1cbiAgICBAaWYgJHR5cG9ncmFwaHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtYXV0b2NvbXBsZXRlLXR5cG9ncmFwaHkoJHR5cG9ncmFwaHkpO1xuICAgIH1cbiAgfVxufVxuXG4vLyBUaGlzIGNvbnRhaW5zIGFsbCBvZiB0aGUgc3R5bGVzIGZvciB0aGUgYmFkZ2Vcbi8vIHJhdGhlciB0aGFuIGp1c3QgdGhlIGNvbG9yL3RoZW1lIGJlY2F1c2Ugb2Zcbi8vIG5vIHN0eWxlIHNoZWV0IHN1cHBvcnQgZm9yIGRpcmVjdGl2ZXMuXG5cblxuXG5cblxuXG4kbWF0LWJhZGdlLWZvbnQtc2l6ZTogMTJweDtcbiRtYXQtYmFkZ2UtZm9udC13ZWlnaHQ6IDYwMDtcbiRtYXQtYmFkZ2UtZGVmYXVsdC1zaXplOiAyMnB4ICFkZWZhdWx0O1xuJG1hdC1iYWRnZS1zbWFsbC1zaXplOiAkbWF0LWJhZGdlLWRlZmF1bHQtc2l6ZSAtIDY7XG4kbWF0LWJhZGdlLWxhcmdlLXNpemU6ICRtYXQtYmFkZ2UtZGVmYXVsdC1zaXplICsgNjtcblxuLy8gTWl4aW4gZm9yIGJ1aWxkaW5nIG9mZnNldCBnaXZlbiBkaWZmZXJlbnQgc2l6ZXNcbkBtaXhpbiBfbWF0LWJhZGdlLXNpemUoJHNpemUpIHtcbiAgLm1hdC1iYWRnZS1jb250ZW50IHtcbiAgICB3aWR0aDogJHNpemU7XG4gICAgaGVpZ2h0OiAkc2l6ZTtcbiAgICBsaW5lLWhlaWdodDogJHNpemU7XG4gIH1cblxuICAmLm1hdC1iYWRnZS1hYm92ZSB7XG4gICAgLm1hdC1iYWRnZS1jb250ZW50IHtcbiAgICAgIHRvcDogLSRzaXplIC8gMjtcbiAgICB9XG4gIH1cblxuICAmLm1hdC1iYWRnZS1iZWxvdyB7XG4gICAgLm1hdC1iYWRnZS1jb250ZW50IHtcbiAgICAgIGJvdHRvbTogLSRzaXplIC8gMjtcbiAgICB9XG4gIH1cblxuICAmLm1hdC1iYWRnZS1iZWZvcmUge1xuICAgIC5tYXQtYmFkZ2UtY29udGVudCB7XG4gICAgICBsZWZ0OiAtJHNpemU7XG4gICAgfVxuICB9XG5cbiAgW2Rpcj0ncnRsJ10gJi5tYXQtYmFkZ2UtYmVmb3JlIHtcbiAgICAubWF0LWJhZGdlLWNvbnRlbnQge1xuICAgICAgbGVmdDogYXV0bztcbiAgICAgIHJpZ2h0OiAtJHNpemU7XG4gICAgfVxuICB9XG5cbiAgJi5tYXQtYmFkZ2UtYWZ0ZXIge1xuICAgIC5tYXQtYmFkZ2UtY29udGVudCB7XG4gICAgICByaWdodDogLSRzaXplO1xuICAgIH1cbiAgfVxuXG4gIFtkaXI9J3J0bCddICYubWF0LWJhZGdlLWFmdGVyIHtcbiAgICAubWF0LWJhZGdlLWNvbnRlbnQge1xuICAgICAgcmlnaHQ6IGF1dG87XG4gICAgICBsZWZ0OiAtJHNpemU7XG4gICAgfVxuICB9XG5cbiAgJi5tYXQtYmFkZ2Utb3ZlcmxhcCB7XG4gICAgJi5tYXQtYmFkZ2UtYmVmb3JlIHtcbiAgICAgIC5tYXQtYmFkZ2UtY29udGVudCB7XG4gICAgICAgIGxlZnQ6IC0kc2l6ZSAvIDI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgW2Rpcj0ncnRsJ10gJi5tYXQtYmFkZ2UtYmVmb3JlIHtcbiAgICAgIC5tYXQtYmFkZ2UtY29udGVudCB7XG4gICAgICAgIGxlZnQ6IGF1dG87XG4gICAgICAgIHJpZ2h0OiAtJHNpemUgLyAyO1xuICAgICAgfVxuICAgIH1cblxuICAgICYubWF0LWJhZGdlLWFmdGVyIHtcbiAgICAgIC5tYXQtYmFkZ2UtY29udGVudCB7XG4gICAgICAgIHJpZ2h0OiAtJHNpemUgLyAyO1xuICAgICAgfVxuICAgIH1cblxuICAgIFtkaXI9J3J0bCddICYubWF0LWJhZGdlLWFmdGVyIHtcbiAgICAgIC5tYXQtYmFkZ2UtY29udGVudCB7XG4gICAgICAgIHJpZ2h0OiBhdXRvO1xuICAgICAgICBsZWZ0OiAtJHNpemUgLyAyO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gbWF0LWJhZGdlLWNvbG9yKCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC1jb2xvci1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gICRhY2NlbnQ6IG1hcC1nZXQoJGNvbmZpZywgYWNjZW50KTtcbiAgJHdhcm46IG1hcC1nZXQoJGNvbmZpZywgd2Fybik7XG4gICRwcmltYXJ5OiBtYXAtZ2V0KCRjb25maWcsIHByaW1hcnkpO1xuICAkYmFja2dyb3VuZDogbWFwLWdldCgkY29uZmlnLCBiYWNrZ3JvdW5kKTtcbiAgJGZvcmVncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgZm9yZWdyb3VuZCk7XG5cbiAgLm1hdC1iYWRnZS1jb250ZW50IHtcbiAgICBjb2xvcjogbWF0LWNvbG9yKCRwcmltYXJ5LCBkZWZhdWx0LWNvbnRyYXN0KTtcbiAgICBiYWNrZ3JvdW5kOiBtYXQtY29sb3IoJHByaW1hcnkpO1xuXG4gICAgQGluY2x1ZGUgY2RrLWhpZ2gtY29udHJhc3QoYWN0aXZlLCBvZmYpIHtcbiAgICAgIG91dGxpbmU6IHNvbGlkIDFweDtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDA7XG4gICAgfVxuICB9XG5cbiAgLm1hdC1iYWRnZS1hY2NlbnQge1xuICAgIC5tYXQtYmFkZ2UtY29udGVudCB7XG4gICAgICBiYWNrZ3JvdW5kOiBtYXQtY29sb3IoJGFjY2VudCk7XG4gICAgICBjb2xvcjogbWF0LWNvbG9yKCRhY2NlbnQsIGRlZmF1bHQtY29udHJhc3QpO1xuICAgIH1cbiAgfVxuXG4gIC5tYXQtYmFkZ2Utd2FybiB7XG4gICAgLm1hdC1iYWRnZS1jb250ZW50IHtcbiAgICAgIGNvbG9yOiBtYXQtY29sb3IoJHdhcm4sIGRlZmF1bHQtY29udHJhc3QpO1xuICAgICAgYmFja2dyb3VuZDogbWF0LWNvbG9yKCR3YXJuKTtcbiAgICB9XG4gIH1cblxuICAubWF0LWJhZGdlIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIH1cblxuICAubWF0LWJhZGdlLWhpZGRlbiB7XG4gICAgLm1hdC1iYWRnZS1jb250ZW50IHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuICB9XG5cbiAgLm1hdC1iYWRnZS1kaXNhYmxlZCB7XG4gICAgLm1hdC1iYWRnZS1jb250ZW50IHtcbiAgICAgICRhcHAtYmFja2dyb3VuZDogbWF0LWNvbG9yKCRiYWNrZ3JvdW5kLCAnYmFja2dyb3VuZCcpO1xuICAgICAgJGJhZGdlLWNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIGRpc2FibGVkLWJ1dHRvbik7XG5cbiAgICAgIC8vIFRoZSBkaXNhYmxlZCBjb2xvciB1c3VhbGx5IGhhcyBzb21lIGtpbmQgb2Ygb3BhY2l0eSwgYnV0IGJlY2F1c2UgdGhlIGJhZGdlIGlzIG92ZXJsYXllZFxuICAgICAgLy8gb24gdG9wIG9mIHNvbWV0aGluZyBlbHNlLCBpdCB3b24ndCBsb29rIGdvb2QgaWYgaXQncyBvcGFxdWUuIElmIGl0IGlzIGEgY29sb3IgKnR5cGUqLFxuICAgICAgLy8gd2UgY29udmVydCBpdCBpbnRvIGEgc29saWQgY29sb3IgYnkgdGFraW5nIHRoZSBvcGFjaXR5IGZyb20gdGhlIHJnYmEgdmFsdWUgYW5kIHVzaW5nXG4gICAgICAvLyB0aGUgdmFsdWUgdG8gZGV0ZXJtaW5lIHRoZSBwZXJjZW50YWdlIG9mIHRoZSBiYWNrZ3JvdW5kIHRvIHB1dCBpbnRvIGZvcmVncm91bmQgd2hlblxuICAgICAgLy8gbWl4aW5nIHRoZSBjb2xvcnMgdG9nZXRoZXIuXG4gICAgICBAaWYgKHR5cGUtb2YoJGJhZGdlLWNvbG9yKSA9PSBjb2xvciBhbmQgdHlwZS1vZigkYXBwLWJhY2tncm91bmQpID09IGNvbG9yKSB7XG4gICAgICAgICRiYWRnZS1vcGFjaXR5OiBvcGFjaXR5KCRiYWRnZS1jb2xvcik7XG4gICAgICAgIGJhY2tncm91bmQ6IG1peCgkYXBwLWJhY2tncm91bmQsIHJnYmEoJGJhZGdlLWNvbG9yLCAxKSwgKDEgLSAkYmFkZ2Utb3BhY2l0eSkgKiAxMDAlKTtcbiAgICAgIH1cbiAgICAgIEBlbHNlIHtcbiAgICAgICAgYmFja2dyb3VuZDogJGJhZGdlLWNvbG9yO1xuICAgICAgfVxuXG4gICAgICBjb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBkaXNhYmxlZC10ZXh0KTtcbiAgICB9XG4gIH1cblxuICAubWF0LWJhZGdlLWNvbnRlbnQge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMjAwbXMgZWFzZS1pbi1vdXQ7XG4gICAgdHJhbnNmb3JtOiBzY2FsZSgwLjYpO1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgfVxuXG4gIC5uZy1hbmltYXRlLWRpc2FibGVkIC5tYXQtYmFkZ2UtY29udGVudCxcbiAgLm1hdC1iYWRnZS1jb250ZW50Ll9tYXQtYW5pbWF0aW9uLW5vb3BhYmxlIHtcbiAgICB0cmFuc2l0aW9uOiBub25lO1xuICB9XG5cbiAgLy8gVGhlIGFjdGl2ZSBjbGFzcyBpcyBhZGRlZCBhZnRlciB0aGUgZWxlbWVudCBpcyBhZGRlZFxuICAvLyBzbyBpdCBjYW4gYW5pbWF0ZSBzY2FsZSB0byBkZWZhdWx0XG4gIC5tYXQtYmFkZ2UtY29udGVudC5tYXQtYmFkZ2UtYWN0aXZlIHtcbiAgICAvLyBTY2FsZSB0byBgbm9uZWAgaW5zdGVhZCBvZiBgMWAgdG8gYXZvaWQgYmx1cnJ5IHRleHQgaW4gc29tZSBicm93c2Vycy5cbiAgICB0cmFuc2Zvcm06IG5vbmU7XG4gIH1cblxuICAubWF0LWJhZGdlLXNtYWxsIHtcbiAgICBAaW5jbHVkZSBfbWF0LWJhZGdlLXNpemUoJG1hdC1iYWRnZS1zbWFsbC1zaXplKTtcbiAgfVxuICAubWF0LWJhZGdlLW1lZGl1bSB7XG4gICAgQGluY2x1ZGUgX21hdC1iYWRnZS1zaXplKCRtYXQtYmFkZ2UtZGVmYXVsdC1zaXplKTtcbiAgfVxuICAubWF0LWJhZGdlLWxhcmdlIHtcbiAgICBAaW5jbHVkZSBfbWF0LWJhZGdlLXNpemUoJG1hdC1iYWRnZS1sYXJnZS1zaXplKTtcbiAgfVxufVxuXG5AbWl4aW4gbWF0LWJhZGdlLXR5cG9ncmFwaHkoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAubWF0LWJhZGdlLWNvbnRlbnQge1xuICAgIGZvbnQtd2VpZ2h0OiAkbWF0LWJhZGdlLWZvbnQtd2VpZ2h0O1xuICAgIGZvbnQtc2l6ZTogJG1hdC1iYWRnZS1mb250LXNpemU7XG4gICAgZm9udC1mYW1pbHk6IG1hdC1mb250LWZhbWlseSgkY29uZmlnKTtcbiAgfVxuXG4gIC5tYXQtYmFkZ2Utc21hbGwgLm1hdC1iYWRnZS1jb250ZW50IHtcbiAgICAvLyBTZXQgdGhlIGZvbnQgc2l6ZSB0byA3NSUgb2YgdGhlIG9yaWdpbmFsLlxuICAgIGZvbnQtc2l6ZTogJG1hdC1iYWRnZS1mb250LXNpemUgKiAwLjc1O1xuICB9XG5cbiAgLm1hdC1iYWRnZS1sYXJnZSAubWF0LWJhZGdlLWNvbnRlbnQge1xuICAgIGZvbnQtc2l6ZTogJG1hdC1iYWRnZS1mb250LXNpemUgKiAyO1xuICB9XG59XG5cbkBtaXhpbiBfbWF0LWJhZGdlLWRlbnNpdHkoJGNvbmZpZy1vci10aGVtZSkge31cblxuQG1peGluIG1hdC1iYWRnZS10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKSB7XG4gICR0aGVtZTogX21hdC1sZWdhY3ktZ2V0LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICBAaW5jbHVkZSBfbWF0LWNoZWNrLWR1cGxpY2F0ZS10aGVtZS1zdHlsZXMoJHRoZW1lLCAnbWF0LWJhZGdlJykge1xuICAgICRjb2xvcjogbWF0LWdldC1jb2xvci1jb25maWcoJHRoZW1lKTtcbiAgICAkZGVuc2l0eTogbWF0LWdldC1kZW5zaXR5LWNvbmZpZygkdGhlbWUpO1xuICAgICR0eXBvZ3JhcGh5OiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCR0aGVtZSk7XG5cbiAgICBAaWYgJGNvbG9yICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LWJhZGdlLWNvbG9yKCRjb2xvcik7XG4gICAgfVxuICAgIEBpZiAkZGVuc2l0eSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIF9tYXQtYmFkZ2UtZGVuc2l0eSgkZGVuc2l0eSk7XG4gICAgfVxuICAgIEBpZiAkdHlwb2dyYXBoeSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1iYWRnZS10eXBvZ3JhcGh5KCR0eXBvZ3JhcGh5KTtcbiAgICB9XG4gIH1cbn1cblxuXG5cblxuXG5cblxuQG1peGluIG1hdC1ib3R0b20tc2hlZXQtY29sb3IoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgJGJhY2tncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgYmFja2dyb3VuZCk7XG4gICRmb3JlZ3JvdW5kOiBtYXAtZ2V0KCRjb25maWcsIGZvcmVncm91bmQpO1xuXG4gIC5tYXQtYm90dG9tLXNoZWV0LWNvbnRhaW5lciB7XG4gICAgQGluY2x1ZGUgX21hdC10aGVtZS1lbGV2YXRpb24oMTYsICRjb25maWcpO1xuICAgIGJhY2tncm91bmQ6IG1hdC1jb2xvcigkYmFja2dyb3VuZCwgZGlhbG9nKTtcbiAgICBjb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCB0ZXh0KTtcbiAgfVxufVxuXG5AbWl4aW4gbWF0LWJvdHRvbS1zaGVldC10eXBvZ3JhcGh5KCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgLm1hdC1ib3R0b20tc2hlZXQtY29udGFpbmVyIHtcbiAgICBAaW5jbHVkZSBtYXQtdHlwb2dyYXBoeS1sZXZlbC10by1zdHlsZXMoJGNvbmZpZywgYm9keS0xKTtcbiAgfVxufVxuXG5AbWl4aW4gX21hdC1ib3R0b20tc2hlZXQtZGVuc2l0eSgkY29uZmlnLW9yLXRoZW1lKSB7fVxuXG5AbWl4aW4gbWF0LWJvdHRvbS1zaGVldC10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKSB7XG4gICR0aGVtZTogX21hdC1sZWdhY3ktZ2V0LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICBAaW5jbHVkZSBfbWF0LWNoZWNrLWR1cGxpY2F0ZS10aGVtZS1zdHlsZXMoJHRoZW1lLCAnbWF0LWJvdHRvbS1zaGVldCcpIHtcbiAgICAkY29sb3I6IG1hdC1nZXQtY29sb3ItY29uZmlnKCR0aGVtZSk7XG4gICAgJGRlbnNpdHk6IG1hdC1nZXQtZGVuc2l0eS1jb25maWcoJHRoZW1lKTtcbiAgICAkdHlwb2dyYXBoeTogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkdGhlbWUpO1xuXG4gICAgQGlmICRjb2xvciAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1ib3R0b20tc2hlZXQtY29sb3IoJGNvbG9yKTtcbiAgICB9XG4gICAgQGlmICRkZW5zaXR5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgX21hdC1ib3R0b20tc2hlZXQtZGVuc2l0eSgkZGVuc2l0eSk7XG4gICAgfVxuICAgIEBpZiAkdHlwb2dyYXBoeSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1ib3R0b20tc2hlZXQtdHlwb2dyYXBoeSgkdHlwb2dyYXBoeSk7XG4gICAgfVxuICB9XG59XG5cblxuXG5cblxuXG4kX21hdC1idXR0b24tcmlwcGxlLW9wYWNpdHk6IDAuMTtcblxuLy8gQXBwbGllcyBhIGZvY3VzIHN0eWxlIHRvIGFuIG1hdC1idXR0b24gZWxlbWVudCBmb3IgZWFjaCBvZiB0aGUgc3VwcG9ydGVkIHBhbGV0dGVzLlxuQG1peGluIF9tYXQtYnV0dG9uLWZvY3VzLW92ZXJsYXktY29sb3IoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgJHByaW1hcnk6IG1hcC1nZXQoJGNvbmZpZywgcHJpbWFyeSk7XG4gICRhY2NlbnQ6IG1hcC1nZXQoJGNvbmZpZywgYWNjZW50KTtcbiAgJHdhcm46IG1hcC1nZXQoJGNvbmZpZywgd2Fybik7XG5cbiAgJi5tYXQtcHJpbWFyeSAubWF0LWJ1dHRvbi1mb2N1cy1vdmVybGF5IHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBtYXQtY29sb3IoJHByaW1hcnkpO1xuICB9XG5cbiAgJi5tYXQtYWNjZW50IC5tYXQtYnV0dG9uLWZvY3VzLW92ZXJsYXkge1xuICAgIGJhY2tncm91bmQtY29sb3I6IG1hdC1jb2xvcigkYWNjZW50KTtcbiAgfVxuXG4gICYubWF0LXdhcm4gLm1hdC1idXR0b24tZm9jdXMtb3ZlcmxheSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogbWF0LWNvbG9yKCR3YXJuKTtcbiAgfVxuXG4gICYubWF0LWJ1dHRvbi1kaXNhYmxlZCAubWF0LWJ1dHRvbi1mb2N1cy1vdmVybGF5IHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgfVxufVxuXG4vLyBBcHBsaWVzIHRoZSBiYWNrZ3JvdW5kIGNvbG9yIGZvciBhIHJpcHBsZS4gSWYgdGhlIHZhbHVlIHByb3ZpZGVkIGlzIG5vdCBhIFNhc3MgY29sb3IsXG4vLyB3ZSBhc3N1bWUgdGhhdCB3ZSd2ZSBiZWVuIGdpdmVuIGEgQ1NTIHZhcmlhYmxlLiBTaW5jZSB3ZSBjYW4ndCBwZXJmb3JtIGFscGhhLWJsZW5kaW5nXG4vLyBvbiBhIENTUyB2YXJpYWJsZSwgd2UgaW5zdGVhZCBhZGQgdGhlIG9wYWNpdHkgZGlyZWN0bHkgdG8gdGhlIHJpcHBsZSBlbGVtZW50LlxuQG1peGluIF9tYXQtYnV0dG9uLXJpcHBsZS1iYWNrZ3JvdW5kKCRwYWxldHRlLCAkaHVlLCAkb3BhY2l0eSkge1xuICAkYmFja2dyb3VuZC1jb2xvcjogbWF0LWNvbG9yKCRwYWxldHRlLCAkaHVlLCAkb3BhY2l0eSk7XG4gIGJhY2tncm91bmQtY29sb3I6ICRiYWNrZ3JvdW5kLWNvbG9yO1xuICBAaWYgKHR5cGUtb2YoJGJhY2tncm91bmQtY29sb3IpICE9IGNvbG9yKSB7XG4gICAgb3BhY2l0eTogJG9wYWNpdHk7XG4gIH1cbn1cblxuQG1peGluIF9tYXQtYnV0dG9uLXJpcHBsZS1jb2xvcigkdGhlbWUsICRodWUsICRvcGFjaXR5OiAkX21hdC1idXR0b24tcmlwcGxlLW9wYWNpdHkpIHtcbiAgJHByaW1hcnk6IG1hcC1nZXQoJHRoZW1lLCBwcmltYXJ5KTtcbiAgJGFjY2VudDogbWFwLWdldCgkdGhlbWUsIGFjY2VudCk7XG4gICR3YXJuOiBtYXAtZ2V0KCR0aGVtZSwgd2Fybik7XG5cbiAgJi5tYXQtcHJpbWFyeSAubWF0LXJpcHBsZS1lbGVtZW50IHtcbiAgICBAaW5jbHVkZSBfbWF0LWJ1dHRvbi1yaXBwbGUtYmFja2dyb3VuZCgkcHJpbWFyeSwgJGh1ZSwgJG9wYWNpdHkpO1xuICB9XG5cbiAgJi5tYXQtYWNjZW50IC5tYXQtcmlwcGxlLWVsZW1lbnQge1xuICAgIEBpbmNsdWRlIF9tYXQtYnV0dG9uLXJpcHBsZS1iYWNrZ3JvdW5kKCRhY2NlbnQsICRodWUsICRvcGFjaXR5KTtcbiAgfVxuXG4gICYubWF0LXdhcm4gLm1hdC1yaXBwbGUtZWxlbWVudCB7XG4gICAgQGluY2x1ZGUgX21hdC1idXR0b24tcmlwcGxlLWJhY2tncm91bmQoJHdhcm4sICRodWUsICRvcGFjaXR5KTtcbiAgfVxufVxuXG4vLyBBcHBsaWVzIGEgcHJvcGVydHkgdG8gYW4gbWF0LWJ1dHRvbiBlbGVtZW50IGZvciBlYWNoIG9mIHRoZSBzdXBwb3J0ZWQgcGFsZXR0ZXMuXG5AbWl4aW4gX21hdC1idXR0b24tdGhlbWUtcHJvcGVydHkoJHRoZW1lLCAkcHJvcGVydHksICRodWUpIHtcbiAgJHByaW1hcnk6IG1hcC1nZXQoJHRoZW1lLCBwcmltYXJ5KTtcbiAgJGFjY2VudDogbWFwLWdldCgkdGhlbWUsIGFjY2VudCk7XG4gICR3YXJuOiBtYXAtZ2V0KCR0aGVtZSwgd2Fybik7XG4gICRiYWNrZ3JvdW5kOiBtYXAtZ2V0KCR0aGVtZSwgYmFja2dyb3VuZCk7XG4gICRmb3JlZ3JvdW5kOiBtYXAtZ2V0KCR0aGVtZSwgZm9yZWdyb3VuZCk7XG5cbiAgJi5tYXQtcHJpbWFyeSB7XG4gICAgI3skcHJvcGVydHl9OiBtYXQtY29sb3IoJHByaW1hcnksICRodWUpO1xuICB9XG4gICYubWF0LWFjY2VudCB7XG4gICAgI3skcHJvcGVydHl9OiBtYXQtY29sb3IoJGFjY2VudCwgJGh1ZSk7XG4gIH1cbiAgJi5tYXQtd2FybiB7XG4gICAgI3skcHJvcGVydHl9OiBtYXQtY29sb3IoJHdhcm4sICRodWUpO1xuICB9XG5cbiAgJi5tYXQtcHJpbWFyeSwgJi5tYXQtYWNjZW50LCAmLm1hdC13YXJuLCAmLm1hdC1idXR0b24tZGlzYWJsZWQge1xuICAgICYubWF0LWJ1dHRvbi1kaXNhYmxlZCB7XG4gICAgICAkcGFsZXR0ZTogaWYoJHByb3BlcnR5ID09ICdjb2xvcicsICRmb3JlZ3JvdW5kLCAkYmFja2dyb3VuZCk7XG4gICAgICAjeyRwcm9wZXJ0eX06IG1hdC1jb2xvcigkcGFsZXR0ZSwgZGlzYWJsZWQtYnV0dG9uKTtcbiAgICB9XG4gIH1cbn1cblxuQG1peGluIG1hdC1idXR0b24tY29sb3IoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgJHByaW1hcnk6IG1hcC1nZXQoJGNvbmZpZywgcHJpbWFyeSk7XG4gICRhY2NlbnQ6IG1hcC1nZXQoJGNvbmZpZywgYWNjZW50KTtcbiAgJHdhcm46IG1hcC1nZXQoJGNvbmZpZywgd2Fybik7XG4gICRiYWNrZ3JvdW5kOiBtYXAtZ2V0KCRjb25maWcsIGJhY2tncm91bmQpO1xuICAkZm9yZWdyb3VuZDogbWFwLWdldCgkY29uZmlnLCBmb3JlZ3JvdW5kKTtcblxuICAubWF0LWJ1dHRvbiwgLm1hdC1pY29uLWJ1dHRvbiwgLm1hdC1zdHJva2VkLWJ1dHRvbiB7XG4gICAgLy8gQnV0dG9ucyB3aXRob3V0IGEgYmFja2dyb3VuZCBjb2xvciBzaG91bGQgaW5oZXJpdCB0aGUgZm9udCBjb2xvci4gVGhpcyBpcyBuZWNlc3NhcnkgdG9cbiAgICAvLyBlbnN1cmUgdGhhdCB0aGUgYnV0dG9uIGlzIHJlYWRhYmxlIG9uIGN1c3RvbSBiYWNrZ3JvdW5kIGNvbG9ycy4gSXQncyB3cm9uZyB0byBhbHdheXMgYXNzdW1lXG4gICAgLy8gdGhhdCB0aG9zZSBidXR0b25zIGFyZSBhbHdheXMgcGxhY2VkIGluc2lkZSBvZiBjb250YWluZXJzIHdpdGggdGhlIGRlZmF1bHQgYmFja2dyb3VuZFxuICAgIC8vIGNvbG9yIG9mIHRoZSB0aGVtZSAoZS5nLiB0aGVtZWQgdG9vbGJhcnMpLlxuICAgIGNvbG9yOiBpbmhlcml0O1xuICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuXG4gICAgQGluY2x1ZGUgX21hdC1idXR0b24tdGhlbWUtcHJvcGVydHkoJGNvbmZpZywgJ2NvbG9yJywgdGV4dCk7XG4gICAgQGluY2x1ZGUgX21hdC1idXR0b24tZm9jdXMtb3ZlcmxheS1jb2xvcigkY29uZmlnKTtcblxuICAgIC8vIFNldHVwIHRoZSByaXBwbGUgY29sb3IgdG8gYmUgYmFzZWQgb24gdGhlIHRleHQgY29sb3IuIFRoaXMgZW5zdXJlcyB0aGF0IHRoZSByaXBwbGVzXG4gICAgLy8gYXJlIG1hdGNoaW5nIHdpdGggdGhlIGN1cnJlbnQgdGhlbWUgcGFsZXR0ZSBhbmQgYXJlIGluIGNvbnRyYXN0IHRvIHRoZSBiYWNrZ3JvdW5kIGNvbG9yXG4gICAgLy8gKGUuZyBpbiB0aGVtZWQgdG9vbGJhcnMpLlxuICAgIC5tYXQtcmlwcGxlLWVsZW1lbnQge1xuICAgICAgb3BhY2l0eTogJF9tYXQtYnV0dG9uLXJpcHBsZS1vcGFjaXR5O1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogY3VycmVudENvbG9yO1xuICAgIH1cbiAgfVxuXG4gIC5tYXQtYnV0dG9uLWZvY3VzLW92ZXJsYXkge1xuICAgIGJhY2tncm91bmQ6IG1hcF9nZXQoJGZvcmVncm91bmQsIGJhc2UpO1xuICB9XG5cbiAgLy8gTm90ZTogdGhpcyBuZWVkcyBhIGJpdCBleHRyYSBzcGVjaWZpY2l0eSwgYmVjYXVzZSB3ZSdyZSBub3QgZ3VhcmFudGVlZCB0aGUgaW5jbHVzaW9uXG4gIC8vIG9yZGVyIG9mIHRoZSB0aGVtZSBzdHlsZXMgYW5kIHRoZSBidXR0b24gcmVzZXQgbWF5IGVuZCB1cCByZXNldHRpbmcgdGhpcyBhcyB3ZWxsLlxuICAubWF0LXN0cm9rZWQtYnV0dG9uOm5vdCgubWF0LWJ1dHRvbi1kaXNhYmxlZCkge1xuICAgIGJvcmRlci1jb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBkaXZpZGVyKTtcbiAgfVxuXG4gIC5tYXQtZmxhdC1idXR0b24sIC5tYXQtcmFpc2VkLWJ1dHRvbiwgLm1hdC1mYWIsIC5tYXQtbWluaS1mYWIge1xuICAgIC8vIERlZmF1bHQgZm9udCBhbmQgYmFja2dyb3VuZCBjb2xvciB3aGVuIG5vdCB1c2luZyBhbnkgY29sb3IgcGFsZXR0ZS5cbiAgICBjb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCB0ZXh0KTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBtYXQtY29sb3IoJGJhY2tncm91bmQsIHJhaXNlZC1idXR0b24pO1xuXG4gICAgQGluY2x1ZGUgX21hdC1idXR0b24tdGhlbWUtcHJvcGVydHkoJGNvbmZpZywgJ2NvbG9yJywgZGVmYXVsdC1jb250cmFzdCk7XG4gICAgQGluY2x1ZGUgX21hdC1idXR0b24tdGhlbWUtcHJvcGVydHkoJGNvbmZpZywgJ2JhY2tncm91bmQtY29sb3InLCBkZWZhdWx0KTtcbiAgICBAaW5jbHVkZSBfbWF0LWJ1dHRvbi1yaXBwbGUtY29sb3IoJGNvbmZpZywgZGVmYXVsdC1jb250cmFzdCk7XG4gIH1cblxuICAubWF0LXN0cm9rZWQtYnV0dG9uLCAubWF0LWZsYXQtYnV0dG9uIHtcbiAgICBAaW5jbHVkZSBfbWF0LXRoZW1lLW92ZXJyaWRhYmxlLWVsZXZhdGlvbigwLCAkY29uZmlnKTtcbiAgfVxuXG4gIC5tYXQtcmFpc2VkLWJ1dHRvbiB7XG4gICAgQGluY2x1ZGUgX21hdC10aGVtZS1vdmVycmlkYWJsZS1lbGV2YXRpb24oMiwgJGNvbmZpZyk7XG5cbiAgICAmOm5vdCgubWF0LWJ1dHRvbi1kaXNhYmxlZCk6YWN0aXZlIHtcbiAgICAgIEBpbmNsdWRlIF9tYXQtdGhlbWUtb3ZlcnJpZGFibGUtZWxldmF0aW9uKDgsICRjb25maWcpO1xuICAgIH1cblxuICAgICYubWF0LWJ1dHRvbi1kaXNhYmxlZCB7XG4gICAgICBAaW5jbHVkZSBfbWF0LXRoZW1lLW92ZXJyaWRhYmxlLWVsZXZhdGlvbigwLCAkY29uZmlnKTtcbiAgICB9XG4gIH1cblxuICAubWF0LWZhYiwgLm1hdC1taW5pLWZhYiB7XG4gICAgQGluY2x1ZGUgX21hdC10aGVtZS1vdmVycmlkYWJsZS1lbGV2YXRpb24oNiwgJGNvbmZpZyk7XG5cbiAgICAmOm5vdCgubWF0LWJ1dHRvbi1kaXNhYmxlZCk6YWN0aXZlIHtcbiAgICAgIEBpbmNsdWRlIF9tYXQtdGhlbWUtb3ZlcnJpZGFibGUtZWxldmF0aW9uKDEyLCAkY29uZmlnKTtcbiAgICB9XG5cbiAgICAmLm1hdC1idXR0b24tZGlzYWJsZWQge1xuICAgICAgQGluY2x1ZGUgX21hdC10aGVtZS1vdmVycmlkYWJsZS1lbGV2YXRpb24oMCwgJGNvbmZpZyk7XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiBtYXQtYnV0dG9uLXR5cG9ncmFwaHkoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAubWF0LWJ1dHRvbiwgLm1hdC1yYWlzZWQtYnV0dG9uLCAubWF0LWljb24tYnV0dG9uLCAubWF0LXN0cm9rZWQtYnV0dG9uLFxuICAubWF0LWZsYXQtYnV0dG9uLCAubWF0LWZhYiwgLm1hdC1taW5pLWZhYiB7XG4gICAgZm9udDoge1xuICAgICAgZmFtaWx5OiBtYXQtZm9udC1mYW1pbHkoJGNvbmZpZywgYnV0dG9uKTtcbiAgICAgIHNpemU6IG1hdC1mb250LXNpemUoJGNvbmZpZywgYnV0dG9uKTtcbiAgICAgIHdlaWdodDogbWF0LWZvbnQtd2VpZ2h0KCRjb25maWcsIGJ1dHRvbik7XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiBfbWF0LWJ1dHRvbi1kZW5zaXR5KCRjb25maWctb3ItdGhlbWUpIHt9XG5cbkBtaXhpbiBtYXQtYnV0dG9uLXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpIHtcbiAgJHRoZW1lOiBfbWF0LWxlZ2FjeS1nZXQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gIEBpbmNsdWRlIF9tYXQtY2hlY2stZHVwbGljYXRlLXRoZW1lLXN0eWxlcygkdGhlbWUsICdtYXQtYnV0dG9uJykge1xuICAgICRjb2xvcjogbWF0LWdldC1jb2xvci1jb25maWcoJHRoZW1lKTtcbiAgICAkZGVuc2l0eTogbWF0LWdldC1kZW5zaXR5LWNvbmZpZygkdGhlbWUpO1xuICAgICR0eXBvZ3JhcGh5OiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCR0aGVtZSk7XG5cbiAgICBAaWYgJGNvbG9yICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LWJ1dHRvbi1jb2xvcigkY29sb3IpO1xuICAgIH1cbiAgICBAaWYgJGRlbnNpdHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBfbWF0LWJ1dHRvbi1kZW5zaXR5KCRkZW5zaXR5KTtcbiAgICB9XG4gICAgQGlmICR0eXBvZ3JhcGh5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LWJ1dHRvbi10eXBvZ3JhcGh5KCR0eXBvZ3JhcGh5KTtcbiAgICB9XG4gIH1cbn1cblxuXG5cblxuXG5cblxuLy8gVGFrZW4gZnJvbSBtYXQtZGVuc2l0eSB3aXRoIHNtYWxsIG1vZGlmaWNhdGlvbnMgdG8gbm90IHJlbHkgb24gdGhlIG5ldyBTYXNzIG1vZHVsZVxuLy8gc3lzdGVtLCBhbmQgdG8gc3VwcG9ydCBhcmJpdHJhcnkgcHJvcGVydGllcyBpbiBhIGRlbnNpdHkgY29uZmlndXJhdGlvbi5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXRlcmlhbC1jb21wb25lbnRzL21hdGVyaWFsLWNvbXBvbmVudHMtd2ViL2Jsb2IvbWFzdGVyL3BhY2thZ2VzL21kYy1kZW5zaXR5XG5cbiRfbWF0LWRlbnNpdHktaW50ZXJ2YWw6IDRweCAhZGVmYXVsdDtcbiRfbWF0LWRlbnNpdHktbWluaW11bS1zY2FsZTogbWluaW11bSAhZGVmYXVsdDtcbiRfbWF0LWRlbnNpdHktbWF4aW11bS1zY2FsZTogbWF4aW11bSAhZGVmYXVsdDtcbiRfbWF0LWRlbnNpdHktc3VwcG9ydGVkLXNjYWxlczogKGRlZmF1bHQsIG1pbmltdW0sIG1heGltdW0pICFkZWZhdWx0O1xuJF9tYXQtZGVuc2l0eS1kZWZhdWx0LXNjYWxlOiAwICFkZWZhdWx0O1xuXG4vLyBXaGV0aGVyIGRlbnNpdHkgc2hvdWxkIGJlIGdlbmVyYXRlZCBhdCByb290LiBUaGlzIHdpbGwgYmUgdGVtcG9yYXJpbHkgc2V0IHRvIGB0cnVlYFxuLy8gd2hlbmV2ZXIgZGVuc2l0eSBzdHlsZXMgZm9yIGxlZ2FjeSB0aGVtZXMgYXJlIGdlbmVyYXRlZC5cbiRfbWF0LWRlbnNpdHktZ2VuZXJhdGUtYXQtcm9vdDogZmFsc2U7XG4vLyBXaGV0aGVyIGRlbnNpdHkgc3R5bGVzIHNob3VsZCBiZSBnZW5lcmF0ZWQuIFRoaXMgd2lsbCBiZSB0ZW1wb3JhcmlseSBzZXQgdG8gYGZhbHNlYCBpZlxuLy8gZHVwbGljYXRlIGRlbnNpdHkgc3R5bGVzIGZvciBhIGxlZ2FjeSB0aGVtZSB3b3VsZCBiZSBnZW5lcmF0ZWQuIEZvciBsZWdhY3kgdGhlbWVzLFxuLy8gd2UgYWx3YXlzIGdlbmVyYXRlIHRoZSBkZWZhdWx0IGRlbnNpdHkgKipvbmx5IG9uY2UqKiBhdCByb290LlxuJF9tYXQtZGVuc2l0eS1nZW5lcmF0ZS1zdHlsZXM6IHRydWU7XG5cbi8vIE1peGluIHRoYXQgY2FuIGJlIHVzZWQgdG8gd3JhcCBkZW5zaXR5IHN0eWxlcyBvZiBnaXZlbiBjb21wb25lbnRzLiBUaGUgbWl4aW4gd2lsbFxuLy8gbW92ZSB0aGUgZGVuc2l0eSBzdHlsZXMgdG8gcm9vdCBpZiB0aGUgYCRfbWF0LWRlbnNpdHktZ2VuZXJhdGUtYXQtcm9vdGAgZ2xvYmFsIHZhcmlhYmxlXG4vLyBpcyBzZXQuIElmIGAkX21hdC1kZW5zaXR5LWdlbmVyYXRlLXN0eWxlc2AgaXMgc2V0IHRvIGBmYWxzZWAsIGdlbmVyYXRpb24gb2YgZGVuc2l0eVxuLy8gc3R5bGVzIHdyYXBwZWQgaW4gdGhpcyBtaXhpbiBpcyBza2lwcGVkLiBUaGlzIG1peGluIGV4aXN0cyB0byBpbXByb3ZlIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG4vLyBvZiB0aGUgbmV3IHRoZW1pbmcgQVBJIHdoZXJlIGRlbnNpdHkgc3R5bGVzIGFyZSBpbmNsdWRlZCBhcyBwYXJ0IG9mIHRoZW1lcy4gUHJldmlvdXNseSxcbi8vIGRlbnNpdHkgc3R5bGVzIG9mIGNvbXBvbmVudHMgd2VyZSBwYXJ0IG9mIHRoZWlyIGJhc2Ugc3R5bGVzLiBXaXRoIHRoZSBuZXcgQVBJLCB0aGV5IGFyZVxuLy8gcGFydCBvZiB0aGUgdGhlbWluZyBzeXN0ZW0uIFRoZSBgPC4uPi10aGVtZWAgbWl4aW5zIGdlbmVyYXRlIGRlbnNpdHkgYnkgZGVmYXVsdCB1bmxlc3Ncbi8vIHRoZSBkZW5zaXR5IGNvbmZpZ3VyYXRpb24gaXMgZXhwbGljaXRseSBzcGVjaWZpZWQgYXMgcGVyIG5ldyBBUEkuIFRoaXMgbWVhbnMsIHRoYXQgcHJvamVjdHNcbi8vIHVzaW5nIGA8Li4+LXRoZW1lYCBtaXhpbnMgZm9yIHNlcGFyYXRlIHRoZW1lcyAobGlrZSBgLmRhcmstdGhlbWVgKSB3aWxsIGNhdXNlIGR1cGxpY2F0ZVxuLy8gZGVuc2l0eSBzdHlsZXMuIFRoaXMgaXMgYnJlYWtpbmcgYXMgaXQgaW5jcmVhc2VzIHNwZWNpZmljaXR5IG9mIGRlbnNpdHkgc3R5bGVzLiBUaGlzIG1peGluXG4vLyBwcm92aWRlcyBhbiBBUEkgdG8gY29udHJvbCBnZW5lcmF0aW9uIG9mIGRlbnNpdHkgc3R5bGVzIHNvIHRoYXQgd2UgY2FuIGVuc3VyZSB0aGV5IGFyZSBvbmx5XG4vLyBjcmVhdGVkICpvbmNlKiBhbmQgYXQgcm9vdC5cbkBtaXhpbiBfbWF0LWRlbnNpdHktbGVnYWN5LWNvbXBhdGliaWxpdHkoKSB7XG4gIEBpZiAkX21hdC1kZW5zaXR5LWdlbmVyYXRlLXN0eWxlcyBhbmQgJF9tYXQtZGVuc2l0eS1nZW5lcmF0ZS1hdC1yb290IHtcbiAgICBAYXQtcm9vdCB7XG4gICAgICBAY29udGVudDtcbiAgICB9XG4gIH1cbiAgQGVsc2UgaWYgJF9tYXQtZGVuc2l0eS1nZW5lcmF0ZS1zdHlsZXMge1xuICAgIEBjb250ZW50O1xuICB9XG59XG5cbkBmdW5jdGlvbiBfbWF0LWRlbnNpdHktcHJvcC12YWx1ZSgkZGVuc2l0eS1jb25maWcsICRkZW5zaXR5LXNjYWxlLCAkcHJvcGVydHktbmFtZSkge1xuICBAaWYgKHR5cGUtb2YoJGRlbnNpdHktc2NhbGUpID09ICdzdHJpbmcnIGFuZFxuICAgICAgaW5kZXgoJGxpc3Q6ICRfbWF0LWRlbnNpdHktc3VwcG9ydGVkLXNjYWxlcywgJHZhbHVlOiAkZGVuc2l0eS1zY2FsZSkgPT0gbnVsbCkge1xuICAgIEBlcnJvciAnbWF0LWRlbnNpdHk6IFN1cHBvcnRlZCBkZW5zaXR5IHNjYWxlcyAjeyRfbWF0LWRlbnNpdHktc3VwcG9ydGVkLXNjYWxlc30sICcgICtcbiAgICAgICdidXQgcmVjZWl2ZWQgI3skZGVuc2l0eS1zY2FsZX0uJztcbiAgfVxuXG4gICR2YWx1ZTogbnVsbDtcbiAgJHByb3BlcnR5LXNjYWxlLW1hcDogbWFwX2dldCgkZGVuc2l0eS1jb25maWcsICRwcm9wZXJ0eS1uYW1lKTtcblxuICBAaWYgbWFwX2hhc19rZXkoJHByb3BlcnR5LXNjYWxlLW1hcCwgJGRlbnNpdHktc2NhbGUpIHtcbiAgICAkdmFsdWU6IG1hcF9nZXQoJHByb3BlcnR5LXNjYWxlLW1hcCwgJGRlbnNpdHktc2NhbGUpO1xuICB9XG4gIEBlbHNlIHtcbiAgICAkdmFsdWU6IG1hcF9nZXQoJHByb3BlcnR5LXNjYWxlLW1hcCwgZGVmYXVsdCkgKyAkZGVuc2l0eS1zY2FsZSAqICRfbWF0LWRlbnNpdHktaW50ZXJ2YWw7XG4gIH1cblxuICAkbWluLXZhbHVlOiBtYXBfZ2V0KCRwcm9wZXJ0eS1zY2FsZS1tYXAsICRfbWF0LWRlbnNpdHktbWluaW11bS1zY2FsZSk7XG4gICRtYXgtdmFsdWU6IG1hcF9nZXQoJHByb3BlcnR5LXNjYWxlLW1hcCwgJF9tYXQtZGVuc2l0eS1tYXhpbXVtLXNjYWxlKTtcblxuICBAaWYgKCR2YWx1ZSA8ICRtaW4tdmFsdWUgb3IgJHZhbHVlID4gJG1heC12YWx1ZSkge1xuICAgIEBlcnJvciAnbWF0LWRlbnNpdHk6ICN7JHByb3BlcnR5LW5hbWV9IG11c3QgYmUgYmV0d2VlbiAjeyRtaW4tdmFsdWV9IGFuZCAnICtcbiAgICAgICcjeyRtYXgtdmFsdWV9IChpbmNsdXNpdmUpLCBidXQgcmVjZWl2ZWQgI3skdmFsdWV9Lic7XG4gIH1cblxuICBAcmV0dXJuICR2YWx1ZTtcbn1cblxuJG1hdC1idXR0b24tdG9nZ2xlLXN0YW5kYXJkLWhlaWdodDogNDhweCAhZGVmYXVsdDtcbi8vIE1pbmltdW0gaGVpZ2h0IGZvciBoaWdoZXN0IGRlbnNpdHkgY2FuIHZhcnkgYmFzZWQgb24gdGhlIGNvbnRlbnQgdGhhdCBkZXZlbG9wZXJzXG4vLyBwcm9qZWN0IGludG8gYnV0dG9uLXRvZ2dsZSdzLiBXZSB1c2UgYSBtaW5pbXVtIG9mIGAyNHB4YCB0aG91Z2ggYmVjYXVzZSBjb21tb25seVxuLy8gaWNvbnMgb3IgdGV4dCBhcmUgZGlzcGxheWVkLiBJY29ucyBieSBkZWZhdWx0IGhhdmUgYSBzaXplIG9mIGAyNHB4YC5cbiRtYXQtYnV0dG9uLXRvZ2dsZS1zdGFuZGFyZC1taW5pbXVtLWhlaWdodDogMjRweCAhZGVmYXVsdDtcbiRtYXQtYnV0dG9uLXRvZ2dsZS1zdGFuZGFyZC1tYXhpbXVtLWhlaWdodDogJG1hdC1idXR0b24tdG9nZ2xlLXN0YW5kYXJkLWhlaWdodCAhZGVmYXVsdDtcblxuJG1hdC1idXR0b24tdG9nZ2xlLXN0YW5kYXJkLWRlbnNpdHktY29uZmlnOiAoXG4gIGhlaWdodDogKFxuICAgIGRlZmF1bHQ6ICRtYXQtYnV0dG9uLXRvZ2dsZS1zdGFuZGFyZC1oZWlnaHQsXG4gICAgbWF4aW11bTogJG1hdC1idXR0b24tdG9nZ2xlLXN0YW5kYXJkLW1heGltdW0taGVpZ2h0LFxuICAgIG1pbmltdW06ICRtYXQtYnV0dG9uLXRvZ2dsZS1zdGFuZGFyZC1taW5pbXVtLWhlaWdodCxcbiAgKVxuKSAhZGVmYXVsdDtcblxuXG5AbWl4aW4gbWF0LWJ1dHRvbi10b2dnbGUtY29sb3IoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgJGZvcmVncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgZm9yZWdyb3VuZCk7XG4gICRiYWNrZ3JvdW5kOiBtYXAtZ2V0KCRjb25maWcsIGJhY2tncm91bmQpO1xuICAkZGl2aWRlci1jb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBkaXZpZGVyKTtcblxuICAubWF0LWJ1dHRvbi10b2dnbGUtc3RhbmRhbG9uZSxcbiAgLm1hdC1idXR0b24tdG9nZ2xlLWdyb3VwIHtcbiAgICBAaW5jbHVkZSBfbWF0LXRoZW1lLWVsZXZhdGlvbigyLCAkY29uZmlnKTtcbiAgfVxuXG4gIC5tYXQtYnV0dG9uLXRvZ2dsZS1zdGFuZGFsb25lLm1hdC1idXR0b24tdG9nZ2xlLWFwcGVhcmFuY2Utc3RhbmRhcmQsXG4gIC5tYXQtYnV0dG9uLXRvZ2dsZS1ncm91cC1hcHBlYXJhbmNlLXN0YW5kYXJkIHtcbiAgICBib3gtc2hhZG93OiBub25lO1xuICB9XG5cbiAgLm1hdC1idXR0b24tdG9nZ2xlIHtcbiAgICBjb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBoaW50LXRleHQpO1xuXG4gICAgLm1hdC1idXR0b24tdG9nZ2xlLWZvY3VzLW92ZXJsYXkge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogbWF0LWNvbG9yKCRiYWNrZ3JvdW5kLCBmb2N1c2VkLWJ1dHRvbik7XG4gICAgfVxuICB9XG5cbiAgLm1hdC1idXR0b24tdG9nZ2xlLWFwcGVhcmFuY2Utc3RhbmRhcmQge1xuICAgIGNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIHRleHQpO1xuICAgIGJhY2tncm91bmQ6IG1hdC1jb2xvcigkYmFja2dyb3VuZCwgY2FyZCk7XG5cbiAgICAubWF0LWJ1dHRvbi10b2dnbGUtZm9jdXMtb3ZlcmxheSB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBtYXQtY29sb3IoJGJhY2tncm91bmQsIGZvY3VzZWQtYnV0dG9uLCAxKTtcbiAgICB9XG4gIH1cblxuICAubWF0LWJ1dHRvbi10b2dnbGUtZ3JvdXAtYXBwZWFyYW5jZS1zdGFuZGFyZCAubWF0LWJ1dHRvbi10b2dnbGUgKyAubWF0LWJ1dHRvbi10b2dnbGUge1xuICAgIGJvcmRlci1sZWZ0OiBzb2xpZCAxcHggJGRpdmlkZXItY29sb3I7XG4gIH1cblxuICBbZGlyPSdydGwnXSAubWF0LWJ1dHRvbi10b2dnbGUtZ3JvdXAtYXBwZWFyYW5jZS1zdGFuZGFyZCAubWF0LWJ1dHRvbi10b2dnbGUgKyAubWF0LWJ1dHRvbi10b2dnbGUge1xuICAgIGJvcmRlci1sZWZ0OiBub25lO1xuICAgIGJvcmRlci1yaWdodDogc29saWQgMXB4ICRkaXZpZGVyLWNvbG9yO1xuICB9XG5cbiAgLm1hdC1idXR0b24tdG9nZ2xlLWdyb3VwLWFwcGVhcmFuY2Utc3RhbmRhcmQubWF0LWJ1dHRvbi10b2dnbGUtdmVydGljYWwge1xuICAgIC5tYXQtYnV0dG9uLXRvZ2dsZSArIC5tYXQtYnV0dG9uLXRvZ2dsZSB7XG4gICAgICBib3JkZXItbGVmdDogbm9uZTtcbiAgICAgIGJvcmRlci1yaWdodDogbm9uZTtcbiAgICAgIGJvcmRlci10b3A6IHNvbGlkIDFweCAkZGl2aWRlci1jb2xvcjtcbiAgICB9XG4gIH1cblxuICAubWF0LWJ1dHRvbi10b2dnbGUtY2hlY2tlZCB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogbWF0LWNvbG9yKCRiYWNrZ3JvdW5kLCBzZWxlY3RlZC1idXR0b24pO1xuICAgIGNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIHNlY29uZGFyeS10ZXh0KTtcblxuICAgICYubWF0LWJ1dHRvbi10b2dnbGUtYXBwZWFyYW5jZS1zdGFuZGFyZCB7XG4gICAgICBjb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCB0ZXh0KTtcbiAgICB9XG4gIH1cblxuICAubWF0LWJ1dHRvbi10b2dnbGUtZGlzYWJsZWQge1xuICAgIGNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIGRpc2FibGVkLWJ1dHRvbik7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogbWF0LWNvbG9yKCRiYWNrZ3JvdW5kLCBkaXNhYmxlZC1idXR0b24tdG9nZ2xlKTtcblxuICAgICYubWF0LWJ1dHRvbi10b2dnbGUtYXBwZWFyYW5jZS1zdGFuZGFyZCB7XG4gICAgICBiYWNrZ3JvdW5kOiBtYXQtY29sb3IoJGJhY2tncm91bmQsIGNhcmQpO1xuICAgIH1cblxuICAgICYubWF0LWJ1dHRvbi10b2dnbGUtY2hlY2tlZCB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBtYXQtY29sb3IoJGJhY2tncm91bmQsIHNlbGVjdGVkLWRpc2FibGVkLWJ1dHRvbik7XG4gICAgfVxuICB9XG5cbiAgLm1hdC1idXR0b24tdG9nZ2xlLXN0YW5kYWxvbmUubWF0LWJ1dHRvbi10b2dnbGUtYXBwZWFyYW5jZS1zdGFuZGFyZCxcbiAgLm1hdC1idXR0b24tdG9nZ2xlLWdyb3VwLWFwcGVhcmFuY2Utc3RhbmRhcmQge1xuICAgIGJvcmRlcjogc29saWQgMXB4ICRkaXZpZGVyLWNvbG9yO1xuICB9XG59XG5cbkBtaXhpbiBtYXQtYnV0dG9uLXRvZ2dsZS10eXBvZ3JhcGh5KCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgLm1hdC1idXR0b24tdG9nZ2xlIHtcbiAgICBmb250LWZhbWlseTogbWF0LWZvbnQtZmFtaWx5KCRjb25maWcpO1xuICB9XG59XG5cbkBtaXhpbiBfbWF0LWJ1dHRvbi10b2dnbGUtZGVuc2l0eSgkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRkZW5zaXR5LXNjYWxlOiBtYXQtZ2V0LWRlbnNpdHktY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAkc3RhbmRhcmQtaGVpZ2h0OiBfbWF0LWRlbnNpdHktcHJvcC12YWx1ZShcbiAgICAgICRtYXQtYnV0dG9uLXRvZ2dsZS1zdGFuZGFyZC1kZW5zaXR5LWNvbmZpZywgJGRlbnNpdHktc2NhbGUsIGhlaWdodCk7XG5cbiAgQGluY2x1ZGUgX21hdC1kZW5zaXR5LWxlZ2FjeS1jb21wYXRpYmlsaXR5KCkge1xuICAgIC5tYXQtYnV0dG9uLXRvZ2dsZS1hcHBlYXJhbmNlLXN0YW5kYXJkIC5tYXQtYnV0dG9uLXRvZ2dsZS1sYWJlbC1jb250ZW50IHtcbiAgICAgIGxpbmUtaGVpZ2h0OiAkc3RhbmRhcmQtaGVpZ2h0O1xuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gbWF0LWJ1dHRvbi10b2dnbGUtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZykge1xuICAkdGhlbWU6IF9tYXQtbGVnYWN5LWdldC10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKTtcbiAgQGluY2x1ZGUgX21hdC1jaGVjay1kdXBsaWNhdGUtdGhlbWUtc3R5bGVzKCR0aGVtZSwgJ21hdC1idXR0b24tdG9nZ2xlJykge1xuICAgICRjb2xvcjogbWF0LWdldC1jb2xvci1jb25maWcoJHRoZW1lKTtcbiAgICAkZGVuc2l0eTogbWF0LWdldC1kZW5zaXR5LWNvbmZpZygkdGhlbWUpO1xuICAgICR0eXBvZ3JhcGh5OiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCR0aGVtZSk7XG5cbiAgICBAaWYgJGNvbG9yICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LWJ1dHRvbi10b2dnbGUtY29sb3IoJGNvbG9yKTtcbiAgICB9XG4gICAgQGlmICRkZW5zaXR5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgX21hdC1idXR0b24tdG9nZ2xlLWRlbnNpdHkoJGRlbnNpdHkpO1xuICAgIH1cbiAgICBAaWYgJHR5cG9ncmFwaHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtYnV0dG9uLXRvZ2dsZS10eXBvZ3JhcGh5KCR0eXBvZ3JhcGh5KTtcbiAgICB9XG4gIH1cbn1cblxuXG5cblxuXG5cblxuXG5AbWl4aW4gbWF0LWNhcmQtY29sb3IoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgJGJhY2tncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgYmFja2dyb3VuZCk7XG4gICRmb3JlZ3JvdW5kOiBtYXAtZ2V0KCRjb25maWcsIGZvcmVncm91bmQpO1xuXG4gIC5tYXQtY2FyZCB7XG4gICAgQGluY2x1ZGUgX21hdC10aGVtZS1vdmVycmlkYWJsZS1lbGV2YXRpb24oMSwgJGNvbmZpZyk7XG4gICAgYmFja2dyb3VuZDogbWF0LWNvbG9yKCRiYWNrZ3JvdW5kLCBjYXJkKTtcbiAgICBjb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCB0ZXh0KTtcblxuICAgIC8vIE5lZWRzIGV4dHJhIHNwZWNpZmljaXR5IHRvIGJlIGFibGUgdG8gb3ZlcnJpZGUgdGhlIGVsZXZhdGlvbiBzZWxlY3RvcnMuXG4gICAgJi5tYXQtY2FyZC1mbGF0IHtcbiAgICAgIEBpbmNsdWRlIF9tYXQtdGhlbWUtb3ZlcnJpZGFibGUtZWxldmF0aW9uKDAsICRjb25maWcpO1xuICAgIH1cbiAgfVxuXG4gIC5tYXQtY2FyZC1zdWJ0aXRsZSB7XG4gICAgY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgc2Vjb25kYXJ5LXRleHQpO1xuICB9XG59XG5cbkBtaXhpbiBtYXQtY2FyZC10eXBvZ3JhcGh5KCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgLm1hdC1jYXJkIHtcbiAgICBmb250LWZhbWlseTogbWF0LWZvbnQtZmFtaWx5KCRjb25maWcpO1xuICB9XG5cbiAgLm1hdC1jYXJkLXRpdGxlIHtcbiAgICBmb250OiB7XG4gICAgICBzaXplOiBtYXQtZm9udC1zaXplKCRjb25maWcsIGhlYWRsaW5lKTtcbiAgICAgIHdlaWdodDogbWF0LWZvbnQtd2VpZ2h0KCRjb25maWcsIHRpdGxlKTtcbiAgICB9XG4gIH1cblxuICAubWF0LWNhcmQtaGVhZGVyIC5tYXQtY2FyZC10aXRsZSB7XG4gICAgZm9udC1zaXplOiBtYXQtZm9udC1zaXplKCRjb25maWcsIHRpdGxlKTtcbiAgfVxuXG4gIC5tYXQtY2FyZC1zdWJ0aXRsZSxcbiAgLm1hdC1jYXJkLWNvbnRlbnQge1xuICAgIGZvbnQtc2l6ZTogbWF0LWZvbnQtc2l6ZSgkY29uZmlnLCBib2R5LTEpO1xuICB9XG59XG5cbkBtaXhpbiBfbWF0LWNhcmQtZGVuc2l0eSgkY29uZmlnLW9yLXRoZW1lKSB7fVxuXG5AbWl4aW4gbWF0LWNhcmQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZykge1xuICAkdGhlbWU6IF9tYXQtbGVnYWN5LWdldC10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKTtcbiAgQGluY2x1ZGUgX21hdC1jaGVjay1kdXBsaWNhdGUtdGhlbWUtc3R5bGVzKCR0aGVtZSwgJ21hdC1jYXJkJykge1xuICAgICRjb2xvcjogbWF0LWdldC1jb2xvci1jb25maWcoJHRoZW1lKTtcbiAgICAkZGVuc2l0eTogbWF0LWdldC1kZW5zaXR5LWNvbmZpZygkdGhlbWUpO1xuICAgICR0eXBvZ3JhcGh5OiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCR0aGVtZSk7XG5cbiAgICBAaWYgJGNvbG9yICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LWNhcmQtY29sb3IoJGNvbG9yKTtcbiAgICB9XG4gICAgQGlmICRkZW5zaXR5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgX21hdC1jYXJkLWRlbnNpdHkoJGRlbnNpdHkpO1xuICAgIH1cbiAgICBAaWYgJHR5cG9ncmFwaHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtY2FyZC10eXBvZ3JhcGh5KCR0eXBvZ3JhcGh5KTtcbiAgICB9XG4gIH1cbn1cblxuXG5cblxuXG5cbkBtaXhpbiBtYXQtY2hlY2tib3gtY29sb3IoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgJGlzLWRhcmstdGhlbWU6IG1hcC1nZXQoJGNvbmZpZywgaXMtZGFyayk7XG4gICRwcmltYXJ5OiBtYXAtZ2V0KCRjb25maWcsIHByaW1hcnkpO1xuICAkYWNjZW50OiBtYXAtZ2V0KCRjb25maWcsIGFjY2VudCk7XG4gICR3YXJuOiBtYXAtZ2V0KCRjb25maWcsIHdhcm4pO1xuICAkYmFja2dyb3VuZDogbWFwLWdldCgkY29uZmlnLCBiYWNrZ3JvdW5kKTtcbiAgJGZvcmVncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgZm9yZWdyb3VuZCk7XG5cblxuICAvLyBUaGUgY29sb3Igb2YgdGhlIGNoZWNrYm94J3MgY2hlY2ttYXJrIC8gbWl4ZWRtYXJrLlxuICAkY2hlY2tib3gtbWFyay1jb2xvcjogbWF0LWNvbG9yKCRiYWNrZ3JvdW5kLCBiYWNrZ3JvdW5kKTtcblxuICAvLyBOT1RFKHRyYXZpc2thdWZtYW4pOiBXaGlsZSB0aGUgc3BlYyBjYWxscyBmb3IgdHJhbnNsdWNlbnQgYmxhY2tzL3doaXRlcyBmb3IgZGlzYWJsZWQgY29sb3JzLFxuICAvLyB0aGlzIGRvZXMgbm90IHdvcmsgd2VsbCB3aXRoIGVsZW1lbnRzIGxheWVyZWQgb24gdG9wIG9mIG9uZSBhbm90aGVyLiBUbyBnZXQgYXJvdW5kIHRoaXMgd2VcbiAgLy8gYmxlbmQgdGhlIGNvbG9ycyB0b2dldGhlciBiYXNlZCBvbiB0aGUgYmFzZSBjb2xvciBhbmQgdGhlIHRoZW1lIGJhY2tncm91bmQuXG4gICR3aGl0ZS0zMHBjdC1vcGFjaXR5LW9uLWRhcms6ICM2ODY4Njg7XG4gICRibGFjay0yNnBjdC1vcGFjaXR5LW9uLWxpZ2h0OiAjYjBiMGIwO1xuICAkZGlzYWJsZWQtY29sb3I6IGlmKCRpcy1kYXJrLXRoZW1lLCAkd2hpdGUtMzBwY3Qtb3BhY2l0eS1vbi1kYXJrLCAkYmxhY2stMjZwY3Qtb3BhY2l0eS1vbi1saWdodCk7XG5cbiAgLm1hdC1jaGVja2JveC1mcmFtZSB7XG4gICAgYm9yZGVyLWNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIHNlY29uZGFyeS10ZXh0KTtcbiAgfVxuXG4gIC5tYXQtY2hlY2tib3gtY2hlY2ttYXJrIHtcbiAgICBmaWxsOiAkY2hlY2tib3gtbWFyay1jb2xvcjtcbiAgfVxuXG4gIC5tYXQtY2hlY2tib3gtY2hlY2ttYXJrLXBhdGgge1xuICAgIC8vICFpbXBvcnRhbnQgaXMgbmVlZGVkIGhlcmUgYmVjYXVzZSBhIHN0cm9rZSBtdXN0IGJlIHNldCBhcyBhblxuICAgIC8vIGF0dHJpYnV0ZSBvbiB0aGUgU1ZHIGluIG9yZGVyIGZvciBsaW5lIGFuaW1hdGlvbiB0byB3b3JrIHByb3Blcmx5LlxuICAgIHN0cm9rZTogJGNoZWNrYm94LW1hcmstY29sb3IgIWltcG9ydGFudDtcbiAgfVxuXG4gIC5tYXQtY2hlY2tib3gtbWl4ZWRtYXJrIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkY2hlY2tib3gtbWFyay1jb2xvcjtcbiAgfVxuXG4gIC5tYXQtY2hlY2tib3gtaW5kZXRlcm1pbmF0ZSwgLm1hdC1jaGVja2JveC1jaGVja2VkIHtcbiAgICAmLm1hdC1wcmltYXJ5IC5tYXQtY2hlY2tib3gtYmFja2dyb3VuZCB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBtYXQtY29sb3IoJHByaW1hcnkpO1xuICAgIH1cblxuICAgICYubWF0LWFjY2VudCAubWF0LWNoZWNrYm94LWJhY2tncm91bmQge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogbWF0LWNvbG9yKCRhY2NlbnQpO1xuICAgIH1cblxuICAgICYubWF0LXdhcm4gLm1hdC1jaGVja2JveC1iYWNrZ3JvdW5kIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IG1hdC1jb2xvcigkd2Fybik7XG4gICAgfVxuICB9XG5cbiAgLm1hdC1jaGVja2JveC1kaXNhYmxlZCB7XG4gICAgJi5tYXQtY2hlY2tib3gtY2hlY2tlZCxcbiAgICAmLm1hdC1jaGVja2JveC1pbmRldGVybWluYXRlIHtcbiAgICAgIC5tYXQtY2hlY2tib3gtYmFja2dyb3VuZCB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICRkaXNhYmxlZC1jb2xvcjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAmOm5vdCgubWF0LWNoZWNrYm94LWNoZWNrZWQpIHtcbiAgICAgIC5tYXQtY2hlY2tib3gtZnJhbWUge1xuICAgICAgICBib3JkZXItY29sb3I6ICRkaXNhYmxlZC1jb2xvcjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAubWF0LWNoZWNrYm94LWxhYmVsIHtcbiAgICAgIGNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIHNlY29uZGFyeS10ZXh0KTtcbiAgICB9XG4gIH1cblxuICAvLyBTd2l0Y2ggdGhpcyB0byBhIHNvbGlkIGNvbG9yIHNpbmNlIHdlJ3JlIHVzaW5nIGBvcGFjaXR5YFxuICAvLyB0byBjb250cm9sIGhvdyBvcGFxdWUgdGhlIHJpcHBsZSBzaG91bGQgYmUuXG4gIC5tYXQtY2hlY2tib3ggLm1hdC1yaXBwbGUtZWxlbWVudCB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogbWFwX2dldChtYXAtZ2V0KCRjb25maWcsIGZvcmVncm91bmQpLCBiYXNlKTtcbiAgfVxuXG4gIC5tYXQtY2hlY2tib3gtY2hlY2tlZDpub3QoLm1hdC1jaGVja2JveC1kaXNhYmxlZCksXG4gIC5tYXQtY2hlY2tib3g6YWN0aXZlOm5vdCgubWF0LWNoZWNrYm94LWRpc2FibGVkKSB7XG4gICAgJi5tYXQtcHJpbWFyeSAubWF0LXJpcHBsZS1lbGVtZW50IHtcbiAgICAgIGJhY2tncm91bmQ6IG1hdC1jb2xvcigkcHJpbWFyeSk7XG4gICAgfVxuXG4gICAgJi5tYXQtYWNjZW50IC5tYXQtcmlwcGxlLWVsZW1lbnQge1xuICAgICAgYmFja2dyb3VuZDogbWF0LWNvbG9yKCRhY2NlbnQpO1xuICAgIH1cblxuICAgICYubWF0LXdhcm4gLm1hdC1yaXBwbGUtZWxlbWVudCB7XG4gICAgICBiYWNrZ3JvdW5kOiBtYXQtY29sb3IoJHdhcm4pO1xuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gbWF0LWNoZWNrYm94LXR5cG9ncmFwaHkoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAubWF0LWNoZWNrYm94IHtcbiAgICBmb250LWZhbWlseTogbWF0LWZvbnQtZmFtaWx5KCRjb25maWcpO1xuICB9XG5cbiAgLy8gVE9ETyhrYXJhKTogUmVtb3ZlIHRoaXMgc3R5bGUgd2hlbiBmaXhpbmcgdmVydGljYWwgYmFzZWxpbmVcbiAgLm1hdC1jaGVja2JveC1sYXlvdXQgLm1hdC1jaGVja2JveC1sYWJlbCB7XG4gICAgbGluZS1oZWlnaHQ6IG1hdC1saW5lLWhlaWdodCgkY29uZmlnLCBib2R5LTIpO1xuICB9XG59XG5cbkBtaXhpbiBfbWF0LWNoZWNrYm94LWRlbnNpdHkoJGNvbmZpZy1vci10aGVtZSkge31cblxuQG1peGluIG1hdC1jaGVja2JveC10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKSB7XG4gICR0aGVtZTogX21hdC1sZWdhY3ktZ2V0LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICBAaW5jbHVkZSBfbWF0LWNoZWNrLWR1cGxpY2F0ZS10aGVtZS1zdHlsZXMoJHRoZW1lLCAnbWF0LWNoZWNrYm94Jykge1xuICAgICRjb2xvcjogbWF0LWdldC1jb2xvci1jb25maWcoJHRoZW1lKTtcbiAgICAkZGVuc2l0eTogbWF0LWdldC1kZW5zaXR5LWNvbmZpZygkdGhlbWUpO1xuICAgICR0eXBvZ3JhcGh5OiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCR0aGVtZSk7XG5cbiAgICBAaWYgJGNvbG9yICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LWNoZWNrYm94LWNvbG9yKCRjb2xvcik7XG4gICAgfVxuICAgIEBpZiAkZGVuc2l0eSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIF9tYXQtY2hlY2tib3gtZGVuc2l0eSgkZGVuc2l0eSk7XG4gICAgfVxuICAgIEBpZiAkdHlwb2dyYXBoeSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1jaGVja2JveC10eXBvZ3JhcGh5KCR0eXBvZ3JhcGh5KTtcbiAgICB9XG4gIH1cbn1cblxuXG5cblxuXG5cblxuJG1hdC1jaGlwLXJlbW92ZS1mb250LXNpemU6IDE4cHg7XG5cbkBtaXhpbiBfbWF0LWNoaXAtZWxlbWVudC1jb2xvcigkZm9yZWdyb3VuZCwgJGJhY2tncm91bmQpIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogJGJhY2tncm91bmQ7XG4gIGNvbG9yOiAkZm9yZWdyb3VuZDtcblxuICAubWF0LWNoaXAtcmVtb3ZlIHtcbiAgICBjb2xvcjogJGZvcmVncm91bmQ7XG4gICAgb3BhY2l0eTogMC40O1xuICB9XG59XG5cblxuLy8gQXBwbGllcyB0aGUgYmFja2dyb3VuZCBjb2xvciBmb3IgYSByaXBwbGUgZWxlbWVudC5cbi8vIElmIHRoZSBjb2xvciB2YWx1ZSBwcm92aWRlZCBpcyBub3QgYSBTYXNzIGNvbG9yLFxuLy8gd2UgYXNzdW1lIHRoYXQgd2UndmUgYmVlbiBnaXZlbiBhIENTUyB2YXJpYWJsZS5cbi8vIFNpbmNlIHdlIGNhbid0IHBlcmZvcm0gYWxwaGEtYmxlbmRpbmcgb24gYSBDU1MgdmFyaWFibGUsXG4vLyB3ZSBpbnN0ZWFkIGFkZCB0aGUgb3BhY2l0eSBkaXJlY3RseSB0byB0aGUgcmlwcGxlIGVsZW1lbnQuXG5AbWl4aW4gX21hdC1jaGlwcy1yaXBwbGUtYmFja2dyb3VuZCgkcGFsZXR0ZSwgJGRlZmF1bHQtY29udHJhc3QsICRvcGFjaXR5KSB7XG4gICRiYWNrZ3JvdW5kLWNvbG9yOiBtYXQtY29sb3IoJHBhbGV0dGUsICRkZWZhdWx0LWNvbnRyYXN0LCAkb3BhY2l0eSk7XG4gIGJhY2tncm91bmQtY29sb3I6ICRiYWNrZ3JvdW5kLWNvbG9yO1xuICBAaWYgKHR5cGUtb2YoJGJhY2tncm91bmQtY29sb3IpICE9IGNvbG9yKSB7XG4gICAgb3BhY2l0eTogJG9wYWNpdHk7XG4gIH1cbn1cblxuQG1peGluIF9tYXQtY2hpcC10aGVtZS1jb2xvcigkcGFsZXR0ZSkge1xuICBAaW5jbHVkZSBfbWF0LWNoaXAtZWxlbWVudC1jb2xvcihtYXQtY29sb3IoJHBhbGV0dGUsIGRlZmF1bHQtY29udHJhc3QpLCBtYXQtY29sb3IoJHBhbGV0dGUpKTtcblxuICAubWF0LXJpcHBsZS1lbGVtZW50IHtcbiAgICBAaW5jbHVkZSBfbWF0LWNoaXBzLXJpcHBsZS1iYWNrZ3JvdW5kKCRwYWxldHRlLCBkZWZhdWx0LWNvbnRyYXN0LCAwLjEpO1xuICB9XG59XG5cbkBtaXhpbiBtYXQtY2hpcHMtY29sb3IoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgJGlzLWRhcmstdGhlbWU6IG1hcC1nZXQoJGNvbmZpZywgaXMtZGFyayk7XG4gICRwcmltYXJ5OiBtYXAtZ2V0KCRjb25maWcsIHByaW1hcnkpO1xuICAkYWNjZW50OiBtYXAtZ2V0KCRjb25maWcsIGFjY2VudCk7XG4gICR3YXJuOiBtYXAtZ2V0KCRjb25maWcsIHdhcm4pO1xuICAkYmFja2dyb3VuZDogbWFwLWdldCgkY29uZmlnLCBiYWNrZ3JvdW5kKTtcbiAgJGZvcmVncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgZm9yZWdyb3VuZCk7XG5cbiAgJHVuc2VsZWN0ZWQtYmFja2dyb3VuZDogbWF0LWNvbG9yKCRiYWNrZ3JvdW5kLCB1bnNlbGVjdGVkLWNoaXApO1xuICAkdW5zZWxlY3RlZC1mb3JlZ3JvdW5kOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIHRleHQpO1xuXG4gIC5tYXQtY2hpcC5tYXQtc3RhbmRhcmQtY2hpcCB7XG4gICAgQGluY2x1ZGUgX21hdC1jaGlwLWVsZW1lbnQtY29sb3IoJHVuc2VsZWN0ZWQtZm9yZWdyb3VuZCwgJHVuc2VsZWN0ZWQtYmFja2dyb3VuZCk7XG5cbiAgICAmOm5vdCgubWF0LWNoaXAtZGlzYWJsZWQpIHtcbiAgICAgICY6YWN0aXZlIHtcbiAgICAgICAgQGluY2x1ZGUgX21hdC10aGVtZS1lbGV2YXRpb24oMywgJGNvbmZpZyk7XG4gICAgICB9XG5cbiAgICAgIC5tYXQtY2hpcC1yZW1vdmU6aG92ZXIge1xuICAgICAgICBvcGFjaXR5OiAwLjU0O1xuICAgICAgfVxuICAgIH1cblxuICAgICYubWF0LWNoaXAtZGlzYWJsZWQge1xuICAgICAgb3BhY2l0eTogMC40O1xuICAgIH1cblxuICAgICY6OmFmdGVyIHtcbiAgICAgIGJhY2tncm91bmQ6IG1hcF9nZXQoJGZvcmVncm91bmQsIGJhc2UpO1xuICAgIH1cbiAgfVxuXG4gIC5tYXQtY2hpcC5tYXQtc3RhbmRhcmQtY2hpcC5tYXQtY2hpcC1zZWxlY3RlZCB7XG4gICAgJi5tYXQtcHJpbWFyeSB7XG4gICAgICBAaW5jbHVkZSBfbWF0LWNoaXAtdGhlbWUtY29sb3IoJHByaW1hcnkpO1xuICAgIH1cblxuICAgICYubWF0LXdhcm4ge1xuICAgICAgQGluY2x1ZGUgX21hdC1jaGlwLXRoZW1lLWNvbG9yKCR3YXJuKTtcbiAgICB9XG5cbiAgICAmLm1hdC1hY2NlbnQge1xuICAgICAgQGluY2x1ZGUgX21hdC1jaGlwLXRoZW1lLWNvbG9yKCRhY2NlbnQpO1xuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gbWF0LWNoaXBzLXR5cG9ncmFwaHkoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAubWF0LWNoaXAge1xuICAgIGZvbnQtc2l6ZTogbWF0LWZvbnQtc2l6ZSgkY29uZmlnLCBib2R5LTIpO1xuICAgIGZvbnQtd2VpZ2h0OiBtYXQtZm9udC13ZWlnaHQoJGNvbmZpZywgYm9keS0yKTtcblxuICAgIC5tYXQtY2hpcC10cmFpbGluZy1pY29uLm1hdC1pY29uLFxuICAgIC5tYXQtY2hpcC1yZW1vdmUubWF0LWljb24ge1xuICAgICAgZm9udC1zaXplOiAkbWF0LWNoaXAtcmVtb3ZlLWZvbnQtc2l6ZTtcbiAgICB9XG4gIH1cbn1cblxuQG1peGluIF9tYXQtY2hpcHMtZGVuc2l0eSgkY29uZmlnLW9yLXRoZW1lKSB7fVxuXG5AbWl4aW4gbWF0LWNoaXBzLXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpIHtcbiAgJHRoZW1lOiBfbWF0LWxlZ2FjeS1nZXQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gIEBpbmNsdWRlIF9tYXQtY2hlY2stZHVwbGljYXRlLXRoZW1lLXN0eWxlcygkdGhlbWUsICdtYXQtY2hpcHMnKSB7XG4gICAgJGNvbG9yOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkdGhlbWUpO1xuICAgICRkZW5zaXR5OiBtYXQtZ2V0LWRlbnNpdHktY29uZmlnKCR0aGVtZSk7XG4gICAgJHR5cG9ncmFwaHk6IG1hdC1nZXQtdHlwb2dyYXBoeS1jb25maWcoJHRoZW1lKTtcblxuICAgIEBpZiAkY29sb3IgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtY2hpcHMtY29sb3IoJGNvbG9yKTtcbiAgICB9XG4gICAgQGlmICRkZW5zaXR5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgX21hdC1jaGlwcy1kZW5zaXR5KCRkZW5zaXR5KTtcbiAgICB9XG4gICAgQGlmICR0eXBvZ3JhcGh5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LWNoaXBzLXR5cG9ncmFwaHkoJHR5cG9ncmFwaHkpO1xuICAgIH1cbiAgfVxufVxuXG5cblxuXG5cblxuXG5AbWl4aW4gbWF0LWRpdmlkZXItY29sb3IoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgJGZvcmVncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgZm9yZWdyb3VuZCk7XG5cbiAgLm1hdC1kaXZpZGVyIHtcbiAgICBib3JkZXItdG9wLWNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIGRpdmlkZXIpO1xuICB9XG5cbiAgLm1hdC1kaXZpZGVyLXZlcnRpY2FsIHtcbiAgICBib3JkZXItcmlnaHQtY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgZGl2aWRlcik7XG4gIH1cbn1cblxuQG1peGluIG1hdC1kaXZpZGVyLXR5cG9ncmFwaHkoJGNvbmZpZy1vci10aGVtZSkge31cblxuQG1peGluIF9tYXQtZGl2aWRlci1kZW5zaXR5KCRjb25maWctb3ItdGhlbWUpIHt9XG5cbkBtaXhpbiBtYXQtZGl2aWRlci10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKSB7XG4gICR0aGVtZTogX21hdC1sZWdhY3ktZ2V0LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICBAaW5jbHVkZSBfbWF0LWNoZWNrLWR1cGxpY2F0ZS10aGVtZS1zdHlsZXMoJHRoZW1lLCAnbWF0LWRpdmlkZXInKSB7XG4gICAgJGNvbG9yOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkdGhlbWUpO1xuICAgICRkZW5zaXR5OiBtYXQtZ2V0LWRlbnNpdHktY29uZmlnKCR0aGVtZSk7XG4gICAgJHR5cG9ncmFwaHk6IG1hdC1nZXQtdHlwb2dyYXBoeS1jb25maWcoJHRoZW1lKTtcblxuICAgIEBpZiAkY29sb3IgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtZGl2aWRlci1jb2xvcigkY29sb3IpO1xuICAgIH1cbiAgICBAaWYgJGRlbnNpdHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBfbWF0LWRpdmlkZXItZGVuc2l0eSgkZGVuc2l0eSk7XG4gICAgfVxuICAgIEBpZiAkdHlwb2dyYXBoeSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1kaXZpZGVyLXR5cG9ncmFwaHkoJHR5cG9ncmFwaHkpO1xuICAgIH1cbiAgfVxufVxuXG5cblxuXG5cblxuQG1peGluIG1hdC10YWJsZS1jb2xvcigkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtY29sb3ItY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAkYmFja2dyb3VuZDogbWFwLWdldCgkY29uZmlnLCBiYWNrZ3JvdW5kKTtcbiAgJGZvcmVncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgZm9yZWdyb3VuZCk7XG5cbiAgLm1hdC10YWJsZSB7XG4gICAgYmFja2dyb3VuZDogbWF0LWNvbG9yKCRiYWNrZ3JvdW5kLCAnY2FyZCcpO1xuICB9XG5cbiAgLm1hdC10YWJsZSB0aGVhZCwgLm1hdC10YWJsZSB0Ym9keSwgLm1hdC10YWJsZSB0Zm9vdCxcbiAgbWF0LWhlYWRlci1yb3csIG1hdC1yb3csIG1hdC1mb290ZXItcm93LFxuICBbbWF0LWhlYWRlci1yb3ddLCBbbWF0LXJvd10sIFttYXQtZm9vdGVyLXJvd10sXG4gIC5tYXQtdGFibGUtc3RpY2t5IHtcbiAgICBiYWNrZ3JvdW5kOiBpbmhlcml0O1xuICB9XG5cbiAgbWF0LXJvdywgbWF0LWhlYWRlci1yb3csIG1hdC1mb290ZXItcm93LFxuICB0aC5tYXQtaGVhZGVyLWNlbGwsIHRkLm1hdC1jZWxsLCB0ZC5tYXQtZm9vdGVyLWNlbGwge1xuICAgIGJvcmRlci1ib3R0b20tY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgZGl2aWRlcik7XG4gIH1cblxuICAubWF0LWhlYWRlci1jZWxsIHtcbiAgICBjb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBzZWNvbmRhcnktdGV4dCk7XG4gIH1cblxuICAubWF0LWNlbGwsIC5tYXQtZm9vdGVyLWNlbGwge1xuICAgIGNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIHRleHQpO1xuICB9XG59XG5cbkBtaXhpbiBtYXQtdGFibGUtdHlwb2dyYXBoeSgkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtdHlwb2dyYXBoeS1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gIC5tYXQtdGFibGUge1xuICAgIGZvbnQtZmFtaWx5OiBtYXQtZm9udC1mYW1pbHkoJGNvbmZpZyk7XG4gIH1cblxuICAubWF0LWhlYWRlci1jZWxsIHtcbiAgICBmb250LXNpemU6IG1hdC1mb250LXNpemUoJGNvbmZpZywgY2FwdGlvbik7XG4gICAgZm9udC13ZWlnaHQ6IG1hdC1mb250LXdlaWdodCgkY29uZmlnLCBib2R5LTIpO1xuICB9XG5cbiAgLm1hdC1jZWxsLCAubWF0LWZvb3Rlci1jZWxsIHtcbiAgICBmb250LXNpemU6IG1hdC1mb250LXNpemUoJGNvbmZpZywgYm9keS0xKTtcbiAgfVxufVxuXG5AbWl4aW4gX21hdC10YWJsZS1kZW5zaXR5KCRjb25maWctb3ItdGhlbWUpIHt9XG5cbkBtaXhpbiBtYXQtdGFibGUtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZykge1xuICAkdGhlbWU6IF9tYXQtbGVnYWN5LWdldC10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKTtcbiAgQGluY2x1ZGUgX21hdC1jaGVjay1kdXBsaWNhdGUtdGhlbWUtc3R5bGVzKCR0aGVtZSwgJ21hdC10YWJsZScpIHtcbiAgICAkY29sb3I6IG1hdC1nZXQtY29sb3ItY29uZmlnKCR0aGVtZSk7XG4gICAgJGRlbnNpdHk6IG1hdC1nZXQtZGVuc2l0eS1jb25maWcoJHRoZW1lKTtcbiAgICAkdHlwb2dyYXBoeTogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkdGhlbWUpO1xuXG4gICAgQGlmICRjb2xvciAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC10YWJsZS1jb2xvcigkY29sb3IpO1xuICAgIH1cbiAgICBAaWYgJGRlbnNpdHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBfbWF0LXRhYmxlLWRlbnNpdHkoJGRlbnNpdHkpO1xuICAgIH1cbiAgICBAaWYgJHR5cG9ncmFwaHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtdGFibGUtdHlwb2dyYXBoeSgkdHlwb2dyYXBoeSk7XG4gICAgfVxuICB9XG59XG5cblxuXG5cblxuXG5cblxuJG1hdC1kYXRlcGlja2VyLXNlbGVjdGVkLXRvZGF5LWJveC1zaGFkb3ctd2lkdGg6IDFweDtcbiRtYXQtZGF0ZXBpY2tlci1zZWxlY3RlZC1mYWRlLWFtb3VudDogMC42O1xuJG1hdC1kYXRlcGlja2VyLXJhbmdlLWZhZGUtYW1vdW50OiAwLjI7XG4kbWF0LWRhdGVwaWNrZXItdG9kYXktZmFkZS1hbW91bnQ6IDAuMjtcbiRtYXQtY2FsZW5kYXItYm9keS1mb250LXNpemU6IDEzcHggIWRlZmF1bHQ7XG4kbWF0LWNhbGVuZGFyLXdlZWtkYXktdGFibGUtZm9udC1zaXplOiAxMXB4ICFkZWZhdWx0O1xuXG5AbWl4aW4gX21hdC1kYXRlcGlja2VyLWNvbG9yKCRwYWxldHRlKSB7XG4gIEBpbmNsdWRlIG1hdC1kYXRlLXJhbmdlLWNvbG9ycyhcbiAgICBtYXQtY29sb3IoJHBhbGV0dGUsIGRlZmF1bHQsICRtYXQtZGF0ZXBpY2tlci1yYW5nZS1mYWRlLWFtb3VudCkpO1xuXG4gIC5tYXQtY2FsZW5kYXItYm9keS1zZWxlY3RlZCB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogbWF0LWNvbG9yKCRwYWxldHRlKTtcbiAgICBjb2xvcjogbWF0LWNvbG9yKCRwYWxldHRlLCBkZWZhdWx0LWNvbnRyYXN0KTtcbiAgfVxuXG4gIC5tYXQtY2FsZW5kYXItYm9keS1kaXNhYmxlZCA+IC5tYXQtY2FsZW5kYXItYm9keS1zZWxlY3RlZCB7XG4gICAgJGJhY2tncm91bmQ6IG1hdC1jb2xvcigkcGFsZXR0ZSk7XG5cbiAgICBAaWYgKHR5cGUtb2YoJGJhY2tncm91bmQpID09IGNvbG9yKSB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBmYWRlLW91dCgkYmFja2dyb3VuZCwgJG1hdC1kYXRlcGlja2VyLXNlbGVjdGVkLWZhZGUtYW1vdW50KTtcbiAgICB9XG4gICAgQGVsc2Uge1xuICAgICAgLy8gSWYgd2UgY291bGRuJ3QgcmVzb2x2ZSB0byBiYWNrZ3JvdW5kIHRvIGEgY29sb3IgKGUuZy4gaXQncyBhIENTUyB2YXJpYWJsZSksXG4gICAgICAvLyBmYWxsIGJhY2sgdG8gZmFkaW5nIHRoZSBjb250ZW50IG91dCB2aWEgYG9wYWNpdHlgLlxuICAgICAgb3BhY2l0eTogJG1hdC1kYXRlcGlja2VyLXRvZGF5LWZhZGUtYW1vdW50O1xuICAgIH1cbiAgfVxuXG4gIC5tYXQtY2FsZW5kYXItYm9keS10b2RheS5tYXQtY2FsZW5kYXItYm9keS1zZWxlY3RlZCB7XG4gICAgYm94LXNoYWRvdzogaW5zZXQgMCAwIDAgJG1hdC1kYXRlcGlja2VyLXNlbGVjdGVkLXRvZGF5LWJveC1zaGFkb3ctd2lkdGhcbiAgICAgICAgICAgICAgICBtYXQtY29sb3IoJHBhbGV0dGUsIGRlZmF1bHQtY29udHJhc3QpO1xuICB9XG59XG5cbkBtaXhpbiBtYXQtZGF0ZXBpY2tlci1jb2xvcigkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtY29sb3ItY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAkZm9yZWdyb3VuZDogbWFwLWdldCgkY29uZmlnLCBmb3JlZ3JvdW5kKTtcbiAgJGJhY2tncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgYmFja2dyb3VuZCk7XG5cbiAgLm1hdC1jYWxlbmRhci1hcnJvdyB7XG4gICAgYm9yZGVyLXRvcC1jb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBpY29uKTtcbiAgfVxuXG4gIC8vIFRoZSBwcmV2L25leHQgYnV0dG9ucyBuZWVkIGEgYml0IG1vcmUgc3BlY2lmaWNpdHkgdG9cbiAgLy8gYXZvaWQgYmVpbmcgb3ZlcndyaXR0ZW4gYnkgdGhlIC5tYXQtaWNvbi1idXR0b24uXG4gIC5tYXQtZGF0ZXBpY2tlci10b2dnbGUsXG4gIC5tYXQtZGF0ZXBpY2tlci1jb250ZW50IC5tYXQtY2FsZW5kYXItbmV4dC1idXR0b24sXG4gIC5tYXQtZGF0ZXBpY2tlci1jb250ZW50IC5tYXQtY2FsZW5kYXItcHJldmlvdXMtYnV0dG9uIHtcbiAgICBjb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBpY29uKTtcbiAgfVxuXG4gIC5tYXQtY2FsZW5kYXItdGFibGUtaGVhZGVyIHtcbiAgICBjb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBoaW50LXRleHQpO1xuICB9XG5cbiAgLm1hdC1jYWxlbmRhci10YWJsZS1oZWFkZXItZGl2aWRlcjo6YWZ0ZXIge1xuICAgIGJhY2tncm91bmQ6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgZGl2aWRlcik7XG4gIH1cblxuICAubWF0LWNhbGVuZGFyLWJvZHktbGFiZWwge1xuICAgIGNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIHNlY29uZGFyeS10ZXh0KTtcbiAgfVxuXG4gIC5tYXQtY2FsZW5kYXItYm9keS1jZWxsLWNvbnRlbnQsXG4gIC5tYXQtZGF0ZS1yYW5nZS1pbnB1dC1zZXBhcmF0b3Ige1xuICAgIGNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIHRleHQpO1xuICAgIGJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIH1cblxuICAubWF0LWNhbGVuZGFyLWJvZHktZGlzYWJsZWQgPiAubWF0LWNhbGVuZGFyLWJvZHktY2VsbC1jb250ZW50Om5vdCgubWF0LWNhbGVuZGFyLWJvZHktc2VsZWN0ZWQpLFxuICAubWF0LWZvcm0tZmllbGQtZGlzYWJsZWQgLm1hdC1kYXRlLXJhbmdlLWlucHV0LXNlcGFyYXRvciB7XG4gICAgY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgZGlzYWJsZWQtdGV4dCk7XG4gIH1cblxuICAubWF0LWNhbGVuZGFyLWJvZHktY2VsbDpub3QoLm1hdC1jYWxlbmRhci1ib2R5LWRpc2FibGVkKTpob3ZlcixcbiAgLmNkay1rZXlib2FyZC1mb2N1c2VkIC5tYXQtY2FsZW5kYXItYm9keS1hY3RpdmUsXG4gIC5jZGstcHJvZ3JhbS1mb2N1c2VkIC5tYXQtY2FsZW5kYXItYm9keS1hY3RpdmUge1xuICAgICYgPiAubWF0LWNhbGVuZGFyLWJvZHktY2VsbC1jb250ZW50Om5vdCgubWF0LWNhbGVuZGFyLWJvZHktc2VsZWN0ZWQpIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IG1hdC1jb2xvcigkYmFja2dyb3VuZCwgaG92ZXIpO1xuICAgIH1cbiAgfVxuXG4gIC5tYXQtY2FsZW5kYXItYm9keS1pbi1wcmV2aWV3IHtcbiAgICAkZGl2aWRlci1jb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBkaXZpZGVyKTtcblxuICAgIEBpZiB0eXBlLW9mKCRkaXZpZGVyLWNvbG9yKSA9PSBjb2xvciB7XG4gICAgICAvLyBUaGUgZGl2aWRlciBjb2xvciBpcyBzZXQgdW5kZXIgdGhlIGFzc3VtcHRpb24gdGhhdCBpdCdsbCBiZSB1c2VkXG4gICAgICAvLyBmb3IgYSBzb2xpZCBib3JkZXIsIGJ1dCBiZWNhdXNlIHdlJ3JlIHVzaW5nIGEgZGFzaGVkIGJvcmRlciBmb3IgdGhlXG4gICAgICAvLyBwcmV2aWV3IHJhbmdlLCB3ZSBuZWVkIHRvIGJ1bXAgaXRzIG9wYWNpdHkgdG8gZW5zdXJlIHRoYXQgaXQncyB2aXNpYmxlLlxuICAgICAgY29sb3I6IHJnYmEoJGRpdmlkZXItY29sb3IsIG1pbihvcGFjaXR5KCRkaXZpZGVyLWNvbG9yKSAqIDIsIDEpKTtcbiAgICB9XG4gICAgQGVsc2Uge1xuICAgICAgY29sb3I6ICRkaXZpZGVyLWNvbG9yO1xuICAgIH1cbiAgfVxuXG4gIC5tYXQtY2FsZW5kYXItYm9keS10b2RheTpub3QoLm1hdC1jYWxlbmRhci1ib2R5LXNlbGVjdGVkKSB7XG4gICAgLy8gTm90ZTogdGhvdWdoIGl0J3Mgbm90IHRleHQsIHRoZSBib3JkZXIgaXMgYSBoaW50IGFib3V0IHRoZSBmYWN0IHRoYXQgdGhpcyBpcyB0b2RheSdzIGRhdGUsXG4gICAgLy8gc28gd2UgdXNlIHRoZSBoaW50IGNvbG9yLlxuICAgIGJvcmRlci1jb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBoaW50LXRleHQpO1xuICB9XG5cbiAgLm1hdC1jYWxlbmRhci1ib2R5LWRpc2FibGVkID4gLm1hdC1jYWxlbmRhci1ib2R5LXRvZGF5Om5vdCgubWF0LWNhbGVuZGFyLWJvZHktc2VsZWN0ZWQpIHtcbiAgICAkY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgaGludC10ZXh0KTtcblxuICAgIEBpZiAodHlwZS1vZigkY29sb3IpID09IGNvbG9yKSB7XG4gICAgICBib3JkZXItY29sb3I6IGZhZGUtb3V0KCRjb2xvciwgJG1hdC1kYXRlcGlja2VyLXRvZGF5LWZhZGUtYW1vdW50KTtcbiAgICB9XG4gICAgQGVsc2Uge1xuICAgICAgLy8gSWYgdGhlIGNvbG9yIGRpZG4ndCByZXNvbHZlIHRvIGEgY29sb3IgdmFsdWUsIGJ1dCBzb21ldGhpbmcgbGlrZSBhIENTUyB2YXJpYWJsZSwgd2UgY2FuJ3RcbiAgICAgIC8vIGZhZGUgaXQgb3V0IHNvIHdlIGZhbGwgYmFjayB0byByZWR1Y2luZyB0aGUgZWxlbWVudCBvcGFjaXR5LiBOb3RlIHRoYXQgd2UgZG9uJ3QgdXNlIHRoZVxuICAgICAgLy8gJG1hdC1kYXRlcGlja2VyLXRvZGF5LWZhZGUtYW1vdW50LCBiZWNhdXNlIGhpbnQgdGV4dCB1c3VhbGx5IGhhcyBzb21lIG9wYWNpdHkgYXBwbGllZFxuICAgICAgLy8gdG8gaXQgYWxyZWFkeSBhbmQgd2UgZG9uJ3Qgd2FudCB0aGVtIHRvIHN0YWNrIG9uIHRvcCBvZiBlYWNoIG90aGVyLlxuICAgICAgb3BhY2l0eTogMC41O1xuICAgIH1cbiAgfVxuXG4gIEBpbmNsdWRlIF9tYXQtZGF0ZXBpY2tlci1jb2xvcihtYXAtZ2V0KCRjb25maWcsIHByaW1hcnkpKTtcblxuICAubWF0LWRhdGVwaWNrZXItY29udGVudCB7XG4gICAgQGluY2x1ZGUgX21hdC10aGVtZS1lbGV2YXRpb24oNCwgJGNvbmZpZyk7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogbWF0LWNvbG9yKCRiYWNrZ3JvdW5kLCBjYXJkKTtcbiAgICBjb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCB0ZXh0KTtcblxuICAgICYubWF0LWFjY2VudCB7XG4gICAgICBAaW5jbHVkZSBfbWF0LWRhdGVwaWNrZXItY29sb3IobWFwLWdldCgkY29uZmlnLCBhY2NlbnQpKTtcbiAgICB9XG5cbiAgICAmLm1hdC13YXJuIHtcbiAgICAgIEBpbmNsdWRlIF9tYXQtZGF0ZXBpY2tlci1jb2xvcihtYXAtZ2V0KCRjb25maWcsIHdhcm4pKTtcbiAgICB9XG4gIH1cblxuICAubWF0LWRhdGVwaWNrZXItY29udGVudC10b3VjaCB7XG4gICAgQGluY2x1ZGUgX21hdC10aGVtZS1lbGV2YXRpb24oMCwgJGNvbmZpZyk7XG4gIH1cblxuICAubWF0LWRhdGVwaWNrZXItdG9nZ2xlLWFjdGl2ZSB7XG4gICAgY29sb3I6IG1hdC1jb2xvcihtYXAtZ2V0KCRjb25maWcsIHByaW1hcnkpLCB0ZXh0KTtcblxuICAgICYubWF0LWFjY2VudCB7XG4gICAgICBjb2xvcjogbWF0LWNvbG9yKG1hcC1nZXQoJGNvbmZpZywgYWNjZW50KSwgdGV4dCk7XG4gICAgfVxuXG4gICAgJi5tYXQtd2FybiB7XG4gICAgICBjb2xvcjogbWF0LWNvbG9yKG1hcC1nZXQoJGNvbmZpZywgd2FybiksIHRleHQpO1xuICAgIH1cbiAgfVxuXG4gIC5tYXQtZGF0ZS1yYW5nZS1pbnB1dC1pbm5lcltkaXNhYmxlZF0ge1xuICAgIGNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIGRpc2FibGVkLXRleHQpO1xuICB9XG59XG5cbkBtaXhpbiBtYXQtZGF0ZXBpY2tlci10eXBvZ3JhcGh5KCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgLm1hdC1jYWxlbmRhciB7XG4gICAgZm9udC1mYW1pbHk6IG1hdC1mb250LWZhbWlseSgkY29uZmlnKTtcbiAgfVxuXG4gIC5tYXQtY2FsZW5kYXItYm9keSB7XG4gICAgZm9udC1zaXplOiAkbWF0LWNhbGVuZGFyLWJvZHktZm9udC1zaXplO1xuICB9XG5cbiAgLm1hdC1jYWxlbmRhci1ib2R5LWxhYmVsLFxuICAubWF0LWNhbGVuZGFyLXBlcmlvZC1idXR0b24ge1xuICAgIGZvbnQ6IHtcbiAgICAgIHNpemU6IG1hdC1mb250LXNpemUoJGNvbmZpZywgYnV0dG9uKTtcbiAgICAgIHdlaWdodDogbWF0LWZvbnQtd2VpZ2h0KCRjb25maWcsIGJ1dHRvbik7XG4gICAgfVxuICB9XG5cbiAgLm1hdC1jYWxlbmRhci10YWJsZS1oZWFkZXIgdGgge1xuICAgIGZvbnQ6IHtcbiAgICAgIHNpemU6ICRtYXQtY2FsZW5kYXItd2Vla2RheS10YWJsZS1mb250LXNpemU7XG4gICAgICB3ZWlnaHQ6IG1hdC1mb250LXdlaWdodCgkY29uZmlnLCBib2R5LTEpO1xuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gbWF0LWRhdGUtcmFuZ2UtY29sb3JzKFxuICAkcmFuZ2UtY29sb3IsXG4gICRjb21wYXJpc29uLWNvbG9yOiByZ2JhKCNmOWFiMDAsICRtYXQtZGF0ZXBpY2tlci1yYW5nZS1mYWRlLWFtb3VudCksXG4gICRvdmVybGFwLWNvbG9yOiAjYThkYWI1LFxuICAkb3ZlcmxhcC1zZWxlY3RlZC1jb2xvcjogZGFya2VuKCRvdmVybGFwLWNvbG9yLCAzMCUpKSB7XG5cbiAgLm1hdC1jYWxlbmRhci1ib2R5LWluLXJhbmdlOjpiZWZvcmUge1xuICAgIGJhY2tncm91bmQ6ICRyYW5nZS1jb2xvcjtcbiAgfVxuXG4gIC5tYXQtY2FsZW5kYXItYm9keS1pbi1jb21wYXJpc29uLXJhbmdlOjpiZWZvcmUge1xuICAgIGJhY2tncm91bmQ6ICRjb21wYXJpc29uLWNvbG9yO1xuICB9XG5cbiAgLm1hdC1jYWxlbmRhci1ib2R5LWNvbXBhcmlzb24tYnJpZGdlLXN0YXJ0OjpiZWZvcmUsXG4gIFtkaXI9J3J0bCddIC5tYXQtY2FsZW5kYXItYm9keS1jb21wYXJpc29uLWJyaWRnZS1lbmQ6OmJlZm9yZSB7XG4gICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCAkcmFuZ2UtY29sb3IgNTAlLCAkY29tcGFyaXNvbi1jb2xvciA1MCUpO1xuICB9XG5cbiAgLm1hdC1jYWxlbmRhci1ib2R5LWNvbXBhcmlzb24tYnJpZGdlLWVuZDo6YmVmb3JlLFxuICBbZGlyPSdydGwnXSAubWF0LWNhbGVuZGFyLWJvZHktY29tcGFyaXNvbi1icmlkZ2Utc3RhcnQ6OmJlZm9yZSB7XG4gICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIGxlZnQsICRyYW5nZS1jb2xvciA1MCUsICRjb21wYXJpc29uLWNvbG9yIDUwJSk7XG4gIH1cblxuICAubWF0LWNhbGVuZGFyLWJvZHktaW4tY29tcGFyaXNvbi1yYW5nZS5tYXQtY2FsZW5kYXItYm9keS1pbi1yYW5nZTo6YWZ0ZXIge1xuICAgIGJhY2tncm91bmQ6ICRvdmVybGFwLWNvbG9yO1xuICB9XG5cbiAgLm1hdC1jYWxlbmRhci1ib2R5LWluLWNvbXBhcmlzb24tcmFuZ2UgPiAubWF0LWNhbGVuZGFyLWJvZHktc2VsZWN0ZWQge1xuICAgIGJhY2tncm91bmQ6ICRvdmVybGFwLXNlbGVjdGVkLWNvbG9yO1xuXG4gIH1cbn1cblxuQG1peGluIF9tYXQtZGF0ZXBpY2tlci1kZW5zaXR5KCRjb25maWctb3ItdGhlbWUpIHt9XG5cbkBtaXhpbiBtYXQtZGF0ZXBpY2tlci10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKSB7XG4gICR0aGVtZTogX21hdC1sZWdhY3ktZ2V0LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICBAaW5jbHVkZSBfbWF0LWNoZWNrLWR1cGxpY2F0ZS10aGVtZS1zdHlsZXMoJHRoZW1lLCAnbWF0LWRhdGVwaWNrZXInKSB7XG4gICAgJGNvbG9yOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkdGhlbWUpO1xuICAgICRkZW5zaXR5OiBtYXQtZ2V0LWRlbnNpdHktY29uZmlnKCR0aGVtZSk7XG4gICAgJHR5cG9ncmFwaHk6IG1hdC1nZXQtdHlwb2dyYXBoeS1jb25maWcoJHRoZW1lKTtcblxuICAgIEBpZiAkY29sb3IgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtZGF0ZXBpY2tlci1jb2xvcigkY29sb3IpO1xuICAgIH1cbiAgICBAaWYgJGRlbnNpdHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBfbWF0LWRhdGVwaWNrZXItZGVuc2l0eSgkZGVuc2l0eSk7XG4gICAgfVxuICAgIEBpZiAkdHlwb2dyYXBoeSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1kYXRlcGlja2VyLXR5cG9ncmFwaHkoJHR5cG9ncmFwaHkpO1xuICAgIH1cbiAgfVxufVxuXG5cblxuXG5cblxuXG5cbkBtaXhpbiBtYXQtZGlhbG9nLWNvbG9yKCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC1jb2xvci1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gICRiYWNrZ3JvdW5kOiBtYXAtZ2V0KCRjb25maWcsIGJhY2tncm91bmQpO1xuICAkZm9yZWdyb3VuZDogbWFwLWdldCgkY29uZmlnLCBmb3JlZ3JvdW5kKTtcblxuICAubWF0LWRpYWxvZy1jb250YWluZXIge1xuICAgIEBpbmNsdWRlIF9tYXQtdGhlbWUtZWxldmF0aW9uKDI0LCAkY29uZmlnKTtcbiAgICBiYWNrZ3JvdW5kOiBtYXQtY29sb3IoJGJhY2tncm91bmQsIGRpYWxvZyk7XG4gICAgY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgdGV4dCk7XG4gIH1cbn1cblxuQG1peGluIG1hdC1kaWFsb2ctdHlwb2dyYXBoeSgkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtdHlwb2dyYXBoeS1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gIC5tYXQtZGlhbG9nLXRpdGxlIHtcbiAgICBAaW5jbHVkZSBtYXQtdHlwb2dyYXBoeS1sZXZlbC10by1zdHlsZXMoJGNvbmZpZywgdGl0bGUpO1xuICB9XG59XG5cbkBtaXhpbiBfbWF0LWRpYWxvZy1kZW5zaXR5KCRjb25maWctb3ItdGhlbWUpIHt9XG5cbkBtaXhpbiBtYXQtZGlhbG9nLXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpIHtcbiAgJHRoZW1lOiBfbWF0LWxlZ2FjeS1nZXQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gIEBpbmNsdWRlIF9tYXQtY2hlY2stZHVwbGljYXRlLXRoZW1lLXN0eWxlcygkdGhlbWUsICdtYXQtZGlhbG9nJykge1xuICAgICRjb2xvcjogbWF0LWdldC1jb2xvci1jb25maWcoJHRoZW1lKTtcbiAgICAkZGVuc2l0eTogbWF0LWdldC1kZW5zaXR5LWNvbmZpZygkdGhlbWUpO1xuICAgICR0eXBvZ3JhcGh5OiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCR0aGVtZSk7XG5cbiAgICBAaWYgJGNvbG9yICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LWRpYWxvZy1jb2xvcigkY29sb3IpO1xuICAgIH1cbiAgICBAaWYgJGRlbnNpdHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBfbWF0LWRpYWxvZy1kZW5zaXR5KCRkZW5zaXR5KTtcbiAgICB9XG4gICAgQGlmICR0eXBvZ3JhcGh5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LWRpYWxvZy10eXBvZ3JhcGh5KCR0eXBvZ3JhcGh5KTtcbiAgICB9XG4gIH1cbn1cblxuXG5cblxuXG5cblxuLy8gRGVmYXVsdCBtaW5pbXVtIGFuZCBtYXhpbXVtIGhlaWdodCBmb3IgY29sbGFwc2VkIHBhbmVsIGhlYWRlcnMuXG4kbWF0LWV4cGFuc2lvbi1wYW5lbC1oZWFkZXItY29sbGFwc2VkLWhlaWdodDogNDhweCAhZGVmYXVsdDtcbiRtYXQtZXhwYW5zaW9uLXBhbmVsLWhlYWRlci1jb2xsYXBzZWQtbWluaW11bS1oZWlnaHQ6IDM2cHggIWRlZmF1bHQ7XG4kbWF0LWV4cGFuc2lvbi1wYW5lbC1oZWFkZXItY29sbGFwc2VkLW1heGltdW0taGVpZ2h0OlxuICAgICRtYXQtZXhwYW5zaW9uLXBhbmVsLWhlYWRlci1jb2xsYXBzZWQtaGVpZ2h0ICFkZWZhdWx0O1xuXG4vLyBEZWZhdWx0IG1pbmltdW0gYW5kIG1heGltdW0gaGVpZ2h0IGZvciBleHBhbmRlZCBwYW5lbCBoZWFkZXJzLlxuJG1hdC1leHBhbnNpb24tcGFuZWwtaGVhZGVyLWV4cGFuZGVkLWhlaWdodDogNjRweCAhZGVmYXVsdDtcbiRtYXQtZXhwYW5zaW9uLXBhbmVsLWhlYWRlci1leHBhbmRlZC1taW5pbXVtLWhlaWdodDogNDhweCAhZGVmYXVsdDtcbiRtYXQtZXhwYW5zaW9uLXBhbmVsLWhlYWRlci1leHBhbmRlZC1tYXhpbXVtLWhlaWdodDpcbiAgICAkbWF0LWV4cGFuc2lvbi1wYW5lbC1oZWFkZXItZXhwYW5kZWQtaGVpZ2h0ICFkZWZhdWx0O1xuXG4vLyBEZW5zaXR5IGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBleHBhbnNpb24gcGFuZWwuIENhcHR1cmVzIHRoZVxuLy8gaGVpZ2h0IGZvciBib3RoIGV4cGFuZGVkIGFuZCBjb2xsYXBzZWQgcGFuZWwgaGVhZGVycy5cbiRtYXQtZXhwYW5zaW9uLXBhbmVsLWhlYWRlci1kZW5zaXR5LWNvbmZpZzogKFxuICBjb2xsYXBzZWQtaGVpZ2h0OiAoXG4gICAgZGVmYXVsdDogJG1hdC1leHBhbnNpb24tcGFuZWwtaGVhZGVyLWNvbGxhcHNlZC1oZWlnaHQsXG4gICAgbWF4aW11bTogJG1hdC1leHBhbnNpb24tcGFuZWwtaGVhZGVyLWNvbGxhcHNlZC1tYXhpbXVtLWhlaWdodCxcbiAgICBtaW5pbXVtOiAkbWF0LWV4cGFuc2lvbi1wYW5lbC1oZWFkZXItY29sbGFwc2VkLW1pbmltdW0taGVpZ2h0LFxuICApLFxuICBleHBhbmRlZC1oZWlnaHQ6IChcbiAgICBkZWZhdWx0OiAkbWF0LWV4cGFuc2lvbi1wYW5lbC1oZWFkZXItZXhwYW5kZWQtaGVpZ2h0LFxuICAgIG1heGltdW06ICRtYXQtZXhwYW5zaW9uLXBhbmVsLWhlYWRlci1leHBhbmRlZC1tYXhpbXVtLWhlaWdodCxcbiAgICBtaW5pbXVtOiAkbWF0LWV4cGFuc2lvbi1wYW5lbC1oZWFkZXItZXhwYW5kZWQtbWluaW11bS1oZWlnaHQsXG4gIClcbikgIWRlZmF1bHQ7XG5cbi8vIE5vdGU6IEtlZXAgdGhpcyBpbiBzeW5jIHdpdGggdGhlIGFuaW1hdGlvbiB0aW1pbmcgZm9yIHRoZSB0b2dnbGUgaW5kaWNhdG9yXG4vLyBhbmQgYm9keSBleHBhbnNpb24uIFRoZXNlIGFyZSBhbmltYXRlZCB1c2luZyBBbmd1bGFyIGFuaW1hdGlvbnMuXG4kbWF0LWV4cGFuc2lvbi1wYW5lbC1oZWFkZXItdHJhbnNpdGlvbjogMjI1bXMgY3ViaWMtYmV6aWVyKDAuNCwgMCwgMC4yLCAxKTtcblxuXG5AbWl4aW4gbWF0LWV4cGFuc2lvbi1wYW5lbC1jb2xvcigkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtY29sb3ItY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAkYmFja2dyb3VuZDogbWFwLWdldCgkY29uZmlnLCBiYWNrZ3JvdW5kKTtcbiAgJGZvcmVncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgZm9yZWdyb3VuZCk7XG5cbiAgLm1hdC1leHBhbnNpb24tcGFuZWwge1xuICAgIEBpbmNsdWRlIF9tYXQtdGhlbWUtb3ZlcnJpZGFibGUtZWxldmF0aW9uKDIsICRjb25maWcpO1xuICAgIGJhY2tncm91bmQ6IG1hdC1jb2xvcigkYmFja2dyb3VuZCwgY2FyZCk7XG4gICAgY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgdGV4dCk7XG4gIH1cblxuICAubWF0LWFjdGlvbi1yb3cge1xuICAgIGJvcmRlci10b3AtY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgZGl2aWRlcik7XG4gIH1cblxuICAubWF0LWV4cGFuc2lvbi1wYW5lbCB7XG4gICAgJiAubWF0LWV4cGFuc2lvbi1wYW5lbC1oZWFkZXIuY2RrLWtleWJvYXJkLWZvY3VzZWQsXG4gICAgJiAubWF0LWV4cGFuc2lvbi1wYW5lbC1oZWFkZXIuY2RrLXByb2dyYW0tZm9jdXNlZCxcbiAgICAmOm5vdCgubWF0LWV4cGFuZGVkKSAubWF0LWV4cGFuc2lvbi1wYW5lbC1oZWFkZXI6aG92ZXIge1xuICAgICAgJjpub3QoW2FyaWEtZGlzYWJsZWQ9J3RydWUnXSkge1xuICAgICAgICBiYWNrZ3JvdW5kOiBtYXQtY29sb3IoJGJhY2tncm91bmQsIGhvdmVyKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBEaXNhYmxlIHRoZSBob3ZlciBvbiB0b3VjaCBkZXZpY2VzIHNpbmNlIGl0IGNhbiBhcHBlYXIgbGlrZSBpdCBpcyBzdHVjay4gV2UgY2FuJ3QgdXNlXG4gIC8vIGBAbWVkaWEgKGhvdmVyKWAgYWJvdmUsIGJlY2F1c2UgdGhlIGRlc2t0b3Agc3VwcG9ydCBicm93c2VyIHN1cHBvcnQgaXNuJ3QgZ3JlYXQuXG4gIEBtZWRpYSAoaG92ZXI6IG5vbmUpIHtcbiAgICAubWF0LWV4cGFuc2lvbi1wYW5lbDpub3QoLm1hdC1leHBhbmRlZCk6bm90KFthcmlhLWRpc2FibGVkPSd0cnVlJ10pXG4gICAgICAubWF0LWV4cGFuc2lvbi1wYW5lbC1oZWFkZXI6aG92ZXIge1xuICAgICAgYmFja2dyb3VuZDogbWF0LWNvbG9yKCRiYWNrZ3JvdW5kLCBjYXJkKTtcbiAgICB9XG4gIH1cblxuICAubWF0LWV4cGFuc2lvbi1wYW5lbC1oZWFkZXItdGl0bGUge1xuICAgIGNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIHRleHQpO1xuICB9XG5cbiAgLm1hdC1leHBhbnNpb24tcGFuZWwtaGVhZGVyLWRlc2NyaXB0aW9uLFxuICAubWF0LWV4cGFuc2lvbi1pbmRpY2F0b3I6OmFmdGVyIHtcbiAgICBjb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBzZWNvbmRhcnktdGV4dCk7XG4gIH1cblxuICAubWF0LWV4cGFuc2lvbi1wYW5lbC1oZWFkZXJbYXJpYS1kaXNhYmxlZD0ndHJ1ZSddIHtcbiAgICBjb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBkaXNhYmxlZC1idXR0b24pO1xuXG4gICAgLm1hdC1leHBhbnNpb24tcGFuZWwtaGVhZGVyLXRpdGxlLFxuICAgIC5tYXQtZXhwYW5zaW9uLXBhbmVsLWhlYWRlci1kZXNjcmlwdGlvbiB7XG4gICAgICBjb2xvcjogaW5oZXJpdDtcbiAgICB9XG4gIH1cbn1cblxuQG1peGluIG1hdC1leHBhbnNpb24tcGFuZWwtdHlwb2dyYXBoeSgkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtdHlwb2dyYXBoeS1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gIC5tYXQtZXhwYW5zaW9uLXBhbmVsLWhlYWRlciB7XG4gICAgZm9udDoge1xuICAgICAgZmFtaWx5OiBtYXQtZm9udC1mYW1pbHkoJGNvbmZpZywgc3ViaGVhZGluZy0xKTtcbiAgICAgIHNpemU6IG1hdC1mb250LXNpemUoJGNvbmZpZywgc3ViaGVhZGluZy0xKTtcbiAgICAgIHdlaWdodDogbWF0LWZvbnQtd2VpZ2h0KCRjb25maWcsIHN1YmhlYWRpbmctMSk7XG4gICAgfVxuICB9XG5cbiAgLm1hdC1leHBhbnNpb24tcGFuZWwtY29udGVudCB7XG4gICAgQGluY2x1ZGUgbWF0LXR5cG9ncmFwaHktbGV2ZWwtdG8tc3R5bGVzKCRjb25maWcsIGJvZHktMSk7XG4gIH1cbn1cblxuQG1peGluIF9tYXQtZXhwYW5zaW9uLXBhbmVsLWRlbnNpdHkoJGNvbmZpZy1vci10aGVtZSkge1xuICAkZGVuc2l0eS1zY2FsZTogbWF0LWdldC1kZW5zaXR5LWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgJGV4cGFuZGVkLWhlaWdodDogX21hdC1kZW5zaXR5LXByb3AtdmFsdWUoXG4gICAgICAgICRtYXQtZXhwYW5zaW9uLXBhbmVsLWhlYWRlci1kZW5zaXR5LWNvbmZpZywgJGRlbnNpdHktc2NhbGUsIGV4cGFuZGVkLWhlaWdodCk7XG4gICRjb2xsYXBzZWQtaGVpZ2h0OiBfbWF0LWRlbnNpdHktcHJvcC12YWx1ZShcbiAgICAgICRtYXQtZXhwYW5zaW9uLXBhbmVsLWhlYWRlci1kZW5zaXR5LWNvbmZpZywgJGRlbnNpdHktc2NhbGUsIGNvbGxhcHNlZC1oZWlnaHQpO1xuXG4gIEBpbmNsdWRlIF9tYXQtZGVuc2l0eS1sZWdhY3ktY29tcGF0aWJpbGl0eSgpIHtcbiAgICAubWF0LWV4cGFuc2lvbi1wYW5lbC1oZWFkZXIge1xuICAgICAgaGVpZ2h0OiAkY29sbGFwc2VkLWhlaWdodDtcblxuICAgICAgJi5tYXQtZXhwYW5kZWQge1xuICAgICAgICBoZWlnaHQ6ICRleHBhbmRlZC1oZWlnaHQ7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiBtYXQtZXhwYW5zaW9uLXBhbmVsLXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpIHtcbiAgJHRoZW1lOiBfbWF0LWxlZ2FjeS1nZXQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gIEBpbmNsdWRlIF9tYXQtY2hlY2stZHVwbGljYXRlLXRoZW1lLXN0eWxlcygkdGhlbWUsICdtYXQtZXhwYW5zaW9uLXBhbmVsJykge1xuICAgICRjb2xvcjogbWF0LWdldC1jb2xvci1jb25maWcoJHRoZW1lKTtcbiAgICAkZGVuc2l0eTogbWF0LWdldC1kZW5zaXR5LWNvbmZpZygkdGhlbWUpO1xuICAgICR0eXBvZ3JhcGh5OiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCR0aGVtZSk7XG5cbiAgICBAaWYgJGNvbG9yICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LWV4cGFuc2lvbi1wYW5lbC1jb2xvcigkY29sb3IpO1xuICAgIH1cbiAgICBAaWYgJGRlbnNpdHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBfbWF0LWV4cGFuc2lvbi1wYW5lbC1kZW5zaXR5KCRkZW5zaXR5KTtcbiAgICB9XG4gICAgQGlmICR0eXBvZ3JhcGh5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LWV4cGFuc2lvbi1wYW5lbC10eXBvZ3JhcGh5KCR0eXBvZ3JhcGh5KTtcbiAgICB9XG4gIH1cbn1cblxuXG5cblxuXG4vLyBUaGlzIG1peGluIHdpbGwgZW5zdXJlIHRoYXQgbGluZXMgdGhhdCBvdmVyZmxvdyB0aGUgY29udGFpbmVyIHdpbGwgaGlkZSB0aGUgb3ZlcmZsb3cgYW5kXG4vLyB0cnVuY2F0ZSBuZWF0bHkgd2l0aCBhbiBlbGxpcHNpcy5cbkBtaXhpbiBtYXQtdHJ1bmNhdGUtbGluZSgpIHtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG59XG5cbi8vIE1peGluIHRvIHByb3ZpZGUgYWxsIG1hdC1saW5lIHN0eWxlcywgY2hhbmdpbmcgc2Vjb25kYXJ5IGZvbnQgc2l6ZSBiYXNlZCBvbiB3aGV0aGVyIHRoZSBsaXN0XG4vLyBpcyBpbiBkZW5zZSBtb2RlLlxuQG1peGluIG1hdC1saW5lLWJhc2UoJHNlY29uZGFyeS1mb250LXNpemUpIHtcbiAgLm1hdC1saW5lIHtcbiAgICBAaW5jbHVkZSBtYXQtdHJ1bmNhdGUtbGluZSgpO1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG5cbiAgICAvLyBhbGwgbGluZXMgYnV0IHRoZSB0b3AgbGluZSBzaG91bGQgaGF2ZSBzbWFsbGVyIHRleHRcbiAgICAmOm50aC1jaGlsZChuKzIpIHtcbiAgICAgIGZvbnQtc2l6ZTogJHNlY29uZGFyeS1mb250LXNpemU7XG4gICAgfVxuICB9XG59XG5cbi8vIFRoaXMgbWl4aW4gbm9ybWFsaXplcyBkZWZhdWx0IGVsZW1lbnQgc3R5bGVzLCBlLmcuIGZvbnQgd2VpZ2h0IGZvciBoZWFkaW5nIHRleHQuXG5AbWl4aW4gbWF0LW5vcm1hbGl6ZS10ZXh0KCkge1xuICAmID4gKiB7XG4gICAgbWFyZ2luOiAwO1xuICAgIHBhZGRpbmc6IDA7XG4gICAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcbiAgICBmb250LXNpemU6IGluaGVyaXQ7XG4gIH1cbn1cblxuLy8gVGhpcyBtaXhpbiBwcm92aWRlcyBiYXNlIHN0eWxlcyBmb3IgdGhlIHdyYXBwZXIgYXJvdW5kIG1hdC1saW5lIGVsZW1lbnRzIGluIGEgbGlzdC5cbkBtaXhpbiBtYXQtbGluZS13cmFwcGVyLWJhc2UoKSB7XG4gIEBpbmNsdWRlIG1hdC1ub3JtYWxpemUtdGV4dCgpO1xuXG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGZsZXg6IGF1dG87XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIG92ZXJmbG93OiBoaWRkZW47XG5cbiAgLy8gTXVzdCByZW1vdmUgd3JhcHBlciB3aGVuIGxpbmVzIGFyZSBlbXB0eSBvciBpdCB0YWtlcyB1cCBob3Jpem9udGFsXG4gIC8vIHNwYWNlIGFuZCBwdXNoZXMgb3RoZXIgZWxlbWVudHMgdG8gdGhlIHJpZ2h0LlxuICAmOmVtcHR5IHtcbiAgICBkaXNwbGF5OiBub25lO1xuICB9XG59XG5cblxuXG4vLyBJbmNsdWRlIHRoaXMgZW1wdHkgbWl4aW4gZm9yIGNvbnNpc3RlbmN5IHdpdGggdGhlIG90aGVyIGNvbXBvbmVudHMuXG5AbWl4aW4gbWF0LWdyaWQtbGlzdC1jb2xvcigkY29uZmlnLW9yLXRoZW1lKSB7fVxuXG5AbWl4aW4gbWF0LWdyaWQtbGlzdC10eXBvZ3JhcGh5KCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgLm1hdC1ncmlkLXRpbGUtaGVhZGVyLFxuICAubWF0LWdyaWQtdGlsZS1mb290ZXIge1xuICAgIEBpbmNsdWRlIG1hdC1saW5lLWJhc2UobWF0LWZvbnQtc2l6ZSgkY29uZmlnLCBjYXB0aW9uKSk7XG4gICAgZm9udC1zaXplOiBtYXQtZm9udC1zaXplKCRjb25maWcsIGJvZHktMSk7XG4gIH1cbn1cblxuQG1peGluIF9tYXQtZ3JpZC1saXN0LWRlbnNpdHkoJGNvbmZpZy1vci10aGVtZSkge31cblxuQG1peGluIG1hdC1ncmlkLWxpc3QtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZykge1xuICAkdGhlbWU6IF9tYXQtbGVnYWN5LWdldC10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKTtcbiAgQGluY2x1ZGUgX21hdC1jaGVjay1kdXBsaWNhdGUtdGhlbWUtc3R5bGVzKCR0aGVtZSwgJ21hdC1ncmlkLWxpc3QnKSB7XG4gICAgJGNvbG9yOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkdGhlbWUpO1xuICAgICRkZW5zaXR5OiBtYXQtZ2V0LWRlbnNpdHktY29uZmlnKCR0aGVtZSk7XG4gICAgJHR5cG9ncmFwaHk6IG1hdC1nZXQtdHlwb2dyYXBoeS1jb25maWcoJHRoZW1lKTtcblxuICAgIEBpZiAkY29sb3IgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtZ3JpZC1saXN0LWNvbG9yKCRjb2xvcik7XG4gICAgfVxuICAgIEBpZiAkZGVuc2l0eSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIF9tYXQtZ3JpZC1saXN0LWRlbnNpdHkoJGRlbnNpdHkpO1xuICAgIH1cbiAgICBAaWYgJHR5cG9ncmFwaHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtZ3JpZC1saXN0LXR5cG9ncmFwaHkoJHR5cG9ncmFwaHkpO1xuICAgIH1cbiAgfVxufVxuXG5cblxuXG5AbWl4aW4gbWF0LWljb24tY29sb3IoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgJHByaW1hcnk6IG1hcC1nZXQoJGNvbmZpZywgcHJpbWFyeSk7XG4gICRhY2NlbnQ6IG1hcC1nZXQoJGNvbmZpZywgYWNjZW50KTtcbiAgJHdhcm46IG1hcC1nZXQoJGNvbmZpZywgd2Fybik7XG4gICRiYWNrZ3JvdW5kOiBtYXAtZ2V0KCRjb25maWcsIGJhY2tncm91bmQpO1xuICAkZm9yZWdyb3VuZDogbWFwLWdldCgkY29uZmlnLCBmb3JlZ3JvdW5kKTtcblxuICAubWF0LWljb24ge1xuICAgICYubWF0LXByaW1hcnkge1xuICAgICAgY29sb3I6IG1hdC1jb2xvcigkcHJpbWFyeSwgdGV4dCk7XG4gICAgfVxuXG4gICAgJi5tYXQtYWNjZW50IHtcbiAgICAgIGNvbG9yOiBtYXQtY29sb3IoJGFjY2VudCwgdGV4dCk7XG4gICAgfVxuXG4gICAgJi5tYXQtd2FybiB7XG4gICAgICBjb2xvcjogbWF0LWNvbG9yKCR3YXJuLCB0ZXh0KTtcbiAgICB9XG4gIH1cbn1cblxuQG1peGluIG1hdC1pY29uLXR5cG9ncmFwaHkoJGNvbmZpZy1vci10aGVtZSkge31cblxuQG1peGluIF9tYXQtaWNvbi1kZW5zaXR5KCRjb25maWctb3ItdGhlbWUpIHt9XG5cbkBtaXhpbiBtYXQtaWNvbi10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKSB7XG4gICR0aGVtZTogX21hdC1sZWdhY3ktZ2V0LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICBAaW5jbHVkZSBfbWF0LWNoZWNrLWR1cGxpY2F0ZS10aGVtZS1zdHlsZXMoJHRoZW1lLCAnbWF0LWljb24nKSB7XG4gICAgJGNvbG9yOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkdGhlbWUpO1xuICAgICRkZW5zaXR5OiBtYXQtZ2V0LWRlbnNpdHktY29uZmlnKCR0aGVtZSk7XG4gICAgJHR5cG9ncmFwaHk6IG1hdC1nZXQtdHlwb2dyYXBoeS1jb25maWcoJHRoZW1lKTtcblxuICAgIEBpZiAkY29sb3IgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtaWNvbi1jb2xvcigkY29sb3IpO1xuICAgIH1cbiAgICBAaWYgJGRlbnNpdHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBfbWF0LWljb24tZGVuc2l0eSgkZGVuc2l0eSk7XG4gICAgfVxuICAgIEBpZiAkdHlwb2dyYXBoeSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1pY29uLXR5cG9ncmFwaHkoJHR5cG9ncmFwaHkpO1xuICAgIH1cbiAgfVxufVxuXG5cblxuXG5cblxuXG4vLyBSZW5kZXJzIGEgZ3JhZGllbnQgZm9yIHNob3dpbmcgdGhlIGRhc2hlZCBsaW5lIHdoZW4gdGhlIGlucHV0IGlzIGRpc2FibGVkLlxuLy8gVW5saWtlIHVzaW5nIGEgYm9yZGVyLCBhIGdyYWRpZW50IGFsbG93cyB1cyB0byBhZGp1c3QgdGhlIHNwYWNpbmcgb2YgdGhlIGRvdHRlZCBsaW5lXG4vLyB0byBtYXRjaCB0aGUgTWF0ZXJpYWwgRGVzaWduIHNwZWMuXG5AbWl4aW4gbWF0LWNvbnRyb2wtZGlzYWJsZWQtdW5kZXJsaW5lKCRjb2xvcikge1xuICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsICRjb2xvciAwJSwgJGNvbG9yIDMzJSwgdHJhbnNwYXJlbnQgMCUpO1xuICBiYWNrZ3JvdW5kLXNpemU6IDRweCAxMDAlO1xuICBiYWNrZ3JvdW5kLXJlcGVhdDogcmVwZWF0LXg7XG59XG5cbi8vIEZpZ3VyZXMgb3V0IHRoZSBjb2xvciBvZiB0aGUgcGxhY2Vob2xkZXIgZm9yIGEgZm9ybSBjb250cm9sLlxuLy8gVXNlZCBwcmltYXJpbHkgdG8gcHJldmVudCB0aGUgdmFyaW91cyBmb3JtIGNvbnRyb2xzIGZyb21cbi8vIGJlY29taW5nIG91dCBvZiBzeW5jIHNpbmNlIHRoZXNlIGNvbG9ycyBhcmVuJ3QgaW4gYSBwYWxldHRlLlxuQGZ1bmN0aW9uIF9tYXQtY29udHJvbC1wbGFjZWhvbGRlci1jb2xvcigkY29uZmlnKSB7XG4gICRmb3JlZ3JvdW5kOiBtYXAtZ2V0KCRjb25maWcsIGZvcmVncm91bmQpO1xuICAkaXMtZGFyay10aGVtZTogbWFwLWdldCgkY29uZmlnLCBpcy1kYXJrKTtcbiAgQHJldHVybiBtYXQtY29sb3IoJGZvcmVncm91bmQsIHNlY29uZGFyeS10ZXh0LCBpZigkaXMtZGFyay10aGVtZSwgMC41LCAwLjQyKSk7XG59XG5cblxuLyogc3R5bGVsaW50LWRpc2FibGUgbWF0ZXJpYWwvbm8tcHJlZml4ZXMgKi9cbkBtaXhpbiB1c2VyLXNlbGVjdCgkdmFsdWUpIHtcbiAgLXdlYmtpdC11c2VyLXNlbGVjdDogJHZhbHVlO1xuICAtbW96LXVzZXItc2VsZWN0OiAkdmFsdWU7XG4gIC1tcy11c2VyLXNlbGVjdDogJHZhbHVlO1xuICB1c2VyLXNlbGVjdDogJHZhbHVlO1xufVxuXG5AbWl4aW4gaW5wdXQtcGxhY2Vob2xkZXIge1xuICAmOjpwbGFjZWhvbGRlciB7XG4gICAgQGNvbnRlbnQ7XG4gIH1cblxuICAmOjotbW96LXBsYWNlaG9sZGVyIHtcbiAgICBAY29udGVudDtcbiAgfVxuXG4gICY6Oi13ZWJraXQtaW5wdXQtcGxhY2Vob2xkZXIge1xuICAgIEBjb250ZW50O1xuICB9XG5cbiAgJjotbXMtaW5wdXQtcGxhY2Vob2xkZXIge1xuICAgIEBjb250ZW50O1xuICB9XG59XG5cbkBtaXhpbiBjdXJzb3ItZ3JhYiB7XG4gIGN1cnNvcjogLXdlYmtpdC1ncmFiO1xuICBjdXJzb3I6IGdyYWI7XG59XG5cbkBtaXhpbiBjdXJzb3ItZ3JhYmJpbmcge1xuICBjdXJzb3I6IC13ZWJraXQtZ3JhYmJpbmc7XG4gIGN1cnNvcjogZ3JhYmJpbmc7XG59XG5cbkBtaXhpbiBiYWNrZmFjZS12aXNpYmlsaXR5KCR2YWx1ZSkge1xuICAtd2Via2l0LWJhY2tmYWNlLXZpc2liaWxpdHk6ICR2YWx1ZTtcbiAgYmFja2ZhY2UtdmlzaWJpbGl0eTogJHZhbHVlO1xufVxuLyogc3R5bGVsaW50LWVuYWJsZSAqL1xuXG5cblxuQG1peGluIG1hdC1pbnB1dC1jb2xvcigkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtY29sb3ItY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAkcHJpbWFyeTogbWFwLWdldCgkY29uZmlnLCBwcmltYXJ5KTtcbiAgJGFjY2VudDogbWFwLWdldCgkY29uZmlnLCBhY2NlbnQpO1xuICAkd2FybjogbWFwLWdldCgkY29uZmlnLCB3YXJuKTtcbiAgJGZvcmVncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgZm9yZWdyb3VuZCk7XG5cbiAgLm1hdC1mb3JtLWZpZWxkLXR5cGUtbWF0LW5hdGl2ZS1zZWxlY3QgLm1hdC1mb3JtLWZpZWxkLWluZml4OjphZnRlciB7XG4gICAgY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgc2Vjb25kYXJ5LXRleHQpO1xuICB9XG5cbiAgLm1hdC1pbnB1dC1lbGVtZW50OmRpc2FibGVkLFxuICAubWF0LWZvcm0tZmllbGQtdHlwZS1tYXQtbmF0aXZlLXNlbGVjdC5tYXQtZm9ybS1maWVsZC1kaXNhYmxlZCAubWF0LWZvcm0tZmllbGQtaW5maXg6OmFmdGVyIHtcbiAgICBjb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBkaXNhYmxlZC10ZXh0KTtcbiAgfVxuXG4gIC5tYXQtaW5wdXQtZWxlbWVudCB7XG4gICAgY2FyZXQtY29sb3I6IG1hdC1jb2xvcigkcHJpbWFyeSwgdGV4dCk7XG5cbiAgICBAaW5jbHVkZSBpbnB1dC1wbGFjZWhvbGRlciB7XG4gICAgICBjb2xvcjogX21hdC1jb250cm9sLXBsYWNlaG9sZGVyLWNvbG9yKCRjb25maWcpO1xuICAgIH1cblxuICAgIC8vIE9uIGRhcmsgdGhlbWVzIHdlIHNldCB0aGUgbmF0aXZlIGBzZWxlY3RgIGNvbG9yIHRvIHNvbWUgc2hhZGUgb2Ygd2hpdGUsXG4gICAgLy8gaG93ZXZlciB0aGUgY29sb3IgcHJvcGFnYXRlcyB0byBhbGwgb2YgdGhlIGBvcHRpb25gIGVsZW1lbnRzLCB3aGljaCBhcmVcbiAgICAvLyBhbHdheXMgb24gYSB3aGl0ZSBiYWNrZ3JvdW5kIGluc2lkZSB0aGUgZHJvcGRvd24sIGNhdXNpbmcgdGhlbSB0byBibGVuZCBpbi5cbiAgICAvLyBTaW5jZSB3ZSBjYW4ndCBjaGFuZ2UgYmFja2dyb3VuZCBvZiB0aGUgZHJvcGRvd24sIHdlIG5lZWQgdG8gZXhwbGljaXRseVxuICAgIC8vIHJlc2V0IHRoZSBjb2xvciBvZiB0aGUgb3B0aW9ucyB0byBzb21ldGhpbmcgZGFyay5cbiAgICBAaWYgKG1hcC1nZXQoJGNvbmZpZywgaXMtZGFyaykpIHtcbiAgICAgIG9wdGlvbiB7XG4gICAgICAgIGNvbG9yOiAkZGFyay1wcmltYXJ5LXRleHQ7XG4gICAgICB9XG5cbiAgICAgIG9wdGlvbjpkaXNhYmxlZCB7XG4gICAgICAgIGNvbG9yOiAkZGFyay1kaXNhYmxlZC10ZXh0O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC5tYXQtZm9ybS1maWVsZC5tYXQtYWNjZW50IC5tYXQtaW5wdXQtZWxlbWVudCB7XG4gICAgY2FyZXQtY29sb3I6IG1hdC1jb2xvcigkYWNjZW50LCB0ZXh0KTtcbiAgfVxuXG4gIC5tYXQtZm9ybS1maWVsZC5tYXQtd2FybiAubWF0LWlucHV0LWVsZW1lbnQsXG4gIC5tYXQtZm9ybS1maWVsZC1pbnZhbGlkIC5tYXQtaW5wdXQtZWxlbWVudCB7XG4gICAgY2FyZXQtY29sb3I6IG1hdC1jb2xvcigkd2FybiwgdGV4dCk7XG4gIH1cblxuICAubWF0LWZvcm0tZmllbGQtdHlwZS1tYXQtbmF0aXZlLXNlbGVjdC5tYXQtZm9ybS1maWVsZC1pbnZhbGlkIC5tYXQtZm9ybS1maWVsZC1pbmZpeDo6YWZ0ZXIge1xuICAgIGNvbG9yOiBtYXQtY29sb3IoJHdhcm4sIHRleHQpO1xuICB9XG59XG5cbkBtaXhpbiBtYXQtaW5wdXQtdHlwb2dyYXBoeSgkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtdHlwb2dyYXBoeS1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gIC8vIFRoZSB1bml0LWxlc3MgbGluZS1oZWlnaHQgZnJvbSB0aGUgZm9udCBjb25maWcuXG4gICRsaW5lLWhlaWdodDogbWF0LWxpbmUtaGVpZ2h0KCRjb25maWcsIGlucHV0KTtcblxuICAvLyBUaGUgYW1vdW50IG9mIHNwYWNlIGJldHdlZW4gdGhlIHRvcCBvZiB0aGUgbGluZSBhbmQgdGhlIHRvcCBvZiB0aGUgYWN0dWFsIHRleHRcbiAgLy8gKGFzIGEgZnJhY3Rpb24gb2YgdGhlIGZvbnQtc2l6ZSkuXG4gICRsaW5lLXNwYWNpbmc6ICgkbGluZS1oZWlnaHQgLSAxKSAvIDI7XG5cbiAgLy8gPGlucHV0PiBlbGVtZW50cyBzZWVtIHRvIGhhdmUgdGhlaXIgaGVpZ2h0IHNldCBzbGlnaHRseSB0b28gbGFyZ2Ugb24gU2FmYXJpIGNhdXNpbmcgdGhlIHRleHQgdG9cbiAgLy8gYmUgbWlzYWxpZ25lZCB3LnIudC4gdGhlIHBsYWNlaG9sZGVyLiBBZGRpbmcgdGhpcyBtYXJnaW4gY29ycmVjdHMgaXQuXG4gIGlucHV0Lm1hdC1pbnB1dC1lbGVtZW50IHtcbiAgICBtYXJnaW4tdG9wOiAtJGxpbmUtc3BhY2luZyAqIDFlbTtcbiAgfVxufVxuXG5AbWl4aW4gX21hdC1pbnB1dC1kZW5zaXR5KCRjb25maWctb3ItdGhlbWUpIHt9XG5cbkBtaXhpbiBtYXQtaW5wdXQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZykge1xuICAkdGhlbWU6IF9tYXQtbGVnYWN5LWdldC10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKTtcbiAgQGluY2x1ZGUgX21hdC1jaGVjay1kdXBsaWNhdGUtdGhlbWUtc3R5bGVzKCR0aGVtZSwgJ21hdC1pbnB1dCcpIHtcbiAgICAkY29sb3I6IG1hdC1nZXQtY29sb3ItY29uZmlnKCR0aGVtZSk7XG4gICAgJGRlbnNpdHk6IG1hdC1nZXQtZGVuc2l0eS1jb25maWcoJHRoZW1lKTtcbiAgICAkdHlwb2dyYXBoeTogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkdGhlbWUpO1xuXG4gICAgQGlmICRjb2xvciAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1pbnB1dC1jb2xvcigkY29sb3IpO1xuICAgIH1cbiAgICBAaWYgJGRlbnNpdHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBfbWF0LWlucHV0LWRlbnNpdHkoJGRlbnNpdHkpO1xuICAgIH1cbiAgICBAaWYgJHR5cG9ncmFwaHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtaW5wdXQtdHlwb2dyYXBoeSgkdHlwb2dyYXBoeSk7XG4gICAgfVxuICB9XG59XG5cblxuXG5cblxuXG5cblxuQG1peGluIG1hdC1saXN0LWNvbG9yKCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC1jb2xvci1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gICRiYWNrZ3JvdW5kOiBtYXAtZ2V0KCRjb25maWcsIGJhY2tncm91bmQpO1xuICAkZm9yZWdyb3VuZDogbWFwLWdldCgkY29uZmlnLCBmb3JlZ3JvdW5kKTtcblxuICAubWF0LWxpc3QtYmFzZSB7XG4gICAgLm1hdC1saXN0LWl0ZW0ge1xuICAgICAgY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgdGV4dCk7XG4gICAgfVxuXG4gICAgLm1hdC1saXN0LW9wdGlvbiB7XG4gICAgICBjb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCB0ZXh0KTtcbiAgICB9XG5cbiAgICAubWF0LXN1YmhlYWRlciB7XG4gICAgICBjb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBzZWNvbmRhcnktdGV4dCk7XG4gICAgfVxuICB9XG5cbiAgLm1hdC1saXN0LWl0ZW0tZGlzYWJsZWQge1xuICAgIGJhY2tncm91bmQtY29sb3I6IG1hdC1jb2xvcigkYmFja2dyb3VuZCwgZGlzYWJsZWQtbGlzdC1vcHRpb24pO1xuICB9XG5cbiAgLm1hdC1saXN0LW9wdGlvbixcbiAgLm1hdC1uYXYtbGlzdCAubWF0LWxpc3QtaXRlbSxcbiAgLm1hdC1hY3Rpb24tbGlzdCAubWF0LWxpc3QtaXRlbSB7XG4gICAgJjpob3ZlciwgJjpmb2N1cyB7XG4gICAgICBiYWNrZ3JvdW5kOiBtYXQtY29sb3IoJGJhY2tncm91bmQsICdob3ZlcicpO1xuICAgIH1cbiAgfVxuXG4gIC5tYXQtbGlzdC1zaW5nbGUtc2VsZWN0ZWQtb3B0aW9uIHtcbiAgICAmLCAmOmhvdmVyLCAmOmZvY3VzIHtcbiAgICAgIGJhY2tncm91bmQ6IG1hdC1jb2xvcigkYmFja2dyb3VuZCwgaG92ZXIsIDAuMTIpO1xuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gbWF0LWxpc3QtdHlwb2dyYXBoeSgkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtdHlwb2dyYXBoeS1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gICRmb250LWZhbWlseTogbWF0LWZvbnQtZmFtaWx5KCRjb25maWcpO1xuXG4gIC5tYXQtbGlzdC1pdGVtIHtcbiAgICBmb250LWZhbWlseTogJGZvbnQtZmFtaWx5O1xuICB9XG5cbiAgLm1hdC1saXN0LW9wdGlvbiB7XG4gICAgZm9udC1mYW1pbHk6ICRmb250LWZhbWlseTtcbiAgfVxuXG4gIC8vIERlZmF1bHQgbGlzdFxuICAubWF0LWxpc3QtYmFzZSB7XG4gICAgLm1hdC1saXN0LWl0ZW0ge1xuICAgICAgZm9udC1zaXplOiBtYXQtZm9udC1zaXplKCRjb25maWcsIHN1YmhlYWRpbmctMik7XG4gICAgICBAaW5jbHVkZSBtYXQtbGluZS1iYXNlKG1hdC1mb250LXNpemUoJGNvbmZpZywgYm9keS0xKSk7XG4gICAgfVxuXG4gICAgLm1hdC1saXN0LW9wdGlvbiB7XG4gICAgICBmb250LXNpemU6IG1hdC1mb250LXNpemUoJGNvbmZpZywgc3ViaGVhZGluZy0yKTtcbiAgICAgIEBpbmNsdWRlIG1hdC1saW5lLWJhc2UobWF0LWZvbnQtc2l6ZSgkY29uZmlnLCBib2R5LTEpKTtcbiAgICB9XG5cbiAgICAubWF0LXN1YmhlYWRlciB7XG4gICAgICBmb250LWZhbWlseTogbWF0LWZvbnQtZmFtaWx5KCRjb25maWcsIGJvZHktMik7XG4gICAgICBmb250LXNpemU6IG1hdC1mb250LXNpemUoJGNvbmZpZywgYm9keS0yKTtcbiAgICAgIGZvbnQtd2VpZ2h0OiBtYXQtZm9udC13ZWlnaHQoJGNvbmZpZywgYm9keS0yKTtcbiAgICB9XG4gIH1cblxuICAvLyBEZW5zZSBsaXN0XG4gIC5tYXQtbGlzdC1iYXNlW2RlbnNlXSB7XG4gICAgLm1hdC1saXN0LWl0ZW0ge1xuICAgICAgZm9udC1zaXplOiBtYXQtZm9udC1zaXplKCRjb25maWcsIGNhcHRpb24pO1xuICAgICAgQGluY2x1ZGUgbWF0LWxpbmUtYmFzZShtYXQtZm9udC1zaXplKCRjb25maWcsIGNhcHRpb24pKTtcbiAgICB9XG5cbiAgICAubWF0LWxpc3Qtb3B0aW9uIHtcbiAgICAgIGZvbnQtc2l6ZTogbWF0LWZvbnQtc2l6ZSgkY29uZmlnLCBjYXB0aW9uKTtcbiAgICAgIEBpbmNsdWRlIG1hdC1saW5lLWJhc2UobWF0LWZvbnQtc2l6ZSgkY29uZmlnLCBjYXB0aW9uKSk7XG4gICAgfVxuXG4gICAgLm1hdC1zdWJoZWFkZXIge1xuICAgICAgZm9udC1mYW1pbHk6ICRmb250LWZhbWlseTtcbiAgICAgIGZvbnQtc2l6ZTogbWF0LWZvbnQtc2l6ZSgkY29uZmlnLCBjYXB0aW9uKTtcbiAgICAgIGZvbnQtd2VpZ2h0OiBtYXQtZm9udC13ZWlnaHQoJGNvbmZpZywgYm9keS0yKTtcbiAgICB9XG4gIH1cbn1cblxuQG1peGluIF9tYXQtbGlzdC1kZW5zaXR5KCRjb25maWctb3ItdGhlbWUpIHt9XG5cbkBtaXhpbiBtYXQtbGlzdC10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKSB7XG4gICR0aGVtZTogX21hdC1sZWdhY3ktZ2V0LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICBAaW5jbHVkZSBfbWF0LWNoZWNrLWR1cGxpY2F0ZS10aGVtZS1zdHlsZXMoJHRoZW1lLCAnbWF0LWxpc3QnKSB7XG4gICAgJGNvbG9yOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkdGhlbWUpO1xuICAgICRkZW5zaXR5OiBtYXQtZ2V0LWRlbnNpdHktY29uZmlnKCR0aGVtZSk7XG4gICAgJHR5cG9ncmFwaHk6IG1hdC1nZXQtdHlwb2dyYXBoeS1jb25maWcoJHRoZW1lKTtcblxuICAgIEBpZiAkY29sb3IgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtbGlzdC1jb2xvcigkY29sb3IpO1xuICAgIH1cbiAgICBAaWYgJGRlbnNpdHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBfbWF0LWxpc3QtZGVuc2l0eSgkZGVuc2l0eSk7XG4gICAgfVxuICAgIEBpZiAkdHlwb2dyYXBoeSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1saXN0LXR5cG9ncmFwaHkoJHR5cG9ncmFwaHkpO1xuICAgIH1cbiAgfVxufVxuXG5cblxuXG5cblxuXG5cbkBtaXhpbiBtYXQtbWVudS1jb2xvcigkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtY29sb3ItY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAkYmFja2dyb3VuZDogbWFwLWdldCgkY29uZmlnLCBiYWNrZ3JvdW5kKTtcbiAgJGZvcmVncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgZm9yZWdyb3VuZCk7XG5cbiAgLm1hdC1tZW51LXBhbmVsIHtcbiAgICBAaW5jbHVkZSBfbWF0LXRoZW1lLW92ZXJyaWRhYmxlLWVsZXZhdGlvbig0LCAkY29uZmlnKTtcbiAgICBiYWNrZ3JvdW5kOiBtYXQtY29sb3IoJGJhY2tncm91bmQsICdjYXJkJyk7XG4gIH1cblxuICAubWF0LW1lbnUtaXRlbSB7XG4gICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gICAgY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgJ3RleHQnKTtcblxuICAgICZbZGlzYWJsZWRdIHtcbiAgICAgICYsICY6OmFmdGVyIHtcbiAgICAgICAgY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgJ2Rpc2FibGVkJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLm1hdC1tZW51LWl0ZW0gLm1hdC1pY29uLW5vLWNvbG9yLFxuICAubWF0LW1lbnUtaXRlbS1zdWJtZW51LXRyaWdnZXI6OmFmdGVyIHtcbiAgICBjb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCAnaWNvbicpO1xuICB9XG5cbiAgLm1hdC1tZW51LWl0ZW06aG92ZXIsXG4gIC5tYXQtbWVudS1pdGVtLmNkay1wcm9ncmFtLWZvY3VzZWQsXG4gIC5tYXQtbWVudS1pdGVtLmNkay1rZXlib2FyZC1mb2N1c2VkLFxuICAubWF0LW1lbnUtaXRlbS1oaWdobGlnaHRlZCB7XG4gICAgJjpub3QoW2Rpc2FibGVkXSkge1xuICAgICAgYmFja2dyb3VuZDogbWF0LWNvbG9yKCRiYWNrZ3JvdW5kLCAnaG92ZXInKTtcbiAgICB9XG4gIH1cbn1cblxuQG1peGluIG1hdC1tZW51LXR5cG9ncmFwaHkoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAubWF0LW1lbnUtaXRlbSB7XG4gICAgZm9udDoge1xuICAgICAgZmFtaWx5OiBtYXQtZm9udC1mYW1pbHkoJGNvbmZpZywgYm9keS0xKTtcbiAgICAgIHNpemU6IG1hdC1mb250LXNpemUoJGNvbmZpZywgYm9keS0xKTtcbiAgICAgIHdlaWdodDogbWF0LWZvbnQtd2VpZ2h0KCRjb25maWcsIGJvZHktMSk7XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiBfbWF0LW1lbnUtZGVuc2l0eSgkY29uZmlnLW9yLXRoZW1lKSB7fVxuXG5AbWl4aW4gbWF0LW1lbnUtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZykge1xuICAkdGhlbWU6IF9tYXQtbGVnYWN5LWdldC10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKTtcbiAgQGluY2x1ZGUgX21hdC1jaGVjay1kdXBsaWNhdGUtdGhlbWUtc3R5bGVzKCR0aGVtZSwgJ21hdC1tZW51Jykge1xuICAgICRjb2xvcjogbWF0LWdldC1jb2xvci1jb25maWcoJHRoZW1lKTtcbiAgICAkZGVuc2l0eTogbWF0LWdldC1kZW5zaXR5LWNvbmZpZygkdGhlbWUpO1xuICAgICR0eXBvZ3JhcGh5OiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCR0aGVtZSk7XG5cbiAgICBAaWYgJGNvbG9yICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LW1lbnUtY29sb3IoJGNvbG9yKTtcbiAgICB9XG4gICAgQGlmICRkZW5zaXR5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgX21hdC1tZW51LWRlbnNpdHkoJGRlbnNpdHkpO1xuICAgIH1cbiAgICBAaWYgJHR5cG9ncmFwaHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtbWVudS10eXBvZ3JhcGh5KCR0eXBvZ3JhcGh5KTtcbiAgICB9XG4gIH1cbn1cblxuXG5cblxuXG5cblxuJG1hdC1wYWdpbmF0b3ItaGVpZ2h0OiA1NnB4ICFkZWZhdWx0O1xuLy8gTWluaW11bSBoZWlnaHQgZm9yIHBhZ2luYXRvcidzIGluIHRoZSBoaWdoZXN0IGRlbnNpdHkgaXMgZGV0ZXJtaW5lZCBiYXNlZCBvbiBob3dcbi8vIG11Y2ggdGhlIHBhZ2luYXRvciBjYW4gc2hyaW5rIHVudGlsIHRoZSBjb250ZW50IGV4Y2VlZHMgKGkuZS4gbmF2aWdhdGlvbiBidXR0b25zKS5cbiRtYXQtcGFnaW5hdG9yLW1pbmltdW0taGVpZ2h0OiA0MHB4ICFkZWZhdWx0O1xuJG1hdC1wYWdpbmF0b3ItbWF4aW11bS1oZWlnaHQ6ICRtYXQtcGFnaW5hdG9yLWhlaWdodCAhZGVmYXVsdDtcblxuJG1hdC1wYWdpbmF0b3ItZGVuc2l0eS1jb25maWc6IChcbiAgaGVpZ2h0OiAoXG4gICAgZGVmYXVsdDogJG1hdC1wYWdpbmF0b3ItaGVpZ2h0LFxuICAgIG1heGltdW06ICRtYXQtcGFnaW5hdG9yLW1heGltdW0taGVpZ2h0LFxuICAgIG1pbmltdW06ICRtYXQtcGFnaW5hdG9yLW1pbmltdW0taGVpZ2h0LFxuICApXG4pICFkZWZhdWx0O1xuXG5cbkBtaXhpbiBtYXQtcGFnaW5hdG9yLWNvbG9yKCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC1jb2xvci1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gICRmb3JlZ3JvdW5kOiBtYXAtZ2V0KCRjb25maWcsIGZvcmVncm91bmQpO1xuICAkYmFja2dyb3VuZDogbWFwLWdldCgkY29uZmlnLCBiYWNrZ3JvdW5kKTtcblxuICAubWF0LXBhZ2luYXRvciB7XG4gICAgYmFja2dyb3VuZDogbWF0LWNvbG9yKCRiYWNrZ3JvdW5kLCAnY2FyZCcpO1xuICB9XG5cbiAgLm1hdC1wYWdpbmF0b3IsXG4gIC5tYXQtcGFnaW5hdG9yLXBhZ2Utc2l6ZSAubWF0LXNlbGVjdC10cmlnZ2VyIHtcbiAgICBjb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBzZWNvbmRhcnktdGV4dCk7XG4gIH1cblxuICAubWF0LXBhZ2luYXRvci1kZWNyZW1lbnQsXG4gIC5tYXQtcGFnaW5hdG9yLWluY3JlbWVudCB7XG4gICAgYm9yZGVyLXRvcDogMnB4IHNvbGlkIG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgJ2ljb24nKTtcbiAgICBib3JkZXItcmlnaHQ6IDJweCBzb2xpZCBtYXQtY29sb3IoJGZvcmVncm91bmQsICdpY29uJyk7XG4gIH1cblxuICAubWF0LXBhZ2luYXRvci1maXJzdCxcbiAgLm1hdC1wYWdpbmF0b3ItbGFzdCB7XG4gICAgYm9yZGVyLXRvcDogMnB4IHNvbGlkIG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgJ2ljb24nKTtcbiAgfVxuXG4gIC5tYXQtaWNvbi1idXR0b25bZGlzYWJsZWRdIHtcbiAgICAubWF0LXBhZ2luYXRvci1kZWNyZW1lbnQsXG4gICAgLm1hdC1wYWdpbmF0b3ItaW5jcmVtZW50LFxuICAgIC5tYXQtcGFnaW5hdG9yLWZpcnN0LFxuICAgIC5tYXQtcGFnaW5hdG9yLWxhc3Qge1xuICAgICAgYm9yZGVyLWNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsICdkaXNhYmxlZCcpO1xuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gbWF0LXBhZ2luYXRvci10eXBvZ3JhcGh5KCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgLm1hdC1wYWdpbmF0b3IsXG4gIC5tYXQtcGFnaW5hdG9yLXBhZ2Utc2l6ZSAubWF0LXNlbGVjdC10cmlnZ2VyIHtcbiAgICBmb250OiB7XG4gICAgICBmYW1pbHk6IG1hdC1mb250LWZhbWlseSgkY29uZmlnLCBjYXB0aW9uKTtcbiAgICAgIHNpemU6IG1hdC1mb250LXNpemUoJGNvbmZpZywgY2FwdGlvbik7XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiBfbWF0LXBhZ2luYXRvci1kZW5zaXR5KCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGRlbnNpdHktc2NhbGU6IG1hdC1nZXQtZGVuc2l0eS1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gICRoZWlnaHQ6IF9tYXQtZGVuc2l0eS1wcm9wLXZhbHVlKCRtYXQtcGFnaW5hdG9yLWRlbnNpdHktY29uZmlnLCAkZGVuc2l0eS1zY2FsZSwgaGVpZ2h0KTtcblxuICBAaW5jbHVkZSBfbWF0LWRlbnNpdHktbGVnYWN5LWNvbXBhdGliaWxpdHkoKSB7XG4gICAgLm1hdC1wYWdpbmF0b3ItY29udGFpbmVyIHtcbiAgICAgIG1pbi1oZWlnaHQ6ICRoZWlnaHQ7XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiBtYXQtcGFnaW5hdG9yLXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpIHtcbiAgJHRoZW1lOiBfbWF0LWxlZ2FjeS1nZXQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gIEBpbmNsdWRlIF9tYXQtY2hlY2stZHVwbGljYXRlLXRoZW1lLXN0eWxlcygkdGhlbWUsICdtYXQtcGFnaW5hdG9yJykge1xuICAgICRjb2xvcjogbWF0LWdldC1jb2xvci1jb25maWcoJHRoZW1lKTtcbiAgICAkZGVuc2l0eTogbWF0LWdldC1kZW5zaXR5LWNvbmZpZygkdGhlbWUpO1xuICAgICR0eXBvZ3JhcGh5OiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCR0aGVtZSk7XG5cbiAgICBAaWYgJGNvbG9yICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LXBhZ2luYXRvci1jb2xvcigkY29sb3IpO1xuICAgIH1cbiAgICBAaWYgJGRlbnNpdHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBfbWF0LXBhZ2luYXRvci1kZW5zaXR5KCRkZW5zaXR5KTtcbiAgICB9XG4gICAgQGlmICR0eXBvZ3JhcGh5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LXBhZ2luYXRvci10eXBvZ3JhcGh5KCR0eXBvZ3JhcGh5KTtcbiAgICB9XG4gIH1cbn1cblxuXG5cblxuXG5AbWl4aW4gbWF0LXByb2dyZXNzLWJhci1jb2xvcigkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtY29sb3ItY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAkcHJpbWFyeTogbWFwLWdldCgkY29uZmlnLCBwcmltYXJ5KTtcbiAgJGFjY2VudDogbWFwLWdldCgkY29uZmlnLCBhY2NlbnQpO1xuICAkd2FybjogbWFwLWdldCgkY29uZmlnLCB3YXJuKTtcblxuICAubWF0LXByb2dyZXNzLWJhci1iYWNrZ3JvdW5kIHtcbiAgICBmaWxsOiBtYXQtY29sb3IoJHByaW1hcnksIGxpZ2h0ZXIpO1xuICB9XG5cbiAgLm1hdC1wcm9ncmVzcy1iYXItYnVmZmVyIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBtYXQtY29sb3IoJHByaW1hcnksIGxpZ2h0ZXIpO1xuICB9XG5cbiAgLm1hdC1wcm9ncmVzcy1iYXItZmlsbDo6YWZ0ZXIge1xuICAgIGJhY2tncm91bmQtY29sb3I6IG1hdC1jb2xvcigkcHJpbWFyeSk7XG4gIH1cblxuICAubWF0LXByb2dyZXNzLWJhci5tYXQtYWNjZW50IHtcbiAgICAubWF0LXByb2dyZXNzLWJhci1iYWNrZ3JvdW5kIHtcbiAgICAgIGZpbGw6IG1hdC1jb2xvcigkYWNjZW50LCBsaWdodGVyKTtcbiAgICB9XG5cbiAgICAubWF0LXByb2dyZXNzLWJhci1idWZmZXIge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogbWF0LWNvbG9yKCRhY2NlbnQsIGxpZ2h0ZXIpO1xuICAgIH1cblxuICAgIC5tYXQtcHJvZ3Jlc3MtYmFyLWZpbGw6OmFmdGVyIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IG1hdC1jb2xvcigkYWNjZW50KTtcbiAgICB9XG4gIH1cblxuICAubWF0LXByb2dyZXNzLWJhci5tYXQtd2FybiB7XG4gICAgLm1hdC1wcm9ncmVzcy1iYXItYmFja2dyb3VuZCB7XG4gICAgICBmaWxsOiBtYXQtY29sb3IoJHdhcm4sIGxpZ2h0ZXIpO1xuICAgIH1cblxuICAgIC5tYXQtcHJvZ3Jlc3MtYmFyLWJ1ZmZlciB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBtYXQtY29sb3IoJHdhcm4sIGxpZ2h0ZXIpO1xuICAgIH1cblxuICAgIC5tYXQtcHJvZ3Jlc3MtYmFyLWZpbGw6OmFmdGVyIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IG1hdC1jb2xvcigkd2Fybik7XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiBtYXQtcHJvZ3Jlc3MtYmFyLXR5cG9ncmFwaHkoJGNvbmZpZy1vci10aGVtZSkge31cblxuQG1peGluIF9tYXQtcHJvZ3Jlc3MtYmFyLWRlbnNpdHkoJGNvbmZpZy1vci10aGVtZSkge31cblxuQG1peGluIG1hdC1wcm9ncmVzcy1iYXItdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZykge1xuICAkdGhlbWU6IF9tYXQtbGVnYWN5LWdldC10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKTtcbiAgQGluY2x1ZGUgX21hdC1jaGVjay1kdXBsaWNhdGUtdGhlbWUtc3R5bGVzKCR0aGVtZSwgJ21hdC1wcm9ncmVzcy1iYXInKSB7XG4gICAgJGNvbG9yOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkdGhlbWUpO1xuICAgICRkZW5zaXR5OiBtYXQtZ2V0LWRlbnNpdHktY29uZmlnKCR0aGVtZSk7XG4gICAgJHR5cG9ncmFwaHk6IG1hdC1nZXQtdHlwb2dyYXBoeS1jb25maWcoJHRoZW1lKTtcblxuICAgIEBpZiAkY29sb3IgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtcHJvZ3Jlc3MtYmFyLWNvbG9yKCRjb2xvcik7XG4gICAgfVxuICAgIEBpZiAkZGVuc2l0eSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIF9tYXQtcHJvZ3Jlc3MtYmFyLWRlbnNpdHkoJGRlbnNpdHkpO1xuICAgIH1cbiAgICBAaWYgJHR5cG9ncmFwaHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtcHJvZ3Jlc3MtYmFyLXR5cG9ncmFwaHkoJHR5cG9ncmFwaHkpO1xuICAgIH1cbiAgfVxufVxuXG5cblxuXG5cblxuQG1peGluIG1hdC1wcm9ncmVzcy1zcGlubmVyLWNvbG9yKCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC1jb2xvci1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gICRwcmltYXJ5OiBtYXAtZ2V0KCRjb25maWcsIHByaW1hcnkpO1xuICAkYWNjZW50OiBtYXAtZ2V0KCRjb25maWcsIGFjY2VudCk7XG4gICR3YXJuOiBtYXAtZ2V0KCRjb25maWcsIHdhcm4pO1xuXG4gIC5tYXQtcHJvZ3Jlc3Mtc3Bpbm5lciwgLm1hdC1zcGlubmVyIHtcbiAgICBjaXJjbGUge1xuICAgICAgc3Ryb2tlOiBtYXQtY29sb3IoJHByaW1hcnkpO1xuICAgIH1cblxuICAgICYubWF0LWFjY2VudCBjaXJjbGUge1xuICAgICAgc3Ryb2tlOiBtYXQtY29sb3IoJGFjY2VudCk7XG4gICAgfVxuXG4gICAgJi5tYXQtd2FybiBjaXJjbGUge1xuICAgICAgc3Ryb2tlOiBtYXQtY29sb3IoJHdhcm4pO1xuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gbWF0LXByb2dyZXNzLXNwaW5uZXItdHlwb2dyYXBoeSgkY29uZmlnLW9yLXRoZW1lKSB7fVxuXG5AbWl4aW4gX21hdC1wcm9ncmVzcy1zcGlubmVyLWRlbnNpdHkoJGNvbmZpZy1vci10aGVtZSkge31cblxuQG1peGluIG1hdC1wcm9ncmVzcy1zcGlubmVyLXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpIHtcbiAgJHRoZW1lOiBfbWF0LWxlZ2FjeS1nZXQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gIEBpbmNsdWRlIF9tYXQtY2hlY2stZHVwbGljYXRlLXRoZW1lLXN0eWxlcygkdGhlbWUsICdtYXQtcHJvZ3Jlc3Mtc3Bpbm5lcicpIHtcbiAgICAkY29sb3I6IG1hdC1nZXQtY29sb3ItY29uZmlnKCR0aGVtZSk7XG4gICAgJGRlbnNpdHk6IG1hdC1nZXQtZGVuc2l0eS1jb25maWcoJHRoZW1lKTtcbiAgICAkdHlwb2dyYXBoeTogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkdGhlbWUpO1xuXG4gICAgQGlmICRjb2xvciAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1wcm9ncmVzcy1zcGlubmVyLWNvbG9yKCRjb2xvcik7XG4gICAgfVxuICAgIEBpZiAkZGVuc2l0eSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIF9tYXQtcHJvZ3Jlc3Mtc3Bpbm5lci1kZW5zaXR5KCRkZW5zaXR5KTtcbiAgICB9XG4gICAgQGlmICR0eXBvZ3JhcGh5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LXByb2dyZXNzLXNwaW5uZXItdHlwb2dyYXBoeSgkdHlwb2dyYXBoeSk7XG4gICAgfVxuICB9XG59XG5cblxuXG5cblxuXG5AbWl4aW4gX21hdC1yYWRpby1jb2xvcigkcGFsZXR0ZSkge1xuICAmLm1hdC1yYWRpby1jaGVja2VkIC5tYXQtcmFkaW8tb3V0ZXItY2lyY2xlIHtcbiAgICBib3JkZXItY29sb3I6IG1hdC1jb2xvcigkcGFsZXR0ZSk7XG4gIH1cblxuICAubWF0LXJhZGlvLWlubmVyLWNpcmNsZSxcbiAgLm1hdC1yYWRpby1yaXBwbGUgLm1hdC1yaXBwbGUtZWxlbWVudDpub3QoLm1hdC1yYWRpby1wZXJzaXN0ZW50LXJpcHBsZSksXG4gICYubWF0LXJhZGlvLWNoZWNrZWQgLm1hdC1yYWRpby1wZXJzaXN0ZW50LXJpcHBsZSxcbiAgJjphY3RpdmUgLm1hdC1yYWRpby1wZXJzaXN0ZW50LXJpcHBsZSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogbWF0LWNvbG9yKCRwYWxldHRlKTtcbiAgfVxufVxuXG5AbWl4aW4gbWF0LXJhZGlvLWNvbG9yKCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC1jb2xvci1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gICRwcmltYXJ5OiBtYXAtZ2V0KCRjb25maWcsIHByaW1hcnkpO1xuICAkYWNjZW50OiBtYXAtZ2V0KCRjb25maWcsIGFjY2VudCk7XG4gICR3YXJuOiBtYXAtZ2V0KCRjb25maWcsIHdhcm4pO1xuICAkYmFja2dyb3VuZDogbWFwLWdldCgkY29uZmlnLCBiYWNrZ3JvdW5kKTtcbiAgJGZvcmVncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgZm9yZWdyb3VuZCk7XG5cbiAgLm1hdC1yYWRpby1vdXRlci1jaXJjbGUge1xuICAgIGJvcmRlci1jb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBzZWNvbmRhcnktdGV4dCk7XG4gIH1cblxuICAubWF0LXJhZGlvLWJ1dHRvbiB7XG4gICAgJi5tYXQtcHJpbWFyeSB7XG4gICAgICBAaW5jbHVkZSBfbWF0LXJhZGlvLWNvbG9yKCRwcmltYXJ5KTtcbiAgICB9XG5cbiAgICAmLm1hdC1hY2NlbnQge1xuICAgICAgQGluY2x1ZGUgX21hdC1yYWRpby1jb2xvcigkYWNjZW50KTtcbiAgICB9XG5cbiAgICAmLm1hdC13YXJuIHtcbiAgICAgIEBpbmNsdWRlIF9tYXQtcmFkaW8tY29sb3IoJHdhcm4pO1xuICAgIH1cblxuICAgIC8vIFRoaXMgbmVlZHMgZXh0cmEgc3BlY2lmaWNpdHksIGJlY2F1c2UgdGhlIGNsYXNzZXMgYWJvdmUgYXJlIGNvbWJpbmVkXG4gICAgLy8gKGUuZy4gYC5tYXQtcmFkaW8tYnV0dG9uLm1hdC1hY2NlbnRgKSB3aGljaCBpbmNyZWFzZXMgdGhlaXIgc3BlY2lmaWNpdHkgYSBsb3QuXG4gICAgLy8gVE9ETzogY29uc2lkZXIgbWFraW5nIHRoZSBzZWxlY3RvcnMgaW50byBkZXNjZW5kYW50cyAoYC5tYXQtcHJpbWFyeSAubWF0LXJhZGlvLWJ1dHRvbmApLlxuICAgICYubWF0LXJhZGlvLWRpc2FibGVkIHtcbiAgICAgICYubWF0LXJhZGlvLWNoZWNrZWQgLm1hdC1yYWRpby1vdXRlci1jaXJjbGUsXG4gICAgICAubWF0LXJhZGlvLW91dGVyLWNpcmNsZSB7XG4gICAgICAgIGJvcmRlci1jb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBkaXNhYmxlZCk7XG4gICAgICB9XG5cbiAgICAgIC5tYXQtcmFkaW8tcmlwcGxlIC5tYXQtcmlwcGxlLWVsZW1lbnQsXG4gICAgICAubWF0LXJhZGlvLWlubmVyLWNpcmNsZSB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgZGlzYWJsZWQpO1xuICAgICAgfVxuXG4gICAgICAubWF0LXJhZGlvLWxhYmVsLWNvbnRlbnQge1xuICAgICAgICBjb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBkaXNhYmxlZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gU3dpdGNoIHRoaXMgdG8gYSBzb2xpZCBjb2xvciBzaW5jZSB3ZSdyZSB1c2luZyBgb3BhY2l0eWBcbiAgICAvLyB0byBjb250cm9sIGhvdyBvcGFxdWUgdGhlIHJpcHBsZSBzaG91bGQgYmUuXG4gICAgLm1hdC1yaXBwbGUtZWxlbWVudCB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBtYXBfZ2V0KCRmb3JlZ3JvdW5kLCBiYXNlKTtcbiAgICB9XG4gIH1cbn1cblxuQG1peGluIG1hdC1yYWRpby10eXBvZ3JhcGh5KCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgLm1hdC1yYWRpby1idXR0b24ge1xuICAgIGZvbnQtZmFtaWx5OiBtYXQtZm9udC1mYW1pbHkoJGNvbmZpZyk7XG4gIH1cbn1cblxuQG1peGluIF9tYXQtcmFkaW8tZGVuc2l0eSgkY29uZmlnLW9yLXRoZW1lKSB7fVxuXG5AbWl4aW4gbWF0LXJhZGlvLXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpIHtcbiAgJHRoZW1lOiBfbWF0LWxlZ2FjeS1nZXQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gIEBpbmNsdWRlIF9tYXQtY2hlY2stZHVwbGljYXRlLXRoZW1lLXN0eWxlcygkdGhlbWUsICdtYXQtcmFkaW8nKSB7XG4gICAgJGNvbG9yOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkdGhlbWUpO1xuICAgICRkZW5zaXR5OiBtYXQtZ2V0LWRlbnNpdHktY29uZmlnKCR0aGVtZSk7XG4gICAgJHR5cG9ncmFwaHk6IG1hdC1nZXQtdHlwb2dyYXBoeS1jb25maWcoJHRoZW1lKTtcblxuICAgIEBpZiAkY29sb3IgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtcmFkaW8tY29sb3IoJGNvbG9yKTtcbiAgICB9XG4gICAgQGlmICRkZW5zaXR5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgX21hdC1yYWRpby1kZW5zaXR5KCRkZW5zaXR5KTtcbiAgICB9XG4gICAgQGlmICR0eXBvZ3JhcGh5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LXJhZGlvLXR5cG9ncmFwaHkoJHR5cG9ncmFwaHkpO1xuICAgIH1cbiAgfVxufVxuXG5cblxuXG5cblxuXG5cblxuQG1peGluIG1hdC1zZWxlY3QtY29sb3IoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgJGZvcmVncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgZm9yZWdyb3VuZCk7XG4gICRiYWNrZ3JvdW5kOiBtYXAtZ2V0KCRjb25maWcsIGJhY2tncm91bmQpO1xuICAkcHJpbWFyeTogbWFwLWdldCgkY29uZmlnLCBwcmltYXJ5KTtcbiAgJGFjY2VudDogbWFwLWdldCgkY29uZmlnLCBhY2NlbnQpO1xuICAkd2FybjogbWFwLWdldCgkY29uZmlnLCB3YXJuKTtcblxuICAubWF0LXNlbGVjdC12YWx1ZSB7XG4gICAgY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgdGV4dCk7XG4gIH1cblxuICAubWF0LXNlbGVjdC1wbGFjZWhvbGRlciB7XG4gICAgY29sb3I6IF9tYXQtY29udHJvbC1wbGFjZWhvbGRlci1jb2xvcigkY29uZmlnKTtcbiAgfVxuXG4gIC5tYXQtc2VsZWN0LWRpc2FibGVkIC5tYXQtc2VsZWN0LXZhbHVlIHtcbiAgICBjb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBkaXNhYmxlZC10ZXh0KTtcbiAgfVxuXG4gIC5tYXQtc2VsZWN0LWFycm93IHtcbiAgICBjb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBzZWNvbmRhcnktdGV4dCk7XG4gIH1cblxuICAubWF0LXNlbGVjdC1wYW5lbCB7XG4gICAgYmFja2dyb3VuZDogbWF0LWNvbG9yKCRiYWNrZ3JvdW5kLCBjYXJkKTtcbiAgICBAaW5jbHVkZSBfbWF0LXRoZW1lLW92ZXJyaWRhYmxlLWVsZXZhdGlvbig0LCAkY29uZmlnKTtcblxuICAgIC5tYXQtb3B0aW9uLm1hdC1zZWxlY3RlZDpub3QoLm1hdC1vcHRpb24tbXVsdGlwbGUpIHtcbiAgICAgIGJhY2tncm91bmQ6IG1hdC1jb2xvcigkYmFja2dyb3VuZCwgaG92ZXIsIDAuMTIpO1xuICAgIH1cbiAgfVxuXG4gIC5tYXQtZm9ybS1maWVsZCB7XG4gICAgJi5tYXQtZm9jdXNlZCB7XG4gICAgICAmLm1hdC1wcmltYXJ5IC5tYXQtc2VsZWN0LWFycm93IHtcbiAgICAgICAgY29sb3I6IG1hdC1jb2xvcigkcHJpbWFyeSwgdGV4dCk7XG4gICAgICB9XG5cbiAgICAgICYubWF0LWFjY2VudCAubWF0LXNlbGVjdC1hcnJvdyB7XG4gICAgICAgIGNvbG9yOiBtYXQtY29sb3IoJGFjY2VudCwgdGV4dCk7XG4gICAgICB9XG5cbiAgICAgICYubWF0LXdhcm4gLm1hdC1zZWxlY3QtYXJyb3cge1xuICAgICAgICBjb2xvcjogbWF0LWNvbG9yKCR3YXJuLCB0ZXh0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAubWF0LXNlbGVjdC5tYXQtc2VsZWN0LWludmFsaWQgLm1hdC1zZWxlY3QtYXJyb3cge1xuICAgICAgY29sb3I6IG1hdC1jb2xvcigkd2FybiwgdGV4dCk7XG4gICAgfVxuXG4gICAgLm1hdC1zZWxlY3QubWF0LXNlbGVjdC1kaXNhYmxlZCAubWF0LXNlbGVjdC1hcnJvdyB7XG4gICAgICBjb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBkaXNhYmxlZC10ZXh0KTtcbiAgICB9XG4gIH1cbn1cblxuQG1peGluIG1hdC1zZWxlY3QtdHlwb2dyYXBoeSgkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtdHlwb2dyYXBoeS1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gIC8vIFRoZSB1bml0LWxlc3MgbGluZS1oZWlnaHQgZnJvbSB0aGUgZm9udCBjb25maWcuXG4gICRsaW5lLWhlaWdodDogbWF0LWxpbmUtaGVpZ2h0KCRjb25maWcsIGlucHV0KTtcblxuICAubWF0LXNlbGVjdCB7XG4gICAgZm9udC1mYW1pbHk6IG1hdC1mb250LWZhbWlseSgkY29uZmlnKTtcbiAgfVxuXG4gIC5tYXQtc2VsZWN0LXRyaWdnZXIge1xuICAgIGhlaWdodDogJGxpbmUtaGVpZ2h0ICogMWVtO1xuICB9XG59XG5cbkBtaXhpbiBfbWF0LXNlbGVjdC1kZW5zaXR5KCRjb25maWctb3ItdGhlbWUpIHt9XG5cbkBtaXhpbiBtYXQtc2VsZWN0LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpIHtcbiAgJHRoZW1lOiBfbWF0LWxlZ2FjeS1nZXQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gIEBpbmNsdWRlIF9tYXQtY2hlY2stZHVwbGljYXRlLXRoZW1lLXN0eWxlcygkdGhlbWUsICdtYXQtc2VsZWN0Jykge1xuICAgICRjb2xvcjogbWF0LWdldC1jb2xvci1jb25maWcoJHRoZW1lKTtcbiAgICAkZGVuc2l0eTogbWF0LWdldC1kZW5zaXR5LWNvbmZpZygkdGhlbWUpO1xuICAgICR0eXBvZ3JhcGh5OiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCR0aGVtZSk7XG5cbiAgICBAaWYgJGNvbG9yICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LXNlbGVjdC1jb2xvcigkY29sb3IpO1xuICAgIH1cbiAgICBAaWYgJGRlbnNpdHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBfbWF0LXNlbGVjdC1kZW5zaXR5KCRkZW5zaXR5KTtcbiAgICB9XG4gICAgQGlmICR0eXBvZ3JhcGh5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LXNlbGVjdC10eXBvZ3JhcGh5KCR0eXBvZ3JhcGh5KTtcbiAgICB9XG4gIH1cbn1cblxuXG5cblxuXG5cbkBtaXhpbiBtYXQtc2lkZW5hdi1jb2xvcigkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtY29sb3ItY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAkcHJpbWFyeTogbWFwLWdldCgkY29uZmlnLCBwcmltYXJ5KTtcbiAgJGFjY2VudDogbWFwLWdldCgkY29uZmlnLCBhY2NlbnQpO1xuICAkd2FybjogbWFwLWdldCgkY29uZmlnLCB3YXJuKTtcbiAgJGJhY2tncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgYmFja2dyb3VuZCk7XG4gICRmb3JlZ3JvdW5kOiBtYXAtZ2V0KCRjb25maWcsIGZvcmVncm91bmQpO1xuXG4gICRkcmF3ZXItYmFja2dyb3VuZC1jb2xvcjogbWF0LWNvbG9yKCRiYWNrZ3JvdW5kLCBkaWFsb2cpO1xuICAkZHJhd2VyLWNvbnRhaW5lci1iYWNrZ3JvdW5kLWNvbG9yOiAgbWF0LWNvbG9yKCRiYWNrZ3JvdW5kLCBiYWNrZ3JvdW5kKTtcbiAgJGRyYXdlci1wdXNoLWJhY2tncm91bmQtY29sb3I6IG1hdC1jb2xvcigkYmFja2dyb3VuZCwgZGlhbG9nKTtcbiAgJGRyYXdlci1zaWRlLWJvcmRlcjogc29saWQgMXB4IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgZGl2aWRlcik7XG5cbiAgLm1hdC1kcmF3ZXItY29udGFpbmVyIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkZHJhd2VyLWNvbnRhaW5lci1iYWNrZ3JvdW5kLWNvbG9yO1xuICAgIGNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIHRleHQpO1xuICB9XG5cbiAgLm1hdC1kcmF3ZXIge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICRkcmF3ZXItYmFja2dyb3VuZC1jb2xvcjtcbiAgICBjb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCB0ZXh0KTtcblxuICAgICYubWF0LWRyYXdlci1wdXNoIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICRkcmF3ZXItcHVzaC1iYWNrZ3JvdW5kLWNvbG9yO1xuICAgIH1cblxuICAgICY6bm90KC5tYXQtZHJhd2VyLXNpZGUpIHtcbiAgICAgIC8vIFRoZSBlbGV2YXRpb24gb2Ygei0xNiBpcyBub3RlZCBpbiB0aGUgZGVzaWduIHNwZWNpZmljYXRpb25zLlxuICAgICAgLy8gU2VlIGh0dHBzOi8vbWF0ZXJpYWwuaW8vZGVzaWduL2NvbXBvbmVudHMvbmF2aWdhdGlvbi1kcmF3ZXIuaHRtbFxuICAgICAgQGluY2x1ZGUgX21hdC10aGVtZS1lbGV2YXRpb24oMTYsICRjb25maWcpO1xuICAgIH1cbiAgfVxuXG4gIC5tYXQtZHJhd2VyLXNpZGUge1xuICAgIGJvcmRlci1yaWdodDogJGRyYXdlci1zaWRlLWJvcmRlcjtcblxuICAgICYubWF0LWRyYXdlci1lbmQge1xuICAgICAgYm9yZGVyLWxlZnQ6ICRkcmF3ZXItc2lkZS1ib3JkZXI7XG4gICAgICBib3JkZXItcmlnaHQ6IG5vbmU7XG4gICAgfVxuICB9XG5cbiAgW2Rpcj0ncnRsJ10gLm1hdC1kcmF3ZXItc2lkZSB7XG4gICAgYm9yZGVyLWxlZnQ6ICRkcmF3ZXItc2lkZS1ib3JkZXI7XG4gICAgYm9yZGVyLXJpZ2h0OiBub25lO1xuXG4gICAgJi5tYXQtZHJhd2VyLWVuZCB7XG4gICAgICBib3JkZXItbGVmdDogbm9uZTtcbiAgICAgIGJvcmRlci1yaWdodDogJGRyYXdlci1zaWRlLWJvcmRlcjtcbiAgICB9XG4gIH1cblxuICAubWF0LWRyYXdlci1iYWNrZHJvcC5tYXQtZHJhd2VyLXNob3duIHtcbiAgICAkb3BhY2l0eTogMC42O1xuICAgICRiYWNrZHJvcC1jb2xvcjogbWF0LWNvbG9yKCRiYWNrZ3JvdW5kLCBjYXJkLCAkb3BhY2l0eSk7XG5cbiAgICBAaWYgKHR5cGUtb2YoJGJhY2tkcm9wLWNvbG9yKSA9PSBjb2xvcikge1xuICAgICAgLy8gV2UgdXNlIGludmVydCgpIGhlcmUgdG8gaGF2ZSB0aGUgZGFya2VuIHRoZSBiYWNrZ3JvdW5kIGNvbG9yIGV4cGVjdGVkIHRvIGJlIHVzZWQuIElmIHRoZVxuICAgICAgLy8gYmFja2dyb3VuZCBpcyBsaWdodCwgd2UgdXNlIGEgZGFyayBiYWNrZHJvcC4gSWYgdGhlIGJhY2tncm91bmQgaXMgZGFyayxcbiAgICAgIC8vIHdlIHVzZSBhIGxpZ2h0IGJhY2tkcm9wLlxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogaW52ZXJ0KCRiYWNrZHJvcC1jb2xvcik7XG4gICAgfVxuICAgIEBlbHNlIHtcbiAgICAgIC8vIElmIHdlIGNvdWxkbid0IHJlc29sdmUgdGhlIGJhY2tkcm9wIGNvbG9yIHRvIGEgY29sb3IgdmFsdWUsIGZhbGwgYmFjayB0byB1c2luZ1xuICAgICAgLy8gYG9wYWNpdHlgIHRvIG1ha2UgaXQgb3BhcXVlIHNpbmNlIGl0cyBlbmQgdmFsdWUgY291bGQgYmUgYSBzb2xpZCBjb2xvci5cbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICRiYWNrZHJvcC1jb2xvcjtcbiAgICAgIG9wYWNpdHk6ICRvcGFjaXR5O1xuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gbWF0LXNpZGVuYXYtdHlwb2dyYXBoeSgkY29uZmlnLW9yLXRoZW1lKSB7fVxuXG5AbWl4aW4gX21hdC1zaWRlbmF2LWRlbnNpdHkoJGNvbmZpZy1vci10aGVtZSkge31cblxuQG1peGluIG1hdC1zaWRlbmF2LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpIHtcbiAgJHRoZW1lOiBfbWF0LWxlZ2FjeS1nZXQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gIEBpbmNsdWRlIF9tYXQtY2hlY2stZHVwbGljYXRlLXRoZW1lLXN0eWxlcygkdGhlbWUsICdtYXQtc2lkZW5hdicpIHtcbiAgICAkY29sb3I6IG1hdC1nZXQtY29sb3ItY29uZmlnKCR0aGVtZSk7XG4gICAgJGRlbnNpdHk6IG1hdC1nZXQtZGVuc2l0eS1jb25maWcoJHRoZW1lKTtcbiAgICAkdHlwb2dyYXBoeTogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkdGhlbWUpO1xuXG4gICAgQGlmICRjb2xvciAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1zaWRlbmF2LWNvbG9yKCRjb2xvcik7XG4gICAgfVxuICAgIEBpZiAkZGVuc2l0eSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIF9tYXQtc2lkZW5hdi1kZW5zaXR5KCRkZW5zaXR5KTtcbiAgICB9XG4gICAgQGlmICR0eXBvZ3JhcGh5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LXNpZGVuYXYtdHlwb2dyYXBoeSgkdHlwb2dyYXBoeSk7XG4gICAgfVxuICB9XG59XG5cblxuXG5cblxuXG5cbkBtaXhpbiBfbWF0LXNsaWRlLXRvZ2dsZS1jaGVja2VkKCRwYWxldHRlLCAkdGh1bWItY2hlY2tlZC1odWUpIHtcbiAgJi5tYXQtY2hlY2tlZCB7XG4gICAgLm1hdC1zbGlkZS10b2dnbGUtdGh1bWIge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogbWF0LWNvbG9yKCRwYWxldHRlLCAkdGh1bWItY2hlY2tlZC1odWUpO1xuICAgIH1cblxuICAgIC5tYXQtc2xpZGUtdG9nZ2xlLWJhciB7XG4gICAgICAvLyBPcGFjaXR5IGlzIGRldGVybWluZWQgZnJvbSB0aGUgc3BlY3MgZm9yIHRoZSBzZWxlY3Rpb24gY29udHJvbHMuXG4gICAgICAvLyBTZWU6IGh0dHBzOi8vbWF0ZXJpYWwuaW8vZGVzaWduL2NvbXBvbmVudHMvc2VsZWN0aW9uLWNvbnRyb2xzLmh0bWwjc3BlY3NcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IG1hdC1jb2xvcigkcGFsZXR0ZSwgJHRodW1iLWNoZWNrZWQtaHVlLCAwLjU0KTtcbiAgICB9XG5cbiAgICAubWF0LXJpcHBsZS1lbGVtZW50IHtcbiAgICAgIC8vIFNldCBubyBvcGFjaXR5IGZvciB0aGUgcmlwcGxlcyBiZWNhdXNlIHRoZSByaXBwbGUgb3BhY2l0eSB3aWxsIGJlIGFkanVzdGVkIGR5bmFtaWNhbGx5XG4gICAgICAvLyBiYXNlZCBvbiB0aGUgdHlwZSBvZiBpbnRlcmFjdGlvbiB3aXRoIHRoZSBzbGlkZS10b2dnbGUgKGUuZy4gZm9yIGhvdmVyLCBmb2N1cylcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IG1hdC1jb2xvcigkcGFsZXR0ZSwgJHRodW1iLWNoZWNrZWQtaHVlKTtcbiAgICB9XG4gIH1cbn1cblxuQG1peGluIG1hdC1zbGlkZS10b2dnbGUtY29sb3IoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgJGlzLWRhcms6IG1hcF9nZXQoJGNvbmZpZywgaXMtZGFyayk7XG4gICRwcmltYXJ5OiBtYXAtZ2V0KCRjb25maWcsIHByaW1hcnkpO1xuICAkYWNjZW50OiBtYXAtZ2V0KCRjb25maWcsIGFjY2VudCk7XG4gICR3YXJuOiBtYXAtZ2V0KCRjb25maWcsIHdhcm4pO1xuICAkYmFja2dyb3VuZDogbWFwLWdldCgkY29uZmlnLCBiYWNrZ3JvdW5kKTtcbiAgJGZvcmVncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgZm9yZWdyb3VuZCk7XG5cbiAgLy8gQ29sb3IgaHVlcyBhcmUgYmFzZWQgb24gdGhlIHNwZWNzIHdoaWNoIGJyaWVmbHkgc2hvdyB0aGUgaHVlcyB0aGF0IGFyZSBhcHBsaWVkIHRvIGEgc3dpdGNoLlxuICAvLyBUaGUgMjAxOCBzcGVjcyBubyBsb25nZXIgZGVzY3JpYmUgaG93IGRhcmsgc3dpdGNoZXMgc2hvdWxkIGxvb2sgbGlrZS4gRHVlIHRvIHRoZSBsYWNrIG9mXG4gIC8vIGluZm9ybWF0aW9uIGZvciBkYXJrIHRoZW1lZCBzd2l0Y2hlcywgd2UgcGFydGlhbGx5IGtlZXAgdGhlIG9sZCBiZWhhdmlvciB0aGF0IGlzIGJhc2VkIG9uXG4gIC8vIHRoZSBwcmV2aW91cyBzcGVjaWZpY2F0aW9ucy4gRm9yIHRoZSBjaGVja2VkIGNvbG9yIHdlIGFsd2F5cyB1c2UgdGhlIGBkZWZhdWx0YCBodWUgYmVjYXVzZVxuICAvLyB0aGF0IGZvbGxvd3MgTURDIGFuZCBhbHNvIG1ha2VzIGl0IGVhc2llciBmb3IgcGVvcGxlIHRvIGNyZWF0ZSBhIGN1c3RvbSB0aGVtZSB3aXRob3V0IG5lZWRpbmdcbiAgLy8gdG8gc3BlY2lmeSBlYWNoIGh1ZSBpbmRpdmlkdWFsbHkuXG4gICR0aHVtYi11bmNoZWNrZWQtaHVlOiBpZigkaXMtZGFyaywgNDAwLCA1MCk7XG4gICR0aHVtYi1jaGVja2VkLWh1ZTogZGVmYXVsdDtcblxuICAkYmFyLXVuY2hlY2tlZC1jb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBkaXNhYmxlZCk7XG4gICRyaXBwbGUtdW5jaGVja2VkLWNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIGJhc2UpO1xuXG4gIC5tYXQtc2xpZGUtdG9nZ2xlIHtcbiAgICBAaW5jbHVkZSBfbWF0LXNsaWRlLXRvZ2dsZS1jaGVja2VkKCRhY2NlbnQsICR0aHVtYi1jaGVja2VkLWh1ZSk7XG5cbiAgICAmLm1hdC1wcmltYXJ5IHtcbiAgICAgIEBpbmNsdWRlIF9tYXQtc2xpZGUtdG9nZ2xlLWNoZWNrZWQoJHByaW1hcnksICR0aHVtYi1jaGVja2VkLWh1ZSk7XG4gICAgfVxuXG4gICAgJi5tYXQtd2FybiB7XG4gICAgICBAaW5jbHVkZSBfbWF0LXNsaWRlLXRvZ2dsZS1jaGVja2VkKCR3YXJuLCAkdGh1bWItY2hlY2tlZC1odWUpO1xuICAgIH1cblxuICAgICY6bm90KC5tYXQtY2hlY2tlZCkgLm1hdC1yaXBwbGUtZWxlbWVudCB7XG4gICAgICAvLyBTZXQgbm8gb3BhY2l0eSBmb3IgdGhlIHJpcHBsZXMgYmVjYXVzZSB0aGUgcmlwcGxlIG9wYWNpdHkgd2lsbCBiZSBhZGp1c3RlZCBkeW5hbWljYWxseVxuICAgICAgLy8gYmFzZWQgb24gdGhlIHR5cGUgb2YgaW50ZXJhY3Rpb24gd2l0aCB0aGUgc2xpZGUtdG9nZ2xlIChlLmcuIGZvciBob3ZlciwgZm9jdXMpXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkcmlwcGxlLXVuY2hlY2tlZC1jb2xvcjtcbiAgICB9XG4gIH1cblxuICAubWF0LXNsaWRlLXRvZ2dsZS10aHVtYiB7XG4gICAgQGluY2x1ZGUgX21hdC10aGVtZS1lbGV2YXRpb24oMSwgJGNvbmZpZyk7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogbWF0LWNvbG9yKCRtYXQtZ3JleSwgJHRodW1iLXVuY2hlY2tlZC1odWUpO1xuICB9XG5cbiAgLm1hdC1zbGlkZS10b2dnbGUtYmFyIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkYmFyLXVuY2hlY2tlZC1jb2xvcjtcbiAgfVxufVxuXG5AbWl4aW4gbWF0LXNsaWRlLXRvZ2dsZS10eXBvZ3JhcGh5KCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgLm1hdC1zbGlkZS10b2dnbGUtY29udGVudCB7XG4gICAgZm9udC1mYW1pbHk6IG1hdC1mb250LWZhbWlseSgkY29uZmlnKTtcbiAgfVxufVxuXG5AbWl4aW4gX21hdC1zbGlkZS10b2dnbGUtZGVuc2l0eSgkY29uZmlnLW9yLXRoZW1lKSB7fVxuXG5AbWl4aW4gbWF0LXNsaWRlLXRvZ2dsZS10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKSB7XG4gICR0aGVtZTogX21hdC1sZWdhY3ktZ2V0LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICBAaW5jbHVkZSBfbWF0LWNoZWNrLWR1cGxpY2F0ZS10aGVtZS1zdHlsZXMoJHRoZW1lLCAnbWF0LXNsaWRlLXRvZ2dsZScpIHtcbiAgICAkY29sb3I6IG1hdC1nZXQtY29sb3ItY29uZmlnKCR0aGVtZSk7XG4gICAgJGRlbnNpdHk6IG1hdC1nZXQtZGVuc2l0eS1jb25maWcoJHRoZW1lKTtcbiAgICAkdHlwb2dyYXBoeTogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkdGhlbWUpO1xuXG4gICAgQGlmICRjb2xvciAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1zbGlkZS10b2dnbGUtY29sb3IoJGNvbG9yKTtcbiAgICB9XG4gICAgQGlmICRkZW5zaXR5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgX21hdC1zbGlkZS10b2dnbGUtZGVuc2l0eSgkZGVuc2l0eSk7XG4gICAgfVxuICAgIEBpZiAkdHlwb2dyYXBoeSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1zbGlkZS10b2dnbGUtdHlwb2dyYXBoeSgkdHlwb2dyYXBoeSk7XG4gICAgfVxuICB9XG59XG5cblxuXG5cblxuXG5cbkBtaXhpbiBfbWF0LXNsaWRlci1pbm5lci1jb250ZW50LXRoZW1lKCRwYWxldHRlKSB7XG4gIC5tYXQtc2xpZGVyLXRyYWNrLWZpbGwsXG4gIC5tYXQtc2xpZGVyLXRodW1iLFxuICAubWF0LXNsaWRlci10aHVtYi1sYWJlbCB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogbWF0LWNvbG9yKCRwYWxldHRlKTtcbiAgfVxuXG4gIC5tYXQtc2xpZGVyLXRodW1iLWxhYmVsLXRleHQge1xuICAgIGNvbG9yOiBtYXQtY29sb3IoJHBhbGV0dGUsIGRlZmF1bHQtY29udHJhc3QpO1xuICB9XG5cbiAgLm1hdC1zbGlkZXItZm9jdXMtcmluZyB7XG4gICAgJG9wYWNpdHk6IDAuMjtcbiAgICAkY29sb3I6IG1hdC1jb2xvcigkcGFsZXR0ZSwgZGVmYXVsdCwgJG9wYWNpdHkpO1xuICAgIGJhY2tncm91bmQtY29sb3I6ICRjb2xvcjtcblxuICAgIC8vIGBtYXQtY29sb3JgIHVzZXMgYHJnYmFgIGZvciB0aGUgb3BhY2l0eSB3aGljaCB3b24ndCB3b3JrIHdpdGhcbiAgICAvLyBDU1MgdmFyaWFibGVzIHNvIHdlIG5lZWQgdG8gdXNlIGBvcGFjaXR5YCBhcyBhIGZhbGxiYWNrLlxuICAgIEBpZiAodHlwZS1vZigkY29sb3IpICE9IGNvbG9yKSB7XG4gICAgICBvcGFjaXR5OiAkb3BhY2l0eTtcbiAgICB9XG4gIH1cbn1cblxuQG1peGluIG1hdC1zbGlkZXItY29sb3IoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgJHByaW1hcnk6IG1hcC1nZXQoJGNvbmZpZywgcHJpbWFyeSk7XG4gICRhY2NlbnQ6IG1hcC1nZXQoJGNvbmZpZywgYWNjZW50KTtcbiAgJHdhcm46IG1hcC1nZXQoJGNvbmZpZywgd2Fybik7XG4gICRiYWNrZ3JvdW5kOiBtYXAtZ2V0KCRjb25maWcsIGJhY2tncm91bmQpO1xuICAkZm9yZWdyb3VuZDogbWFwLWdldCgkY29uZmlnLCBmb3JlZ3JvdW5kKTtcblxuICAkbWF0LXNsaWRlci1vZmYtY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgc2xpZGVyLW9mZik7XG4gICRtYXQtc2xpZGVyLW9mZi1mb2N1c2VkLWNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIHNsaWRlci1vZmYtYWN0aXZlKTtcbiAgJG1hdC1zbGlkZXItZGlzYWJsZWQtY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgc2xpZGVyLW9mZik7XG4gICRtYXQtc2xpZGVyLWxhYmVsZWQtbWluLXZhbHVlLXRodW1iLWNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIHNsaWRlci1taW4pO1xuICAkbWF0LXNsaWRlci1sYWJlbGVkLW1pbi12YWx1ZS10aHVtYi1sYWJlbC1jb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBzbGlkZXItb2ZmKTtcbiAgJG1hdC1zbGlkZXItdGljay1vcGFjaXR5OiAwLjc7XG4gICRtYXQtc2xpZGVyLXRpY2stY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgYmFzZSwgJG1hdC1zbGlkZXItdGljay1vcGFjaXR5KTtcbiAgJG1hdC1zbGlkZXItdGljay1zaXplOiAycHg7XG5cbiAgLm1hdC1zbGlkZXItdHJhY2stYmFja2dyb3VuZCB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogJG1hdC1zbGlkZXItb2ZmLWNvbG9yO1xuICB9XG5cbiAgLm1hdC1wcmltYXJ5IHtcbiAgICBAaW5jbHVkZSBfbWF0LXNsaWRlci1pbm5lci1jb250ZW50LXRoZW1lKCRwcmltYXJ5KTtcbiAgfVxuXG4gIC5tYXQtYWNjZW50IHtcbiAgICBAaW5jbHVkZSBfbWF0LXNsaWRlci1pbm5lci1jb250ZW50LXRoZW1lKCRhY2NlbnQpO1xuICB9XG5cbiAgLm1hdC13YXJuIHtcbiAgICBAaW5jbHVkZSBfbWF0LXNsaWRlci1pbm5lci1jb250ZW50LXRoZW1lKCR3YXJuKTtcbiAgfVxuXG4gIC5tYXQtc2xpZGVyOmhvdmVyLFxuICAuY2RrLWZvY3VzZWQge1xuICAgIC5tYXQtc2xpZGVyLXRyYWNrLWJhY2tncm91bmQge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJG1hdC1zbGlkZXItb2ZmLWZvY3VzZWQtY29sb3I7XG4gICAgfVxuICB9XG5cbiAgLm1hdC1zbGlkZXItZGlzYWJsZWQge1xuICAgIC5tYXQtc2xpZGVyLXRyYWNrLWJhY2tncm91bmQsXG4gICAgLm1hdC1zbGlkZXItdHJhY2stZmlsbCxcbiAgICAubWF0LXNsaWRlci10aHVtYiB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkbWF0LXNsaWRlci1kaXNhYmxlZC1jb2xvcjtcbiAgICB9XG5cbiAgICAmOmhvdmVyIHtcbiAgICAgIC5tYXQtc2xpZGVyLXRyYWNrLWJhY2tncm91bmQge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkbWF0LXNsaWRlci1kaXNhYmxlZC1jb2xvcjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAubWF0LXNsaWRlci1taW4tdmFsdWUge1xuICAgIC5tYXQtc2xpZGVyLWZvY3VzLXJpbmcge1xuICAgICAgJG9wYWNpdHk6IDAuMTI7XG4gICAgICAkY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgYmFzZSwgJG9wYWNpdHkpO1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJGNvbG9yO1xuXG4gICAgICAvLyBgbWF0LWNvbG9yYCB1c2VzIGByZ2JhYCBmb3IgdGhlIG9wYWNpdHkgd2hpY2ggd29uJ3Qgd29yayB3aXRoXG4gICAgICAvLyBDU1MgdmFyaWFibGVzIHNvIHdlIG5lZWQgdG8gdXNlIGBvcGFjaXR5YCBhcyBhIGZhbGxiYWNrLlxuICAgICAgQGlmICh0eXBlLW9mKCRjb2xvcikgIT0gY29sb3IpIHtcbiAgICAgICAgb3BhY2l0eTogJG9wYWNpdHk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgJi5tYXQtc2xpZGVyLXRodW1iLWxhYmVsLXNob3dpbmcge1xuICAgICAgLm1hdC1zbGlkZXItdGh1bWIsXG4gICAgICAubWF0LXNsaWRlci10aHVtYi1sYWJlbCB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICRtYXQtc2xpZGVyLWxhYmVsZWQtbWluLXZhbHVlLXRodW1iLWNvbG9yO1xuICAgICAgfVxuXG4gICAgICAmLmNkay1mb2N1c2VkIHtcbiAgICAgICAgLm1hdC1zbGlkZXItdGh1bWIsXG4gICAgICAgIC5tYXQtc2xpZGVyLXRodW1iLWxhYmVsIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkbWF0LXNsaWRlci1sYWJlbGVkLW1pbi12YWx1ZS10aHVtYi1sYWJlbC1jb2xvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgICY6bm90KC5tYXQtc2xpZGVyLXRodW1iLWxhYmVsLXNob3dpbmcpIHtcbiAgICAgIC5tYXQtc2xpZGVyLXRodW1iIHtcbiAgICAgICAgYm9yZGVyLWNvbG9yOiAkbWF0LXNsaWRlci1vZmYtY29sb3I7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICAgICAgfVxuXG4gICAgICAmOmhvdmVyLFxuICAgICAgJi5jZGstZm9jdXNlZCB7XG4gICAgICAgIC5tYXQtc2xpZGVyLXRodW1iIHtcbiAgICAgICAgICBib3JkZXItY29sb3I6ICRtYXQtc2xpZGVyLW9mZi1mb2N1c2VkLWNvbG9yO1xuICAgICAgICB9XG5cbiAgICAgICAgJi5tYXQtc2xpZGVyLWRpc2FibGVkIC5tYXQtc2xpZGVyLXRodW1iIHtcbiAgICAgICAgICBib3JkZXItY29sb3I6ICRtYXQtc2xpZGVyLWRpc2FibGVkLWNvbG9yO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLm1hdC1zbGlkZXItaGFzLXRpY2tzIC5tYXQtc2xpZGVyLXdyYXBwZXI6OmFmdGVyIHtcbiAgICBib3JkZXItY29sb3I6ICRtYXQtc2xpZGVyLXRpY2stY29sb3I7XG5cbiAgICAvLyBgbWF0LWNvbG9yYCB1c2VzIGByZ2JhYCBmb3IgdGhlIG9wYWNpdHkgd2hpY2ggd29uJ3Qgd29yayB3aXRoXG4gICAgLy8gQ1NTIHZhcmlhYmxlcyBzbyB3ZSBuZWVkIHRvIHVzZSBgb3BhY2l0eWAgYXMgYSBmYWxsYmFjay5cbiAgICBAaWYgKHR5cGUtb2YoJG1hdC1zbGlkZXItdGljay1jb2xvcikgIT0gY29sb3IpIHtcbiAgICAgIG9wYWNpdHk6ICRtYXQtc2xpZGVyLXRpY2stb3BhY2l0eTtcbiAgICB9XG4gIH1cblxuICAubWF0LXNsaWRlci1ob3Jpem9udGFsIC5tYXQtc2xpZGVyLXRpY2tzIHtcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiByZXBlYXRpbmctbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCAkbWF0LXNsaWRlci10aWNrLWNvbG9yLFxuICAgICAgICAkbWF0LXNsaWRlci10aWNrLWNvbG9yICRtYXQtc2xpZGVyLXRpY2stc2l6ZSwgdHJhbnNwYXJlbnQgMCwgdHJhbnNwYXJlbnQpO1xuICAgIC8vIEZpcmVmb3ggZG9lc24ndCBkcmF3IHRoZSBncmFkaWVudCBjb3JyZWN0bHkgd2l0aCAndG8gcmlnaHQnXG4gICAgLy8gKHNlZSBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xMzE0MzE5KS5cbiAgICBiYWNrZ3JvdW5kLWltYWdlOiAtbW96LXJlcGVhdGluZy1saW5lYXItZ3JhZGllbnQoMC4wMDAxZGVnLCAkbWF0LXNsaWRlci10aWNrLWNvbG9yLFxuICAgICAgICAkbWF0LXNsaWRlci10aWNrLWNvbG9yICRtYXQtc2xpZGVyLXRpY2stc2l6ZSwgdHJhbnNwYXJlbnQgMCwgdHJhbnNwYXJlbnQpO1xuXG4gICAgLy8gYG1hdC1jb2xvcmAgdXNlcyBgcmdiYWAgZm9yIHRoZSBvcGFjaXR5IHdoaWNoIHdvbid0IHdvcmsgd2l0aFxuICAgIC8vIENTUyB2YXJpYWJsZXMgc28gd2UgbmVlZCB0byB1c2UgYG9wYWNpdHlgIGFzIGEgZmFsbGJhY2suXG4gICAgQGlmICh0eXBlLW9mKCRtYXQtc2xpZGVyLXRpY2stY29sb3IpICE9IGNvbG9yKSB7XG4gICAgICBvcGFjaXR5OiAkbWF0LXNsaWRlci10aWNrLW9wYWNpdHk7XG4gICAgfVxuICB9XG5cbiAgLm1hdC1zbGlkZXItdmVydGljYWwgLm1hdC1zbGlkZXItdGlja3Mge1xuICAgIGJhY2tncm91bmQtaW1hZ2U6IHJlcGVhdGluZy1saW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCAkbWF0LXNsaWRlci10aWNrLWNvbG9yLFxuICAgICAgICAkbWF0LXNsaWRlci10aWNrLWNvbG9yICRtYXQtc2xpZGVyLXRpY2stc2l6ZSwgdHJhbnNwYXJlbnQgMCwgdHJhbnNwYXJlbnQpO1xuXG4gICAgLy8gYG1hdC1jb2xvcmAgdXNlcyBgcmdiYWAgZm9yIHRoZSBvcGFjaXR5IHdoaWNoIHdvbid0IHdvcmsgd2l0aFxuICAgIC8vIENTUyB2YXJpYWJsZXMgc28gd2UgbmVlZCB0byB1c2UgYG9wYWNpdHlgIGFzIGEgZmFsbGJhY2suXG4gICAgQGlmICh0eXBlLW9mKCRtYXQtc2xpZGVyLXRpY2stY29sb3IpICE9IGNvbG9yKSB7XG4gICAgICBvcGFjaXR5OiAkbWF0LXNsaWRlci10aWNrLW9wYWNpdHk7XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiBtYXQtc2xpZGVyLXR5cG9ncmFwaHkoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAubWF0LXNsaWRlci10aHVtYi1sYWJlbC10ZXh0IHtcbiAgICBmb250OiB7XG4gICAgICBmYW1pbHk6IG1hdC1mb250LWZhbWlseSgkY29uZmlnKTtcbiAgICAgIHNpemU6IG1hdC1mb250LXNpemUoJGNvbmZpZywgY2FwdGlvbik7XG4gICAgICB3ZWlnaHQ6IG1hdC1mb250LXdlaWdodCgkY29uZmlnLCBib2R5LTIpO1xuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gX21hdC1zbGlkZXItZGVuc2l0eSgkY29uZmlnLW9yLXRoZW1lKSB7fVxuXG5AbWl4aW4gbWF0LXNsaWRlci10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKSB7XG4gICR0aGVtZTogX21hdC1sZWdhY3ktZ2V0LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICBAaW5jbHVkZSBfbWF0LWNoZWNrLWR1cGxpY2F0ZS10aGVtZS1zdHlsZXMoJHRoZW1lLCAnbWF0LXNsaWRlcicpIHtcbiAgICAkY29sb3I6IG1hdC1nZXQtY29sb3ItY29uZmlnKCR0aGVtZSk7XG4gICAgJGRlbnNpdHk6IG1hdC1nZXQtZGVuc2l0eS1jb25maWcoJHRoZW1lKTtcbiAgICAkdHlwb2dyYXBoeTogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkdGhlbWUpO1xuXG4gICAgQGlmICRjb2xvciAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1zbGlkZXItY29sb3IoJGNvbG9yKTtcbiAgICB9XG4gICAgQGlmICRkZW5zaXR5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgX21hdC1zbGlkZXItZGVuc2l0eSgkZGVuc2l0eSk7XG4gICAgfVxuICAgIEBpZiAkdHlwb2dyYXBoeSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1zbGlkZXItdHlwb2dyYXBoeSgkdHlwb2dyYXBoeSk7XG4gICAgfVxuICB9XG59XG5cblxuXG5cblxuXG4kbWF0LXN0ZXBwZXItaGVhZGVyLWhlaWdodDogNzJweCAhZGVmYXVsdDtcbi8vIE1pbmltdW0gaGVpZ2h0IGZvciBoaWdoZXN0IGRlbnNpdHkgc3RlcHBlcidzIGlzIGRldGVybWluZWQgYmFzZWQgb24gaG93IG11Y2hcbi8vIHN0ZXBwZXIgaGVhZGVycyBjYW4gc2hyaW5rIHVudGlsIHRoZSBzdGVwIGljb24gb3Igc3RlcCBsYWJlbCBleGNlZWQuIFdlIGNhbid0IHVzZVxuLy8gYSB2YWx1ZSBiZWxvdyBgNDJweGAgYmVjYXVzZSB0aGUgb3B0aW9uYWwgbGFiZWwgZm9yIHN0ZXBzIHdvdWxkIG90aGVyd2lzZSBleGNlZWQuXG4kbWF0LXN0ZXBwZXItaGVhZGVyLW1pbmltdW0taGVpZ2h0OiA0MnB4ICFkZWZhdWx0O1xuJG1hdC1zdGVwcGVyLWhlYWRlci1tYXhpbXVtLWhlaWdodDogJG1hdC1zdGVwcGVyLWhlYWRlci1oZWlnaHQgIWRlZmF1bHQ7XG5cbiRtYXQtc3RlcHBlci1kZW5zaXR5LWNvbmZpZzogKFxuICBoZWlnaHQ6IChcbiAgICBkZWZhdWx0OiAkbWF0LXN0ZXBwZXItaGVhZGVyLWhlaWdodCxcbiAgICBtYXhpbXVtOiAkbWF0LXN0ZXBwZXItaGVhZGVyLW1heGltdW0taGVpZ2h0LFxuICAgIG1pbmltdW06ICRtYXQtc3RlcHBlci1oZWFkZXItbWluaW11bS1oZWlnaHQsXG4gIClcbikgIWRlZmF1bHQ7XG5cbi8vIE5vdGU6IFRoZXNlIHZhcmlhYmxlcyBhcmUgbm90IGRlbm90ZWQgd2l0aCBgIWRlZmF1bHRgIGJlY2F1c2UgdGhleSBhcmUgdXNlZCBpbiB0aGUgbm9uLXRoZW1lXG4vLyBjb21wb25lbnQgc3R5bGVzLiBNb2RpZnlpbmcgdGhlc2UgdmFyaWFibGVzIGRvZXMgbm90IGhhdmUgdGhlIGRlc2lyZWQgZWZmZWN0IGZvciBjb25zdW1lcnMuXG4kbWF0LXN0ZXBwZXItbGFiZWwtaGVhZGVyLWhlaWdodDogMjRweDtcbiRtYXQtc3RlcHBlci1sYWJlbC1wb3NpdGlvbi1ib3R0b20tdG9wLWdhcDogMTZweDtcbiRtYXQtc3RlcHBlci1sYWJlbC1taW4td2lkdGg6IDUwcHg7XG5cbiRtYXQtdmVydGljYWwtc3RlcHBlci1jb250ZW50LW1hcmdpbjogMzZweDtcblxuJG1hdC1zdGVwcGVyLXNpZGUtZ2FwOiAyNHB4O1xuJG1hdC1zdGVwcGVyLWxpbmUtd2lkdGg6IDFweDtcbiRtYXQtc3RlcHBlci1saW5lLWdhcDogOHB4O1xuXG4kbWF0LXN0ZXAtc3ViLWxhYmVsLWZvbnQtc2l6ZTogMTJweDtcbiRtYXQtc3RlcC1oZWFkZXItaWNvbi1zaXplOiAxNnB4O1xuXG5cbkBtaXhpbiBtYXQtc3RlcHBlci1jb2xvcigkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtY29sb3ItY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAkZm9yZWdyb3VuZDogbWFwLWdldCgkY29uZmlnLCBmb3JlZ3JvdW5kKTtcbiAgJGJhY2tncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgYmFja2dyb3VuZCk7XG4gICRwcmltYXJ5OiBtYXAtZ2V0KCRjb25maWcsIHByaW1hcnkpO1xuICAkd2FybjogbWFwLWdldCgkY29uZmlnLCB3YXJuKTtcblxuICAubWF0LXN0ZXAtaGVhZGVyIHtcbiAgICAmLmNkay1rZXlib2FyZC1mb2N1c2VkLFxuICAgICYuY2RrLXByb2dyYW0tZm9jdXNlZCxcbiAgICAmOmhvdmVyIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IG1hdC1jb2xvcigkYmFja2dyb3VuZCwgaG92ZXIpO1xuICAgIH1cblxuICAgIC8vIE9uIHRvdWNoIGRldmljZXMgdGhlIDpob3ZlciBzdGF0ZSB3aWxsIGxpbmdlciBvbiB0aGUgZWxlbWVudCBhZnRlciBhIHRhcC5cbiAgICAvLyBSZXNldCBpdCB2aWEgYEBtZWRpYWAgYWZ0ZXIgdGhlIGRlY2xhcmF0aW9uLCBiZWNhdXNlIHRoZSBtZWRpYSBxdWVyeSBpc24ndFxuICAgIC8vIHN1cHBvcnRlZCBieSBhbGwgYnJvd3NlcnMgeWV0LlxuICAgIEBtZWRpYSAoaG92ZXI6IG5vbmUpIHtcbiAgICAgICY6aG92ZXIge1xuICAgICAgICBiYWNrZ3JvdW5kOiBub25lO1xuICAgICAgfVxuICAgIH1cblxuICAgIC5tYXQtc3RlcC1sYWJlbCxcbiAgICAubWF0LXN0ZXAtb3B0aW9uYWwge1xuICAgICAgLy8gVE9ETyhqb3NlcGhwZXJyb3R0KTogVXBkYXRlIHRvIHVzaW5nIGEgY29ycmVjdGVkIGRpc2FibGVkLXRleHQgY29udHJhc3RcbiAgICAgIC8vIGluc3RlYWQgb2Ygc2Vjb25kYXJ5LXRleHQuXG4gICAgICBjb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBzZWNvbmRhcnktdGV4dCk7XG4gICAgfVxuXG4gICAgLm1hdC1zdGVwLWljb24ge1xuICAgICAgLy8gVE9ETyhqb3NlcGhwZXJyb3R0KTogVXBkYXRlIHRvIHVzaW5nIGEgY29ycmVjdGVkIGRpc2FibGVkLXRleHQgY29udHJhc3RcbiAgICAgIC8vIGluc3RlYWQgb2Ygc2Vjb25kYXJ5LXRleHQuXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIHNlY29uZGFyeS10ZXh0KTtcbiAgICAgIGNvbG9yOiBtYXQtY29sb3IoJHByaW1hcnksIGRlZmF1bHQtY29udHJhc3QpO1xuICAgIH1cblxuICAgIC5tYXQtc3RlcC1pY29uLXNlbGVjdGVkLFxuICAgIC5tYXQtc3RlcC1pY29uLXN0YXRlLWRvbmUsXG4gICAgLm1hdC1zdGVwLWljb24tc3RhdGUtZWRpdCB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBtYXQtY29sb3IoJHByaW1hcnkpO1xuICAgICAgY29sb3I6IG1hdC1jb2xvcigkcHJpbWFyeSwgZGVmYXVsdC1jb250cmFzdCk7XG4gICAgfVxuXG4gICAgLm1hdC1zdGVwLWljb24tc3RhdGUtZXJyb3Ige1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgICBjb2xvcjogbWF0LWNvbG9yKCR3YXJuLCB0ZXh0KTtcbiAgICB9XG5cbiAgICAubWF0LXN0ZXAtbGFiZWwubWF0LXN0ZXAtbGFiZWwtYWN0aXZlIHtcbiAgICAgIGNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIHRleHQpO1xuICAgIH1cblxuICAgIC5tYXQtc3RlcC1sYWJlbC5tYXQtc3RlcC1sYWJlbC1lcnJvciB7XG4gICAgICBjb2xvcjogbWF0LWNvbG9yKCR3YXJuLCB0ZXh0KTtcbiAgICB9XG4gIH1cblxuICAubWF0LXN0ZXBwZXItaG9yaXpvbnRhbCwgLm1hdC1zdGVwcGVyLXZlcnRpY2FsIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBtYXQtY29sb3IoJGJhY2tncm91bmQsIGNhcmQpO1xuICB9XG5cbiAgLm1hdC1zdGVwcGVyLXZlcnRpY2FsLWxpbmU6OmJlZm9yZSB7XG4gICAgYm9yZGVyLWxlZnQtY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgZGl2aWRlcik7XG4gIH1cblxuICAubWF0LWhvcml6b250YWwtc3RlcHBlci1oZWFkZXI6OmJlZm9yZSxcbiAgLm1hdC1ob3Jpem9udGFsLXN0ZXBwZXItaGVhZGVyOjphZnRlcixcbiAgLm1hdC1zdGVwcGVyLWhvcml6b250YWwtbGluZSB7XG4gICAgYm9yZGVyLXRvcC1jb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBkaXZpZGVyKTtcbiAgfVxufVxuXG5AbWl4aW4gbWF0LXN0ZXBwZXItdHlwb2dyYXBoeSgkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtdHlwb2dyYXBoeS1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gIC5tYXQtc3RlcHBlci12ZXJ0aWNhbCwgLm1hdC1zdGVwcGVyLWhvcml6b250YWwge1xuICAgIGZvbnQtZmFtaWx5OiBtYXQtZm9udC1mYW1pbHkoJGNvbmZpZyk7XG4gIH1cblxuICAubWF0LXN0ZXAtbGFiZWwge1xuICAgIGZvbnQ6IHtcbiAgICAgIHNpemU6IG1hdC1mb250LXNpemUoJGNvbmZpZywgYm9keS0xKTtcbiAgICAgIHdlaWdodDogbWF0LWZvbnQtd2VpZ2h0KCRjb25maWcsIGJvZHktMSk7XG4gICAgfTtcbiAgfVxuXG4gIC5tYXQtc3RlcC1zdWItbGFiZWwtZXJyb3Ige1xuICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG4gIH1cblxuICAubWF0LXN0ZXAtbGFiZWwtZXJyb3Ige1xuICAgIGZvbnQtc2l6ZTogbWF0LWZvbnQtc2l6ZSgkY29uZmlnLCBib2R5LTIpO1xuICB9XG5cbiAgLm1hdC1zdGVwLWxhYmVsLXNlbGVjdGVkIHtcbiAgICBmb250OiB7XG4gICAgICBzaXplOiBtYXQtZm9udC1zaXplKCRjb25maWcsIGJvZHktMik7XG4gICAgICB3ZWlnaHQ6IG1hdC1mb250LXdlaWdodCgkY29uZmlnLCBib2R5LTIpO1xuICAgIH07XG4gIH1cbn1cblxuQG1peGluIF9tYXQtc3RlcHBlci1kZW5zaXR5KCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGRlbnNpdHktc2NhbGU6IG1hdC1nZXQtZGVuc2l0eS1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gICRoZWlnaHQ6IF9tYXQtZGVuc2l0eS1wcm9wLXZhbHVlKCRtYXQtc3RlcHBlci1kZW5zaXR5LWNvbmZpZywgJGRlbnNpdHktc2NhbGUsIGhlaWdodCk7XG4gICR2ZXJ0aWNhbC1wYWRkaW5nOiAoJGhlaWdodCAtICRtYXQtc3RlcHBlci1sYWJlbC1oZWFkZXItaGVpZ2h0KSAvIDI7XG5cbiAgQGluY2x1ZGUgX21hdC1kZW5zaXR5LWxlZ2FjeS1jb21wYXRpYmlsaXR5KCkge1xuICAgIC5tYXQtaG9yaXpvbnRhbC1zdGVwcGVyLWhlYWRlciB7XG4gICAgICBoZWlnaHQ6ICRoZWlnaHQ7XG4gICAgfVxuXG4gICAgLm1hdC1zdGVwcGVyLWxhYmVsLXBvc2l0aW9uLWJvdHRvbSAubWF0LWhvcml6b250YWwtc3RlcHBlci1oZWFkZXIsXG4gICAgLm1hdC12ZXJ0aWNhbC1zdGVwcGVyLWhlYWRlciwge1xuICAgICAgcGFkZGluZzogJHZlcnRpY2FsLXBhZGRpbmcgJG1hdC1zdGVwcGVyLXNpZGUtZ2FwO1xuICAgIH1cblxuICAgIC8vIEVuc3VyZXMgdGhhdCB0aGUgdmVydGljYWwgbGluZXMgZm9yIHRoZSBzdGVwIGNvbnRlbnQgZXhjZWVkIGludG8gdGhlIHN0ZXBcbiAgICAvLyBoZWFkZXJzIHdpdGggYSBnaXZlbiBkaXN0YW5jZSAoYCRtYXQtc3RlcHBlci1saW5lLWdhcGApIHRvIHRoZSBzdGVwIGljb24uXG4gICAgLm1hdC1zdGVwcGVyLXZlcnRpY2FsLWxpbmU6OmJlZm9yZSB7XG4gICAgICB0b3A6ICRtYXQtc3RlcHBlci1saW5lLWdhcCAtICR2ZXJ0aWNhbC1wYWRkaW5nO1xuICAgICAgYm90dG9tOiAkbWF0LXN0ZXBwZXItbGluZS1nYXAgLSAkdmVydGljYWwtcGFkZGluZztcbiAgICB9XG5cbiAgICAvLyBFbnN1cmVzIHRoYXQgdGhlIGhvcml6b250YWwgbGluZXMgZm9yIHRoZSBzdGVwIGhlYWRlciBhcmUgY2VudGVyZWQgdmVydGljYWxseS5cbiAgICAubWF0LXN0ZXBwZXItbGFiZWwtcG9zaXRpb24tYm90dG9tIC5tYXQtaG9yaXpvbnRhbC1zdGVwcGVyLWhlYWRlciB7XG4gICAgICAmOjphZnRlciwgJjo6YmVmb3JlIHtcbiAgICAgICAgdG9wOiAkdmVydGljYWwtcGFkZGluZyArICRtYXQtc3RlcHBlci1sYWJlbC1oZWFkZXItaGVpZ2h0IC8gMjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBFbnN1cmVzIHRoYXQgdGhlIGhvcml6b250YWwgbGluZSBmb3IgdGhlIHN0ZXAgY29udGVudCBpcyBhbGlnbmVkIGNlbnRlcmVkIHZlcnRpY2FsbHkuXG4gICAgLm1hdC1zdGVwcGVyLWxhYmVsLXBvc2l0aW9uLWJvdHRvbSAubWF0LXN0ZXBwZXItaG9yaXpvbnRhbC1saW5lIHtcbiAgICAgIHRvcDogJHZlcnRpY2FsLXBhZGRpbmcgKyAkbWF0LXN0ZXBwZXItbGFiZWwtaGVhZGVyLWhlaWdodCAvIDI7XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiBtYXQtc3RlcHBlci10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKSB7XG4gICR0aGVtZTogX21hdC1sZWdhY3ktZ2V0LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICBAaW5jbHVkZSBfbWF0LWNoZWNrLWR1cGxpY2F0ZS10aGVtZS1zdHlsZXMoJHRoZW1lLCAnbWF0LXN0ZXBwZXInKSB7XG4gICAgJGNvbG9yOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkdGhlbWUpO1xuICAgICRkZW5zaXR5OiBtYXQtZ2V0LWRlbnNpdHktY29uZmlnKCR0aGVtZSk7XG4gICAgJHR5cG9ncmFwaHk6IG1hdC1nZXQtdHlwb2dyYXBoeS1jb25maWcoJHRoZW1lKTtcblxuICAgIEBpZiAkY29sb3IgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtc3RlcHBlci1jb2xvcigkY29sb3IpO1xuICAgIH1cbiAgICBAaWYgJGRlbnNpdHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBfbWF0LXN0ZXBwZXItZGVuc2l0eSgkZGVuc2l0eSk7XG4gICAgfVxuICAgIEBpZiAkdHlwb2dyYXBoeSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1zdGVwcGVyLXR5cG9ncmFwaHkoJHR5cG9ncmFwaHkpO1xuICAgIH1cbiAgfVxufVxuXG5cblxuXG5AbWl4aW4gbWF0LXNvcnQtY29sb3IoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgJGJhY2tncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgYmFja2dyb3VuZCk7XG4gICRmb3JlZ3JvdW5kOiBtYXAtZ2V0KCRjb25maWcsIGZvcmVncm91bmQpO1xuXG4gIC5tYXQtc29ydC1oZWFkZXItYXJyb3cge1xuICAgICR0YWJsZS1iYWNrZ3JvdW5kOiBtYXQtY29sb3IoJGJhY2tncm91bmQsICdjYXJkJyk7XG4gICAgJHRleHQtY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgc2Vjb25kYXJ5LXRleHQpO1xuXG4gICAgLy8gQmVjYXVzZSB0aGUgYXJyb3cgaXMgbWFkZSB1cCBvZiBtdWx0aXBsZSBlbGVtZW50cyB0aGF0IGFyZSBzdGFja2VkIG9uIHRvcCBvZiBlYWNoIG90aGVyLFxuICAgIC8vIHdlIGNhbid0IHVzZSB0aGUgc2VtaS10cmFuc3BhcmVudCBjb2xvciBmcm9tIHRoZSB0aGVtZSBkaXJlY3RseS4gSWYgdGhlIHZhbHVlIGlzIGEgY29sb3JcbiAgICAvLyAqdHlwZSosIHdlIGNvbnZlcnQgaXQgaW50byBhIHNvbGlkIGNvbG9yIGJ5IHRha2luZyB0aGUgb3BhY2l0eSBmcm9tIHRoZSByZ2JhIHZhbHVlIGFuZFxuICAgIC8vIHVzaW5nIHRoZSB2YWx1ZSB0byBkZXRlcm1pbmUgdGhlIHBlcmNlbnRhZ2Ugb2YgdGhlIGJhY2tncm91bmQgdG8gcHV0IGludG8gZm9yZWdyb3VuZFxuICAgIC8vIHdoZW4gbWl4aW5nIHRoZSBjb2xvcnMgdG9nZXRoZXIuIE90aGVyd2lzZSwgaWYgaXQgcmVzb2x2ZXMgdG8gc29tZXRoaW5nIGRpZmZlcmVudFxuICAgIC8vIChlLmcuIGl0IHJlc29sdmVzIHRvIGEgQ1NTIHZhcmlhYmxlKSwgd2UgdXNlIHRoZSBjb2xvciBkaXJlY3RseS5cbiAgICBAaWYgKHR5cGUtb2YoJHRhYmxlLWJhY2tncm91bmQpID09IGNvbG9yIGFuZCB0eXBlLW9mKCR0ZXh0LWNvbG9yKSA9PSBjb2xvcikge1xuICAgICAgJHRleHQtb3BhY2l0eTogb3BhY2l0eSgkdGV4dC1jb2xvcik7XG4gICAgICBjb2xvcjogbWl4KCR0YWJsZS1iYWNrZ3JvdW5kLCByZ2JhKCR0ZXh0LWNvbG9yLCAxKSwgKDEgLSAkdGV4dC1vcGFjaXR5KSAqIDEwMCUpO1xuICAgIH1cbiAgICBAZWxzZSB7XG4gICAgICBjb2xvcjogJHRleHQtY29sb3I7XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiBtYXQtc29ydC10eXBvZ3JhcGh5KCRjb25maWctb3ItdGhlbWUpIHt9XG5cbkBtaXhpbiBfbWF0LXNvcnQtZGVuc2l0eSgkY29uZmlnLW9yLXRoZW1lKSB7fVxuXG5AbWl4aW4gbWF0LXNvcnQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZykge1xuICAkdGhlbWU6IF9tYXQtbGVnYWN5LWdldC10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKTtcbiAgQGluY2x1ZGUgX21hdC1jaGVjay1kdXBsaWNhdGUtdGhlbWUtc3R5bGVzKCR0aGVtZSwgJ21hdC1zb3J0Jykge1xuICAgICRjb2xvcjogbWF0LWdldC1jb2xvci1jb25maWcoJHRoZW1lKTtcbiAgICAkZGVuc2l0eTogbWF0LWdldC1kZW5zaXR5LWNvbmZpZygkdGhlbWUpO1xuICAgICR0eXBvZ3JhcGh5OiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCR0aGVtZSk7XG5cbiAgICBAaWYgJGNvbG9yICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LXNvcnQtY29sb3IoJGNvbG9yKTtcbiAgICB9XG4gICAgQGlmICRkZW5zaXR5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgX21hdC1zb3J0LWRlbnNpdHkoJGRlbnNpdHkpO1xuICAgIH1cbiAgICBAaWYgJHR5cG9ncmFwaHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtc29ydC10eXBvZ3JhcGh5KCR0eXBvZ3JhcGh5KTtcbiAgICB9XG4gIH1cbn1cblxuXG5cblxuXG5cbkBtaXhpbiBtYXQtdGFicy1jb2xvcigkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtY29sb3ItY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAkcHJpbWFyeTogbWFwLWdldCgkY29uZmlnLCBwcmltYXJ5KTtcbiAgJGFjY2VudDogbWFwLWdldCgkY29uZmlnLCBhY2NlbnQpO1xuICAkd2FybjogbWFwLWdldCgkY29uZmlnLCB3YXJuKTtcbiAgJGJhY2tncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgYmFja2dyb3VuZCk7XG4gICRmb3JlZ3JvdW5kOiBtYXAtZ2V0KCRjb25maWcsIGZvcmVncm91bmQpO1xuICAkaGVhZGVyLWJvcmRlcjogMXB4IHNvbGlkIG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgZGl2aWRlcik7XG5cbiAgLm1hdC10YWItbmF2LWJhcixcbiAgLm1hdC10YWItaGVhZGVyIHtcbiAgICBib3JkZXItYm90dG9tOiAkaGVhZGVyLWJvcmRlcjtcbiAgfVxuXG4gIC5tYXQtdGFiLWdyb3VwLWludmVydGVkLWhlYWRlciB7XG4gICAgLm1hdC10YWItbmF2LWJhcixcbiAgICAubWF0LXRhYi1oZWFkZXIge1xuICAgICAgYm9yZGVyLXRvcDogJGhlYWRlci1ib3JkZXI7XG4gICAgICBib3JkZXItYm90dG9tOiBub25lO1xuICAgIH1cbiAgfVxuXG4gIC5tYXQtdGFiLWxhYmVsLCAubWF0LXRhYi1saW5rIHtcbiAgICBjb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCB0ZXh0KTtcblxuICAgICYubWF0LXRhYi1kaXNhYmxlZCB7XG4gICAgICBjb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBkaXNhYmxlZC10ZXh0KTtcbiAgICB9XG4gIH1cblxuICAubWF0LXRhYi1oZWFkZXItcGFnaW5hdGlvbi1jaGV2cm9uIHtcbiAgICBib3JkZXItY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgdGV4dCk7XG4gIH1cblxuICAubWF0LXRhYi1oZWFkZXItcGFnaW5hdGlvbi1kaXNhYmxlZCAubWF0LXRhYi1oZWFkZXItcGFnaW5hdGlvbi1jaGV2cm9uIHtcbiAgICBib3JkZXItY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgZGlzYWJsZWQtdGV4dCk7XG4gIH1cblxuICAvLyBSZW1vdmUgaGVhZGVyIGJvcmRlciB3aGVuIHRoZXJlIGlzIGEgYmFja2dyb3VuZCBjb2xvclxuICAubWF0LXRhYi1ncm91cFtjbGFzcyo9J21hdC1iYWNrZ3JvdW5kLSddIC5tYXQtdGFiLWhlYWRlcixcbiAgLm1hdC10YWItbmF2LWJhcltjbGFzcyo9J21hdC1iYWNrZ3JvdW5kLSddIHtcbiAgICBib3JkZXItYm90dG9tOiBub25lO1xuICAgIGJvcmRlci10b3A6IG5vbmU7XG4gIH1cblxuICAubWF0LXRhYi1ncm91cCwgLm1hdC10YWItbmF2LWJhciB7XG4gICAgJHRoZW1lLWNvbG9yczogKFxuICAgICAgcHJpbWFyeTogJHByaW1hcnksXG4gICAgICBhY2NlbnQ6ICRhY2NlbnQsXG4gICAgICB3YXJuOiAkd2FyblxuICAgICk7XG5cbiAgICBAZWFjaCAkbmFtZSwgJGNvbG9yIGluICR0aGVtZS1jb2xvcnMge1xuICAgICAgLy8gU2V0IHRoZSBmb3JlZ3JvdW5kIGNvbG9yIG9mIHRoZSB0YWJzXG4gICAgICAmLm1hdC0jeyRuYW1lfSB7XG4gICAgICAgIEBpbmNsdWRlIF9tYXQtdGFiLWxhYmVsLWZvY3VzKCRjb2xvcik7XG4gICAgICAgIEBpbmNsdWRlIF9tYXQtaW5rLWJhcigkY29sb3IpO1xuXG4gICAgICAgIC8vIE92ZXJyaWRlIGluayBiYXIgd2hlbiBiYWNrZ3JvdW5kIGNvbG9yIGlzIHRoZSBzYW1lXG4gICAgICAgICYubWF0LWJhY2tncm91bmQtI3skbmFtZX0ge1xuICAgICAgICAgIEBpbmNsdWRlIF9tYXQtaW5rLWJhcigkY29sb3IsIGRlZmF1bHQtY29udHJhc3QpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgQGVhY2ggJG5hbWUsICRjb2xvciBpbiAkdGhlbWUtY29sb3JzIHtcbiAgICAgIC8vIFNldCBiYWNrZ3JvdW5kIGNvbG9yIG9mIHRoZSB0YWJzIGFuZCBvdmVycmlkZSBmb2N1cyBjb2xvclxuICAgICAgJi5tYXQtYmFja2dyb3VuZC0jeyRuYW1lfSB7XG4gICAgICAgIEBpbmNsdWRlIF9tYXQtdGFiLWxhYmVsLWZvY3VzKCRjb2xvcik7XG4gICAgICAgIEBpbmNsdWRlIF9tYXQtdGFicy1iYWNrZ3JvdW5kKCRjb2xvcik7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiBfbWF0LWluay1iYXIoJGNvbG9yLCAkaHVlOiBkZWZhdWx0KSB7XG4gIC5tYXQtaW5rLWJhciB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogbWF0LWNvbG9yKCRjb2xvciwgJGh1ZSk7XG4gIH1cbn1cblxuQG1peGluIF9tYXQtdGFiLWxhYmVsLWZvY3VzKCR0YWItZm9jdXMtY29sb3IpIHtcbiAgLm1hdC10YWItbGFiZWwsXG4gIC5tYXQtdGFiLWxpbmsge1xuICAgICYuY2RrLWtleWJvYXJkLWZvY3VzZWQsXG4gICAgJi5jZGstcHJvZ3JhbS1mb2N1c2VkIHtcbiAgICAgICY6bm90KC5tYXQtdGFiLWRpc2FibGVkKSB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IG1hdC1jb2xvcigkdGFiLWZvY3VzLWNvbG9yLCBsaWdodGVyLCAwLjMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gX21hdC10YWJzLWJhY2tncm91bmQoJGJhY2tncm91bmQtY29sb3IpIHtcbiAgLy8gU2V0IGJhY2tncm91bmQgY29sb3IgZm9yIHRoZSB0YWIgZ3JvdXBcbiAgLm1hdC10YWItaGVhZGVyLCAubWF0LXRhYi1saW5rcywgLm1hdC10YWItaGVhZGVyLXBhZ2luYXRpb24ge1xuICAgIGJhY2tncm91bmQtY29sb3I6IG1hdC1jb2xvcigkYmFja2dyb3VuZC1jb2xvcik7XG4gIH1cblxuICAvLyBTZXQgbGFiZWxzIHRvIGNvbnRyYXN0IGFnYWluc3QgYmFja2dyb3VuZFxuICAubWF0LXRhYi1sYWJlbCwgLm1hdC10YWItbGluayB7XG4gICAgY29sb3I6IG1hdC1jb2xvcigkYmFja2dyb3VuZC1jb2xvciwgZGVmYXVsdC1jb250cmFzdCk7XG5cbiAgICAmLm1hdC10YWItZGlzYWJsZWQge1xuICAgICAgY29sb3I6IG1hdC1jb2xvcigkYmFja2dyb3VuZC1jb2xvciwgZGVmYXVsdC1jb250cmFzdCwgMC40KTtcbiAgICB9XG4gIH1cblxuICAvLyBTZXQgcGFnaW5hdGlvbiBjaGV2cm9ucyB0byBjb250cmFzdCBiYWNrZ3JvdW5kXG4gIC5tYXQtdGFiLWhlYWRlci1wYWdpbmF0aW9uLWNoZXZyb24ge1xuICAgIGJvcmRlci1jb2xvcjogbWF0LWNvbG9yKCRiYWNrZ3JvdW5kLWNvbG9yLCBkZWZhdWx0LWNvbnRyYXN0KTtcbiAgfVxuXG4gIC5tYXQtdGFiLWhlYWRlci1wYWdpbmF0aW9uLWRpc2FibGVkIC5tYXQtdGFiLWhlYWRlci1wYWdpbmF0aW9uLWNoZXZyb24ge1xuICAgIGJvcmRlci1jb2xvcjogbWF0LWNvbG9yKCRiYWNrZ3JvdW5kLWNvbG9yLCBkZWZhdWx0LWNvbnRyYXN0LCAwLjQpO1xuICB9XG5cbiAgLy8gU2V0IHJpcHBsZXMgY29sb3IgdG8gYmUgdGhlIGNvbnRyYXN0IGNvbG9yIG9mIHRoZSBuZXcgYmFja2dyb3VuZC4gT3RoZXJ3aXNlIHRoZSByaXBwbGVcbiAgLy8gY29sb3Igd2lsbCBiZSBiYXNlZCBvbiB0aGUgYXBwIGJhY2tncm91bmQgY29sb3IuXG4gIC5tYXQtcmlwcGxlLWVsZW1lbnQge1xuICAgIGJhY2tncm91bmQtY29sb3I6IG1hdC1jb2xvcigkYmFja2dyb3VuZC1jb2xvciwgZGVmYXVsdC1jb250cmFzdCwgMC4xMik7XG4gIH1cbn1cblxuQG1peGluIG1hdC10YWJzLXR5cG9ncmFwaHkoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAubWF0LXRhYi1ncm91cCB7XG4gICAgZm9udC1mYW1pbHk6IG1hdC1mb250LWZhbWlseSgkY29uZmlnKTtcbiAgfVxuXG4gIC5tYXQtdGFiLWxhYmVsLCAubWF0LXRhYi1saW5rIHtcbiAgICBmb250OiB7XG4gICAgICBmYW1pbHk6IG1hdC1mb250LWZhbWlseSgkY29uZmlnLCBidXR0b24pO1xuICAgICAgc2l6ZTogbWF0LWZvbnQtc2l6ZSgkY29uZmlnLCBidXR0b24pO1xuICAgICAgd2VpZ2h0OiBtYXQtZm9udC13ZWlnaHQoJGNvbmZpZywgYnV0dG9uKTtcbiAgICB9XG4gIH1cbn1cblxuQG1peGluIF9tYXQtdGFicy1kZW5zaXR5KCRjb25maWctb3ItdGhlbWUpIHt9XG5cbkBtaXhpbiBtYXQtdGFicy10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKSB7XG4gICR0aGVtZTogX21hdC1sZWdhY3ktZ2V0LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICBAaW5jbHVkZSBfbWF0LWNoZWNrLWR1cGxpY2F0ZS10aGVtZS1zdHlsZXMoJHRoZW1lLCAnbWF0LXRhYnMnKSB7XG4gICAgJGNvbG9yOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkdGhlbWUpO1xuICAgICRkZW5zaXR5OiBtYXQtZ2V0LWRlbnNpdHktY29uZmlnKCR0aGVtZSk7XG4gICAgJHR5cG9ncmFwaHk6IG1hdC1nZXQtdHlwb2dyYXBoeS1jb25maWcoJHRoZW1lKTtcblxuICAgIEBpZiAkY29sb3IgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtdGFicy1jb2xvcigkY29sb3IpO1xuICAgIH1cbiAgICBAaWYgJGRlbnNpdHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBfbWF0LXRhYnMtZGVuc2l0eSgkZGVuc2l0eSk7XG4gICAgfVxuICAgIEBpZiAkdHlwb2dyYXBoeSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC10YWJzLXR5cG9ncmFwaHkoJHR5cG9ncmFwaHkpO1xuICAgIH1cbiAgfVxufVxuXG5cblxuXG5cblxuXG4vLyBNaW5pbXVtIGhlaWdodCBmb3IgdG9vbGJhcidzIGluIHRoZSBoaWdoZXN0IGRlbnNpdHkgaXMgZGlmZmljdWx0IHRvIGRldGVybWluZSBiZWNhdXNlXG4vLyBkZXZlbG9wZXJzIGNhbiBwcm9qZWN0IGFyYml0cmFyeSBjb250ZW50LiBXZSB1c2UgYSBtaW5pbXVtIHZhbHVlIHRoYXQgZW5zdXJlcyB0aGF0IG1vc3Rcbi8vIGNvbW1vbiBjb250ZW50IChlLmcuIGljb24gYnV0dG9ucykgZG9lcyBub3QgZXhjZWVkIHRoZSByb3cgYm91bmRhcmllcyBpbiBoaWdoZXN0IGRlbnNpdHkuXG4kbWF0LXRvb2xiYXItbWluaW11bS1oZWlnaHQ6IDQ0cHggIWRlZmF1bHQ7XG5cbiRtYXQtdG9vbGJhci1oZWlnaHQtZGVza3RvcDogNjRweCAhZGVmYXVsdDtcbiRtYXQtdG9vbGJhci1tYXhpbXVtLWhlaWdodC1kZXNrdG9wOiAkbWF0LXRvb2xiYXItaGVpZ2h0LWRlc2t0b3AgIWRlZmF1bHQ7XG4kbWF0LXRvb2xiYXItbWluaW11bS1oZWlnaHQtZGVza3RvcDogJG1hdC10b29sYmFyLW1pbmltdW0taGVpZ2h0ICFkZWZhdWx0O1xuXG4kbWF0LXRvb2xiYXItaGVpZ2h0LW1vYmlsZTogNTZweCAhZGVmYXVsdDtcbiRtYXQtdG9vbGJhci1tYXhpbXVtLWhlaWdodC1tb2JpbGU6ICRtYXQtdG9vbGJhci1oZWlnaHQtbW9iaWxlICFkZWZhdWx0O1xuJG1hdC10b29sYmFyLW1pbmltdW0taGVpZ2h0LW1vYmlsZTogJG1hdC10b29sYmFyLW1pbmltdW0taGVpZ2h0ICFkZWZhdWx0O1xuXG4kbWF0LXRvb2xiYXItZGVza3RvcC1kZW5zaXR5LWNvbmZpZzogKFxuICBoZWlnaHQ6IChcbiAgICBkZWZhdWx0OiAkbWF0LXRvb2xiYXItaGVpZ2h0LWRlc2t0b3AsXG4gICAgbWF4aW11bTogJG1hdC10b29sYmFyLW1heGltdW0taGVpZ2h0LWRlc2t0b3AsXG4gICAgbWluaW11bTogJG1hdC10b29sYmFyLW1pbmltdW0taGVpZ2h0LWRlc2t0b3AsXG4gIClcbikgIWRlZmF1bHQ7XG5cbiRtYXQtdG9vbGJhci1tb2JpbGUtZGVuc2l0eS1jb25maWc6IChcbiAgaGVpZ2h0OiAoXG4gICAgZGVmYXVsdDogJG1hdC10b29sYmFyLWhlaWdodC1tb2JpbGUsXG4gICAgbWF4aW11bTogJG1hdC10b29sYmFyLW1heGltdW0taGVpZ2h0LW1vYmlsZSxcbiAgICBtaW5pbXVtOiAkbWF0LXRvb2xiYXItbWluaW11bS1oZWlnaHQtbW9iaWxlLFxuICApXG4pICFkZWZhdWx0O1xuXG5cbkBtaXhpbiBfbWF0LXRvb2xiYXItaGVpZ2h0KCRoZWlnaHQpIHtcbiAgLm1hdC10b29sYmFyLW11bHRpcGxlLXJvd3Mge1xuICAgIG1pbi1oZWlnaHQ6ICRoZWlnaHQ7XG4gIH1cbiAgLm1hdC10b29sYmFyLXJvdywgLm1hdC10b29sYmFyLXNpbmdsZS1yb3cge1xuICAgIGhlaWdodDogJGhlaWdodDtcbiAgfVxufVxuXG5AbWl4aW4gX21hdC10b29sYmFyLWNvbG9yKCRwYWxldHRlKSB7XG4gIGJhY2tncm91bmQ6IG1hdC1jb2xvcigkcGFsZXR0ZSk7XG4gIGNvbG9yOiBtYXQtY29sb3IoJHBhbGV0dGUsIGRlZmF1bHQtY29udHJhc3QpO1xufVxuXG5AbWl4aW4gX21hdC10b29sYmFyLWZvcm0tZmllbGQtb3ZlcnJpZGVzIHtcbiAgLm1hdC1mb3JtLWZpZWxkLXVuZGVybGluZSxcbiAgLm1hdC1mb3JtLWZpZWxkLXJpcHBsZSxcbiAgLm1hdC1mb2N1c2VkIC5tYXQtZm9ybS1maWVsZC1yaXBwbGUge1xuICAgIGJhY2tncm91bmQtY29sb3I6IGN1cnJlbnRDb2xvcjtcbiAgfVxuXG4gIC5tYXQtZm9ybS1maWVsZC1sYWJlbCxcbiAgLm1hdC1mb2N1c2VkIC5tYXQtZm9ybS1maWVsZC1sYWJlbCxcbiAgLm1hdC1zZWxlY3QtdmFsdWUsXG4gIC5tYXQtc2VsZWN0LWFycm93LFxuICAubWF0LWZvcm0tZmllbGQubWF0LWZvY3VzZWQgLm1hdC1zZWxlY3QtYXJyb3cge1xuICAgIGNvbG9yOiBpbmhlcml0O1xuICB9XG5cbiAgLm1hdC1pbnB1dC1lbGVtZW50IHtcbiAgICBjYXJldC1jb2xvcjogY3VycmVudENvbG9yO1xuICB9XG59XG5cbkBtaXhpbiBtYXQtdG9vbGJhci1jb2xvcigkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtY29sb3ItY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAkcHJpbWFyeTogbWFwLWdldCgkY29uZmlnLCBwcmltYXJ5KTtcbiAgJGFjY2VudDogbWFwLWdldCgkY29uZmlnLCBhY2NlbnQpO1xuICAkd2FybjogbWFwLWdldCgkY29uZmlnLCB3YXJuKTtcbiAgJGJhY2tncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgYmFja2dyb3VuZCk7XG4gICRmb3JlZ3JvdW5kOiBtYXAtZ2V0KCRjb25maWcsIGZvcmVncm91bmQpO1xuXG4gIC5tYXQtdG9vbGJhciB7XG4gICAgYmFja2dyb3VuZDogbWF0LWNvbG9yKCRiYWNrZ3JvdW5kLCBhcHAtYmFyKTtcbiAgICBjb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCB0ZXh0KTtcblxuICAgICYubWF0LXByaW1hcnkge1xuICAgICAgQGluY2x1ZGUgX21hdC10b29sYmFyLWNvbG9yKCRwcmltYXJ5KTtcbiAgICB9XG5cbiAgICAmLm1hdC1hY2NlbnQge1xuICAgICAgQGluY2x1ZGUgX21hdC10b29sYmFyLWNvbG9yKCRhY2NlbnQpO1xuICAgIH1cblxuICAgICYubWF0LXdhcm4ge1xuICAgICAgQGluY2x1ZGUgX21hdC10b29sYmFyLWNvbG9yKCR3YXJuKTtcbiAgICB9XG5cbiAgICBAaW5jbHVkZSBfbWF0LXRvb2xiYXItZm9ybS1maWVsZC1vdmVycmlkZXM7XG4gIH1cbn1cblxuQG1peGluIG1hdC10b29sYmFyLXR5cG9ncmFwaHkoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAubWF0LXRvb2xiYXIsXG4gIC5tYXQtdG9vbGJhciBoMSxcbiAgLm1hdC10b29sYmFyIGgyLFxuICAubWF0LXRvb2xiYXIgaDMsXG4gIC5tYXQtdG9vbGJhciBoNCxcbiAgLm1hdC10b29sYmFyIGg1LFxuICAubWF0LXRvb2xiYXIgaDYge1xuICAgIEBpbmNsdWRlIG1hdC10eXBvZ3JhcGh5LWxldmVsLXRvLXN0eWxlcygkY29uZmlnLCB0aXRsZSk7XG4gICAgbWFyZ2luOiAwO1xuICB9XG59XG5cbkBtaXhpbiBfbWF0LXRvb2xiYXItZGVuc2l0eSgkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRkZW5zaXR5LXNjYWxlOiBtYXQtZ2V0LWRlbnNpdHktY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAkaGVpZ2h0LWRlc2t0b3A6IF9tYXQtZGVuc2l0eS1wcm9wLXZhbHVlKFxuICAgICAgJG1hdC10b29sYmFyLWRlc2t0b3AtZGVuc2l0eS1jb25maWcsICRkZW5zaXR5LXNjYWxlLCBoZWlnaHQpO1xuICAkaGVpZ2h0LW1vYmlsZTogX21hdC1kZW5zaXR5LXByb3AtdmFsdWUoXG4gICAgICAkbWF0LXRvb2xiYXItbW9iaWxlLWRlbnNpdHktY29uZmlnLCAkZGVuc2l0eS1zY2FsZSwgaGVpZ2h0KTtcblxuICBAaW5jbHVkZSBfbWF0LWRlbnNpdHktbGVnYWN5LWNvbXBhdGliaWxpdHkoKSB7XG4gICAgLy8gU2V0IHRoZSBkZWZhdWx0IGhlaWdodCBmb3IgdGhlIHRvb2xiYXIuXG4gICAgQGluY2x1ZGUgX21hdC10b29sYmFyLWhlaWdodCgkaGVpZ2h0LWRlc2t0b3ApO1xuXG4gICAgLy8gQXMgcGVyIHNwZWNzLCB0b29sYmFycyBzaG91bGQgaGF2ZSBhIGRpZmZlcmVudCBoZWlnaHQgaW4gbW9iaWxlIGRldmljZXMuIFRoaXMgaGFzIGJlZW5cbiAgICAvLyBzcGVjaWZpZWQgaW4gdGhlIG9sZCBndWlkZWxpbmVzIGFuZCBpcyBzdGlsbCBvYnNlcnZhYmxlIGluIHRoZSBuZXcgc3BlY2lmaWNhdGlvbnMgYnlcbiAgICAvLyBsb29raW5nIGF0IHRoZSBzcGVjIGltYWdlcy4gU2VlOiBodHRwczovL21hdGVyaWFsLmlvL2Rlc2lnbi9jb21wb25lbnRzL2FwcC1iYXJzLXRvcC5odG1sI2FuYXRvbXlcbiAgICBAbWVkaWEgKCRtYXQteHNtYWxsKSB7XG4gICAgICBAaW5jbHVkZSBfbWF0LXRvb2xiYXItaGVpZ2h0KCRoZWlnaHQtbW9iaWxlKTtcbiAgICB9XG4gIH1cbn1cblxuQG1peGluIG1hdC10b29sYmFyLXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpIHtcbiAgJHRoZW1lOiBfbWF0LWxlZ2FjeS1nZXQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gIEBpbmNsdWRlIF9tYXQtY2hlY2stZHVwbGljYXRlLXRoZW1lLXN0eWxlcygkdGhlbWUsICdtYXQtdG9vbGJhcicpIHtcbiAgICAkY29sb3I6IG1hdC1nZXQtY29sb3ItY29uZmlnKCR0aGVtZSk7XG4gICAgJGRlbnNpdHk6IG1hdC1nZXQtZGVuc2l0eS1jb25maWcoJHRoZW1lKTtcbiAgICAkdHlwb2dyYXBoeTogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkdGhlbWUpO1xuXG4gICAgQGlmICRjb2xvciAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC10b29sYmFyLWNvbG9yKCRjb2xvcik7XG4gICAgfVxuICAgIEBpZiAkZGVuc2l0eSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIF9tYXQtdG9vbGJhci1kZW5zaXR5KCRkZW5zaXR5KTtcbiAgICB9XG4gICAgQGlmICR0eXBvZ3JhcGh5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LXRvb2xiYXItdHlwb2dyYXBoeSgkdHlwb2dyYXBoeSk7XG4gICAgfVxuICB9XG59XG5cblxuXG5cblxuXG4kbWF0LXRvb2x0aXAtdGFyZ2V0LWhlaWdodDogMjJweDtcbiRtYXQtdG9vbHRpcC1mb250LXNpemU6IDEwcHg7XG4kbWF0LXRvb2x0aXAtdmVydGljYWwtcGFkZGluZzogKCRtYXQtdG9vbHRpcC10YXJnZXQtaGVpZ2h0IC0gJG1hdC10b29sdGlwLWZvbnQtc2l6ZSkgLyAyO1xuXG4kbWF0LXRvb2x0aXAtaGFuZHNldC10YXJnZXQtaGVpZ2h0OiAzMHB4O1xuJG1hdC10b29sdGlwLWhhbmRzZXQtZm9udC1zaXplOiAxNHB4O1xuJG1hdC10b29sdGlwLWhhbmRzZXQtdmVydGljYWwtcGFkZGluZzpcbiAgICAoJG1hdC10b29sdGlwLWhhbmRzZXQtdGFyZ2V0LWhlaWdodCAtICRtYXQtdG9vbHRpcC1oYW5kc2V0LWZvbnQtc2l6ZSkgLyAyO1xuXG5AbWl4aW4gbWF0LXRvb2x0aXAtY29sb3IoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgJGJhY2tncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgYmFja2dyb3VuZCk7XG5cbiAgLm1hdC10b29sdGlwIHtcbiAgICBiYWNrZ3JvdW5kOiBtYXQtY29sb3IoJGJhY2tncm91bmQsIHRvb2x0aXAsIDAuOSk7XG4gIH1cbn1cblxuQG1peGluIG1hdC10b29sdGlwLXR5cG9ncmFwaHkoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAubWF0LXRvb2x0aXAge1xuICAgIGZvbnQtZmFtaWx5OiBtYXQtZm9udC1mYW1pbHkoJGNvbmZpZyk7XG4gICAgZm9udC1zaXplOiAkbWF0LXRvb2x0aXAtZm9udC1zaXplO1xuICAgIHBhZGRpbmctdG9wOiAkbWF0LXRvb2x0aXAtdmVydGljYWwtcGFkZGluZztcbiAgICBwYWRkaW5nLWJvdHRvbTogJG1hdC10b29sdGlwLXZlcnRpY2FsLXBhZGRpbmc7XG4gIH1cblxuICAubWF0LXRvb2x0aXAtaGFuZHNldCB7XG4gICAgZm9udC1zaXplOiAkbWF0LXRvb2x0aXAtaGFuZHNldC1mb250LXNpemU7XG4gICAgcGFkZGluZy10b3A6ICRtYXQtdG9vbHRpcC1oYW5kc2V0LXZlcnRpY2FsLXBhZGRpbmc7XG4gICAgcGFkZGluZy1ib3R0b206ICRtYXQtdG9vbHRpcC1oYW5kc2V0LXZlcnRpY2FsLXBhZGRpbmc7XG4gIH1cbn1cblxuQG1peGluIF9tYXQtdG9vbHRpcC1kZW5zaXR5KCRjb25maWctb3ItdGhlbWUpIHt9XG5cbkBtaXhpbiBtYXQtdG9vbHRpcC10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKSB7XG4gICR0aGVtZTogX21hdC1sZWdhY3ktZ2V0LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICBAaW5jbHVkZSBfbWF0LWNoZWNrLWR1cGxpY2F0ZS10aGVtZS1zdHlsZXMoJHRoZW1lLCAnbWF0LXRvb2x0aXAnKSB7XG4gICAgJGNvbG9yOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkdGhlbWUpO1xuICAgICRkZW5zaXR5OiBtYXQtZ2V0LWRlbnNpdHktY29uZmlnKCR0aGVtZSk7XG4gICAgJHR5cG9ncmFwaHk6IG1hdC1nZXQtdHlwb2dyYXBoeS1jb25maWcoJHRoZW1lKTtcblxuICAgIEBpZiAkY29sb3IgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtdG9vbHRpcC1jb2xvcigkY29sb3IpO1xuICAgIH1cbiAgICBAaWYgJGRlbnNpdHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBfbWF0LXRvb2x0aXAtZGVuc2l0eSgkZGVuc2l0eSk7XG4gICAgfVxuICAgIEBpZiAkdHlwb2dyYXBoeSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC10b29sdGlwLXR5cG9ncmFwaHkoJHR5cG9ncmFwaHkpO1xuICAgIH1cbiAgfVxufVxuXG5cblxuXG5cblxuXG5cbkBtaXhpbiBtYXQtc25hY2stYmFyLWNvbG9yKCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC1jb2xvci1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gICRpcy1kYXJrLXRoZW1lOiBtYXAtZ2V0KCRjb25maWcsIGlzLWRhcmspO1xuICAkYWNjZW50OiBtYXAtZ2V0KCRjb25maWcsIGFjY2VudCk7XG5cbiAgLm1hdC1zbmFjay1iYXItY29udGFpbmVyIHtcbiAgICAvLyBVc2UgdGhlIHByaW1hcnkgdGV4dCBvbiB0aGUgZGFyayB0aGVtZSwgZXZlbiB0aG91Z2ggdGhlIGxpZ2h0ZXIgb25lIHVzZXNcbiAgICAvLyBhIHNlY29uZGFyeSwgYmVjYXVzZSB0aGUgY29udHJhc3Qgb24gdGhlIGxpZ2h0IHByaW1hcnkgdGV4dCBpcyBwb29yLlxuICAgIGNvbG9yOiBpZigkaXMtZGFyay10aGVtZSwgJGRhcmstcHJpbWFyeS10ZXh0LCAkbGlnaHQtc2Vjb25kYXJ5LXRleHQpO1xuICAgIGJhY2tncm91bmQ6IGlmKCRpcy1kYXJrLXRoZW1lLCBtYXAtZ2V0KCRtYXQtZ3JleSwgNTApLCAjMzIzMjMyKTtcblxuICAgIEBpbmNsdWRlIF9tYXQtdGhlbWUtZWxldmF0aW9uKDYsICRjb25maWcpO1xuICB9XG5cbiAgLm1hdC1zaW1wbGUtc25hY2tiYXItYWN0aW9uIHtcbiAgICBjb2xvcjogaWYoJGlzLWRhcmstdGhlbWUsIGluaGVyaXQsIG1hdC1jb2xvcigkYWNjZW50LCB0ZXh0KSk7XG4gIH1cbn1cblxuQG1peGluIG1hdC1zbmFjay1iYXItdHlwb2dyYXBoeSgkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtdHlwb2dyYXBoeS1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gIC5tYXQtc2ltcGxlLXNuYWNrYmFyIHtcbiAgICBmb250OiB7XG4gICAgICBmYW1pbHk6IG1hdC1mb250LWZhbWlseSgkY29uZmlnLCBib2R5LTEpO1xuICAgICAgc2l6ZTogbWF0LWZvbnQtc2l6ZSgkY29uZmlnLCBib2R5LTEpO1xuICAgIH1cbiAgfVxuXG4gIC5tYXQtc2ltcGxlLXNuYWNrYmFyLWFjdGlvbiB7XG4gICAgbGluZS1oZWlnaHQ6IDE7XG4gICAgZm9udDoge1xuICAgICAgZmFtaWx5OiBpbmhlcml0O1xuICAgICAgc2l6ZTogaW5oZXJpdDtcbiAgICAgIHdlaWdodDogbWF0LWZvbnQtd2VpZ2h0KCRjb25maWcsIGJ1dHRvbik7XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiBfbWF0LXNuYWNrLWJhci1kZW5zaXR5KCRjb25maWctb3ItdGhlbWUpIHt9XG5cbkBtaXhpbiBtYXQtc25hY2stYmFyLXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpIHtcbiAgJHRoZW1lOiBfbWF0LWxlZ2FjeS1nZXQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gIEBpbmNsdWRlIF9tYXQtY2hlY2stZHVwbGljYXRlLXRoZW1lLXN0eWxlcygkdGhlbWUsICdtYXQtc25hY2stYmFyJykge1xuICAgICRjb2xvcjogbWF0LWdldC1jb2xvci1jb25maWcoJHRoZW1lKTtcbiAgICAkZGVuc2l0eTogbWF0LWdldC1kZW5zaXR5LWNvbmZpZygkdGhlbWUpO1xuICAgICR0eXBvZ3JhcGh5OiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCR0aGVtZSk7XG5cbiAgICBAaWYgJGNvbG9yICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LXNuYWNrLWJhci1jb2xvcigkY29sb3IpO1xuICAgIH1cbiAgICBAaWYgJGRlbnNpdHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBfbWF0LXNuYWNrLWJhci1kZW5zaXR5KCRkZW5zaXR5KTtcbiAgICB9XG4gICAgQGlmICR0eXBvZ3JhcGh5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LXNuYWNrLWJhci10eXBvZ3JhcGh5KCR0eXBvZ3JhcGh5KTtcbiAgICB9XG4gIH1cbn1cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuLy8gVGhlbWUgc3R5bGVzIHRoYXQgb25seSBhcHBseSB0byB0aGUgZmlsbCBhcHBlYXJhbmNlIG9mIHRoZSBmb3JtLWZpZWxkLlxuXG5AbWl4aW4gbWF0LWZvcm0tZmllbGQtZmlsbC1jb2xvcigkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtY29sb3ItY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAkZm9yZWdyb3VuZDogbWFwLWdldCgkY29uZmlnLCBmb3JlZ3JvdW5kKTtcbiAgJGlzLWRhcmstdGhlbWU6IG1hcC1nZXQoJGNvbmZpZywgaXMtZGFyayk7XG5cbiAgJGZpbGwtYmFja2dyb3VuZDogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBiYXNlLCBpZigkaXMtZGFyay10aGVtZSwgMC4xLCAwLjA0KSk7XG4gICRmaWxsLWRpc2FibGVkLWJhY2tncm91bmQ6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgYmFzZSwgaWYoJGlzLWRhcmstdGhlbWUsIDAuMDUsIDAuMDIpKTtcbiAgJHVuZGVybGluZS1jb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBkaXZpZGVyLCBpZigkaXMtZGFyay10aGVtZSwgMC41LCAwLjQyKSk7XG4gICRsYWJlbC1kaXNhYmxlZC1jb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBkaXNhYmxlZC10ZXh0KTtcblxuICAubWF0LWZvcm0tZmllbGQtYXBwZWFyYW5jZS1maWxsIHtcbiAgICAubWF0LWZvcm0tZmllbGQtZmxleCB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkZmlsbC1iYWNrZ3JvdW5kO1xuICAgIH1cblxuICAgICYubWF0LWZvcm0tZmllbGQtZGlzYWJsZWQgLm1hdC1mb3JtLWZpZWxkLWZsZXgge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJGZpbGwtZGlzYWJsZWQtYmFja2dyb3VuZDtcbiAgICB9XG5cbiAgICAubWF0LWZvcm0tZmllbGQtdW5kZXJsaW5lOjpiZWZvcmUge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHVuZGVybGluZS1jb2xvcjtcbiAgICB9XG5cbiAgICAmLm1hdC1mb3JtLWZpZWxkLWRpc2FibGVkIHtcbiAgICAgIC5tYXQtZm9ybS1maWVsZC1sYWJlbCB7XG4gICAgICAgIGNvbG9yOiAkbGFiZWwtZGlzYWJsZWQtY29sb3I7XG4gICAgICB9XG5cbiAgICAgIC5tYXQtZm9ybS1maWVsZC11bmRlcmxpbmU6OmJlZm9yZSB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vLyBVc2VkIHRvIG1ha2UgaW5zdGFuY2VzIG9mIHRoZSBfbWF0LWZvcm0tZmllbGQtbGFiZWwtZmxvYXRpbmcgbWl4aW4gbmVnbGlnaWJseSBkaWZmZXJlbnQsXG4vLyBhbmQgcHJldmVudCBHb29nbGUncyBDU1MgT3B0aW1pemVyIGZyb20gY29sbGFwc2luZyB0aGUgZGVjbGFyYXRpb25zLiBUaGlzIGlzIG5lZWRlZCBiZWNhdXNlIHNvbWVcbi8vIG9mIHRoZSBzZWxlY3RvcnMgY29udGFpbiBwc2V1ZG8tY2xhc3NlcyBub3QgcmVjb2duaXplZCBpbiBhbGwgYnJvd3NlcnMuIElmIGEgYnJvd3NlciBlbmNvdW50ZXJzXG4vLyBhbiB1bmtub3duIHBzZXVkby1jbGFzcyBpdCB3aWxsIGRpc2NhcmQgdGhlIGVudGlyZSBydWxlIHNldC5cbiRtYXQtZm9ybS1maWVsZC1maWxsLWRlZHVwZTogMDtcblxuLy8gQXBwbGllcyBhIGZsb2F0aW5nIGxhYmVsIGFib3ZlIHRoZSBmb3JtIGZpZWxkIGNvbnRyb2wgaXRzZWxmLlxuQG1peGluIF9tYXQtZm9ybS1maWVsZC1maWxsLWxhYmVsLWZsb2F0aW5nKCRmb250LXNjYWxlLCAkaW5maXgtcGFkZGluZywgJGluZml4LW1hcmdpbi10b3ApIHtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0kaW5maXgtbWFyZ2luLXRvcCAtICRpbmZpeC1wYWRkaW5nICsgJG1hdC1mb3JtLWZpZWxkLWZpbGwtZGVkdXBlKVxuICAgICAgICAgICAgIHNjYWxlKCRmb250LXNjYWxlKTtcbiAgd2lkdGg6IDEwMCUgLyAkZm9udC1zY2FsZSArICRtYXQtZm9ybS1maWVsZC1maWxsLWRlZHVwZTtcblxuICAkbWF0LWZvcm0tZmllbGQtZmlsbC1kZWR1cGU6ICRtYXQtZm9ybS1maWVsZC1maWxsLWRlZHVwZSArIDAuMDAwMDEgIWdsb2JhbDtcbn1cblxuQG1peGluIG1hdC1mb3JtLWZpZWxkLWZpbGwtdHlwb2dyYXBoeSgkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtdHlwb2dyYXBoeS1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gIC8vIFRoZSB1bml0LWxlc3MgbGluZS1oZWlnaHQgZnJvbSB0aGUgZm9udCBjb25maWcuXG4gICRsaW5lLWhlaWdodDogbWF0LWxpbmUtaGVpZ2h0KCRjb25maWcsIGlucHV0KTtcbiAgLy8gVGhlIGFtb3VudCB0byBzY2FsZSB0aGUgZm9udCBmb3IgdGhlIGZsb2F0aW5nIGxhYmVsIGFuZCBzdWJzY3JpcHQuXG4gICRzdWJzY3JpcHQtZm9udC1zY2FsZTogMC43NTtcbiAgLy8gVGhlIHBhZGRpbmcgb24gdG9wIG9mIHRoZSBpbmZpeC5cbiAgJGluZml4LXBhZGRpbmctdG9wOiAwLjI1ZW07XG4gIC8vIFRoZSBwYWRkaW5nIGJlbG93IHRoZSBpbmZpeC5cbiAgJGluZml4LXBhZGRpbmctYm90dG9tOiAwLjc1ZW07XG4gIC8vIFRoZSBtYXJnaW4gYXBwbGllZCB0byB0aGUgZm9ybS1maWVsZC1pbmZpeCB0byByZXNlcnZlIHNwYWNlIGZvciB0aGUgZmxvYXRpbmcgbGFiZWwuXG4gICRpbmZpeC1tYXJnaW4tdG9wOiAxZW0gKiAkbGluZS1oZWlnaHQgKiAkc3Vic2NyaXB0LWZvbnQtc2NhbGU7XG4gIC8vIFRoZSBhbW91bnQgd2Ugb2Zmc2V0IHRoZSBsYWJlbCBmcm9tIHRoZSBpbnB1dCB0ZXh0IGluIHRoZSBmaWxsIGFwcGVhcmFuY2UuXG4gICRmaWxsLWFwcGVhcmFuY2UtbGFiZWwtb2Zmc2V0OiAtMC41ZW07XG5cbiAgLm1hdC1mb3JtLWZpZWxkLWFwcGVhcmFuY2UtZmlsbCB7XG4gICAgLm1hdC1mb3JtLWZpZWxkLWluZml4IHtcbiAgICAgIHBhZGRpbmc6ICRpbmZpeC1wYWRkaW5nLXRvcCAwICRpbmZpeC1wYWRkaW5nLWJvdHRvbSAwO1xuICAgIH1cblxuICAgIC5tYXQtZm9ybS1maWVsZC1sYWJlbCB7XG4gICAgICB0b3A6ICRpbmZpeC1tYXJnaW4tdG9wICsgJGluZml4LXBhZGRpbmctdG9wO1xuICAgICAgbWFyZ2luLXRvcDogJGZpbGwtYXBwZWFyYW5jZS1sYWJlbC1vZmZzZXQ7XG4gICAgfVxuXG4gICAgJi5tYXQtZm9ybS1maWVsZC1jYW4tZmxvYXQge1xuICAgICAgJi5tYXQtZm9ybS1maWVsZC1zaG91bGQtZmxvYXQgLm1hdC1mb3JtLWZpZWxkLWxhYmVsLFxuICAgICAgLm1hdC1pbnB1dC1zZXJ2ZXI6Zm9jdXMgKyAubWF0LWZvcm0tZmllbGQtbGFiZWwtd3JhcHBlciAubWF0LWZvcm0tZmllbGQtbGFiZWwge1xuICAgICAgICBAaW5jbHVkZSBfbWF0LWZvcm0tZmllbGQtZmlsbC1sYWJlbC1mbG9hdGluZyhcbiAgICAgICAgICAgICAgICAkc3Vic2NyaXB0LWZvbnQtc2NhbGUsICRpbmZpeC1wYWRkaW5nLXRvcCArICRmaWxsLWFwcGVhcmFuY2UtbGFiZWwtb2Zmc2V0LFxuICAgICAgICAgICAgICAgICRpbmZpeC1tYXJnaW4tdG9wKTtcbiAgICAgIH1cblxuICAgICAgLy8gU2VydmVyLXNpZGUgcmVuZGVyZWQgbWF0SW5wdXQgd2l0aCBhIGxhYmVsIGF0dHJpYnV0ZSBidXQgbGFiZWwgbm90IHNob3duXG4gICAgICAvLyAodXNlZCBhcyBhIHB1cmUgQ1NTIHN0YW5kLWluIGZvciBtYXQtZm9ybS1maWVsZC1zaG91bGQtZmxvYXQpLlxuICAgICAgLm1hdC1pbnB1dC1zZXJ2ZXJbbGFiZWxdOm5vdCg6bGFiZWwtc2hvd24pICsgLm1hdC1mb3JtLWZpZWxkLWxhYmVsLXdyYXBwZXJcbiAgICAgIC5tYXQtZm9ybS1maWVsZC1sYWJlbCB7XG4gICAgICAgIEBpbmNsdWRlIF9tYXQtZm9ybS1maWVsZC1maWxsLWxhYmVsLWZsb2F0aW5nKFxuICAgICAgICAgICAgICAgICRzdWJzY3JpcHQtZm9udC1zY2FsZSwgJGluZml4LXBhZGRpbmctdG9wICsgJGZpbGwtYXBwZWFyYW5jZS1sYWJlbC1vZmZzZXQsXG4gICAgICAgICAgICAgICAgJGluZml4LW1hcmdpbi10b3ApO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gX21hdC1mb3JtLWZpZWxkLWZpbGwtZGVuc2l0eSgkY29uZmlnLW9yLXRoZW1lKSB7fVxuXG5AbWl4aW4gbWF0LWZvcm0tZmllbGQtZmlsbC10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKSB7XG4gICR0aGVtZTogX21hdC1sZWdhY3ktZ2V0LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICBAaW5jbHVkZSBfbWF0LWNoZWNrLWR1cGxpY2F0ZS10aGVtZS1zdHlsZXMoJHRoZW1lLCAnbWF0LWZvcm0tZmllbGQtZmlsbCcpIHtcbiAgICAkY29sb3I6IG1hdC1nZXQtY29sb3ItY29uZmlnKCR0aGVtZSk7XG4gICAgJGRlbnNpdHk6IG1hdC1nZXQtZGVuc2l0eS1jb25maWcoJHRoZW1lKTtcbiAgICAkdHlwb2dyYXBoeTogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkdGhlbWUpO1xuXG4gICAgQGlmICRjb2xvciAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1mb3JtLWZpZWxkLWZpbGwtY29sb3IoJGNvbG9yKTtcbiAgICB9XG4gICAgQGlmICRkZW5zaXR5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgX21hdC1mb3JtLWZpZWxkLWZpbGwtZGVuc2l0eSgkZGVuc2l0eSk7XG4gICAgfVxuICAgIEBpZiAkdHlwb2dyYXBoeSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1mb3JtLWZpZWxkLWZpbGwtdHlwb2dyYXBoeSgkdHlwb2dyYXBoeSk7XG4gICAgfVxuICB9XG59XG5cblxuXG5cblxuXG5cblxuLy8gVGhlbWUgc3R5bGVzIHRoYXQgb25seSBhcHBseSB0byB0aGUgbGVnYWN5IGFwcGVhcmFuY2Ugb2YgdGhlIGZvcm0tZmllbGQuXG5cbkBtaXhpbiBtYXQtZm9ybS1maWVsZC1sZWdhY3ktY29sb3IoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgJGZvcmVncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgZm9yZWdyb3VuZCk7XG4gICRpcy1kYXJrLXRoZW1lOiBtYXAtZ2V0KCRjb25maWcsIGlzLWRhcmspO1xuXG4gICRsYWJlbC1jb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBzZWNvbmRhcnktdGV4dCk7XG4gICR1bmRlcmxpbmUtY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgZGl2aWRlciwgaWYoJGlzLWRhcmstdGhlbWUsIDAuNywgMC40MikpO1xuXG4gIC5tYXQtZm9ybS1maWVsZC1hcHBlYXJhbmNlLWxlZ2FjeSB7XG4gICAgLm1hdC1mb3JtLWZpZWxkLWxhYmVsIHtcbiAgICAgIGNvbG9yOiAkbGFiZWwtY29sb3I7XG4gICAgfVxuXG4gICAgLm1hdC1oaW50IHtcbiAgICAgIGNvbG9yOiAkbGFiZWwtY29sb3I7XG4gICAgfVxuXG4gICAgLm1hdC1mb3JtLWZpZWxkLXVuZGVybGluZSB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkdW5kZXJsaW5lLWNvbG9yO1xuICAgIH1cblxuICAgICYubWF0LWZvcm0tZmllbGQtZGlzYWJsZWQgLm1hdC1mb3JtLWZpZWxkLXVuZGVybGluZSB7XG4gICAgICBAaW5jbHVkZSBtYXQtY29udHJvbC1kaXNhYmxlZC11bmRlcmxpbmUoJHVuZGVybGluZS1jb2xvcik7XG4gICAgfVxuICB9XG59XG5cbi8vIFVzZWQgdG8gbWFrZSBpbnN0YW5jZXMgb2YgdGhlIF9tYXQtZm9ybS1maWVsZC1sYWJlbC1mbG9hdGluZyBtaXhpbiBuZWdsaWdpYmx5IGRpZmZlcmVudCxcbi8vIGFuZCBwcmV2ZW50IEdvb2dsZSdzIENTUyBPcHRpbWl6ZXIgZnJvbSBjb2xsYXBzaW5nIHRoZSBkZWNsYXJhdGlvbnMuIFRoaXMgaXMgbmVlZGVkIGJlY2F1c2Ugc29tZVxuLy8gb2YgdGhlIHNlbGVjdG9ycyBjb250YWluIHBzZXVkby1jbGFzc2VzIG5vdCByZWNvZ25pemVkIGluIGFsbCBicm93c2Vycy4gSWYgYSBicm93c2VyIGVuY291bnRlcnNcbi8vIGFuIHVua25vd24gcHNldWRvLWNsYXNzIGl0IHdpbGwgZGlzY2FyZCB0aGUgZW50aXJlIHJ1bGUgc2V0LlxuJG1hdC1mb3JtLWZpZWxkLWxlZ2FjeS1kZWR1cGU6IDA7XG5cbi8vIEFwcGxpZXMgYSBmbG9hdGluZyBsYWJlbCBhYm92ZSB0aGUgZm9ybSBmaWVsZCBjb250cm9sIGl0c2VsZi5cbkBtaXhpbiBfbWF0LWZvcm0tZmllbGQtbGVnYWN5LWxhYmVsLWZsb2F0aW5nKCRmb250LXNjYWxlLCAkaW5maXgtcGFkZGluZywgJGluZml4LW1hcmdpbi10b3ApIHtcbiAgLy8gV2UgdXNlIHBlcnNwZWN0aXZlIHRvIGZpeCB0aGUgdGV4dCBibHVycmluZXNzIGFzIGRlc2NyaWJlZCBoZXJlOlxuICAvLyBodHRwOi8vd3d3LnVzZXJhZ2VudG1hbi5jb20vYmxvZy8yMDE0LzA1LzA0L2ZpeGluZy10eXBvZ3JhcGh5LWluc2lkZS1vZi0yLWQtY3NzLXRyYW5zZm9ybXMvXG4gIC8vIFRoaXMgcmVzdWx0cyBpbiBhIHNtYWxsIGppdHRlciBhZnRlciB0aGUgbGFiZWwgZmxvYXRzIG9uIEZpcmVmb3gsIHdoaWNoIHRoZVxuICAvLyB0cmFuc2xhdGVaIGZpeGVzLlxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLSRpbmZpeC1tYXJnaW4tdG9wIC0gJGluZml4LXBhZGRpbmcpIHNjYWxlKCRmb250LXNjYWxlKSBwZXJzcGVjdGl2ZSgxMDBweClcbiAgdHJhbnNsYXRlWigwLjAwMXB4ICsgJG1hdC1mb3JtLWZpZWxkLWxlZ2FjeS1kZWR1cGUpO1xuICAvLyBUaGUgdHJpY2tzIGFib3ZlIHVzZWQgdG8gc21vb3RoIG91dCB0aGUgYW5pbWF0aW9uIG9uIGNocm9tZSBhbmQgZmlyZWZveCBhY3R1YWxseSBtYWtlIHRoaW5nc1xuICAvLyB3b3JzZSBvbiBJRSwgc28gd2UgZG9uJ3QgaW5jbHVkZSB0aGVtIGluIHRoZSBJRSB2ZXJzaW9uLlxuICAtbXMtdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0kaW5maXgtbWFyZ2luLXRvcCAtICRpbmZpeC1wYWRkaW5nICsgJG1hdC1mb3JtLWZpZWxkLWxlZ2FjeS1kZWR1cGUpXG4gICAgICAgICAgICAgICAgICBzY2FsZSgkZm9udC1zY2FsZSk7XG5cbiAgd2lkdGg6IDEwMCUgLyAkZm9udC1zY2FsZSArICRtYXQtZm9ybS1maWVsZC1sZWdhY3ktZGVkdXBlO1xuXG4gICRtYXQtZm9ybS1maWVsZC1sZWdhY3ktZGVkdXBlOiAkbWF0LWZvcm0tZmllbGQtbGVnYWN5LWRlZHVwZSArIDAuMDAwMDEgIWdsb2JhbDtcbn1cblxuLy8gU2FtZSBhcyBtaXhpbiBhYm92ZSwgYnV0IG9taXRzIHRoZSB0cmFuc2xhdGVaIGZvciBwcmludGluZyBwdXJwb3Nlcy5cbkBtaXhpbiBfbWF0LWZvcm0tZmllbGQtbGVnYWN5LWxhYmVsLWZsb2F0aW5nLXByaW50KCRmb250LXNjYWxlLCAkaW5maXgtcGFkZGluZywgJGluZml4LW1hcmdpbi10b3ApIHtcbiAgLy8gVGhpcyByZXN1bHRzIGluIGEgc21hbGwgaml0dGVyIGFmdGVyIHRoZSBsYWJlbCBmbG9hdHMgb24gRmlyZWZveCwgd2hpY2ggdGhlXG4gIC8vIHRyYW5zbGF0ZVogZml4ZXMuXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtJGluZml4LW1hcmdpbi10b3AgLSAkaW5maXgtcGFkZGluZyArICRtYXQtZm9ybS1maWVsZC1sZWdhY3ktZGVkdXBlKVxuICAgICAgICAgICAgICAgICAgc2NhbGUoJGZvbnQtc2NhbGUpO1xuICAvLyBUaGUgdHJpY2tzIGFib3ZlIHVzZWQgdG8gc21vb3RoIG91dCB0aGUgYW5pbWF0aW9uIG9uIGNocm9tZSBhbmQgZmlyZWZveCBhY3R1YWxseSBtYWtlIHRoaW5nc1xuICAvLyB3b3JzZSBvbiBJRSwgc28gd2UgZG9uJ3QgaW5jbHVkZSB0aGVtIGluIHRoZSBJRSB2ZXJzaW9uLlxuICAkbWF0LWZvcm0tZmllbGQtbGVnYWN5LWRlZHVwZTogJG1hdC1mb3JtLWZpZWxkLWxlZ2FjeS1kZWR1cGUgKyAwLjAwMDAxICFnbG9iYWw7XG59XG5cbkBtaXhpbiBtYXQtZm9ybS1maWVsZC1sZWdhY3ktdHlwb2dyYXBoeSgkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtdHlwb2dyYXBoeS1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gIC8vIFRoZSB1bml0LWxlc3MgbGluZS1oZWlnaHQgZnJvbSB0aGUgZm9udCBjb25maWcuXG4gICRsaW5lLWhlaWdodDogbWF0LWxpbmUtaGVpZ2h0KCRjb25maWcsIGlucHV0KTtcbiAgLy8gVGhlIGFtb3VudCB0byBzY2FsZSB0aGUgZm9udCBmb3IgdGhlIGZsb2F0aW5nIGxhYmVsIGFuZCBzdWJzY3JpcHQuXG4gICRzdWJzY3JpcHQtZm9udC1zY2FsZTogMC43NTtcbiAgLy8gVGhlIGFtb3VudCBvZiBzcGFjZSBiZXR3ZWVuIHRoZSB0b3Agb2YgdGhlIGxpbmUgYW5kIHRoZSB0b3Agb2YgdGhlIGFjdHVhbCB0ZXh0XG4gIC8vIChhcyBhIGZyYWN0aW9uIG9mIHRoZSBmb250LXNpemUpLlxuICAkbGluZS1zcGFjaW5nOiAoJGxpbmUtaGVpZ2h0IC0gMSkgLyAyO1xuICAvLyBUaGUgcGFkZGluZyBvbiB0aGUgaW5maXguIE1vY2tzIHNob3cgaGFsZiBvZiB0aGUgdGV4dCBzaXplLCBidXQgc2VlbSB0byBtZWFzdXJlIGZyb20gdGhlIGVkZ2VcbiAgLy8gb2YgdGhlIHRleHQgaXRzZWxmLCBub3QgdGhlIGVkZ2Ugb2YgdGhlIGxpbmU7IHRoZXJlZm9yZSB3ZSBzdWJ0cmFjdCBvZmYgdGhlIGxpbmUgc3BhY2luZy5cbiAgJGluZml4LXBhZGRpbmc6IDAuNWVtIC0gJGxpbmUtc3BhY2luZztcbiAgLy8gVGhlIG1hcmdpbiBhcHBsaWVkIHRvIHRoZSBmb3JtLWZpZWxkLWluZml4IHRvIHJlc2VydmUgc3BhY2UgZm9yIHRoZSBmbG9hdGluZyBsYWJlbC5cbiAgJGluZml4LW1hcmdpbi10b3A6IDFlbSAqICRsaW5lLWhlaWdodCAqICRzdWJzY3JpcHQtZm9udC1zY2FsZTtcbiAgLy8gVGhlIHNwYWNlIGJldHdlZW4gdGhlIGJvdHRvbSBvZiB0aGUgLm1hdC1mb3JtLWZpZWxkLWZsZXggYXJlYSBhbmQgdGhlIHN1YnNjcmlwdCB3cmFwcGVyLlxuICAvLyBNb2NrcyBzaG93IGhhbGYgb2YgdGhlIHRleHQgc2l6ZSwgYnV0IHRoaXMgbWFyZ2luIGlzIGFwcGxpZWQgdG8gYW4gZWxlbWVudCB3aXRoIHRoZSBzdWJzY3JpcHRcbiAgLy8gdGV4dCBmb250IHNpemUsIHNvIHdlIG5lZWQgdG8gZGl2aWRlIGJ5IHRoZSBzY2FsZSBmYWN0b3IgdG8gbWFrZSBpdCBoYWxmIG9mIHRoZSBvcmlnaW5hbCB0ZXh0XG4gIC8vIHNpemUuIFdlIGFnYWluIG5lZWQgdG8gc3VidHJhY3Qgb2ZmIHRoZSBsaW5lIHNwYWNpbmcgc2luY2UgdGhlIG1vY2tzIG1lYXN1cmUgdG8gdGhlIGVkZ2Ugb2YgdGhlXG4gIC8vIHRleHQsIG5vdCB0aGUgIGVkZ2Ugb2YgdGhlIGxpbmUuXG4gICRzdWJzY3JpcHQtbWFyZ2luLXRvcDogMC41ZW0gLyAkc3Vic2NyaXB0LWZvbnQtc2NhbGUgLSAoJGxpbmUtc3BhY2luZyAqIDIpO1xuICAvLyBUaGUgcGFkZGluZyBhcHBsaWVkIHRvIHRoZSBmb3JtLWZpZWxkLXdyYXBwZXIgdG8gcmVzZXJ2ZSBzcGFjZSBmb3IgdGhlIHN1YnNjcmlwdCwgc2luY2UgaXQnc1xuICAvLyBhYnNvbHV0ZWx5IHBvc2l0aW9uZWQuIFRoaXMgaXMgYSBjb21iaW5hdGlvbiBvZiB0aGUgc3Vic2NyaXB0J3MgbWFyZ2luIGFuZCBsaW5lLWhlaWdodCwgYnV0IHdlXG4gIC8vIG5lZWQgdG8gbXVsdGlwbHkgYnkgdGhlIHN1YnNjcmlwdCBmb250IHNjYWxlIGZhY3RvciBzaW5jZSB0aGUgd3JhcHBlciBoYXMgYSBsYXJnZXIgZm9udCBzaXplLlxuICAkd3JhcHBlci1wYWRkaW5nLWJvdHRvbTogKCRzdWJzY3JpcHQtbWFyZ2luLXRvcCArICRsaW5lLWhlaWdodCkgKiAkc3Vic2NyaXB0LWZvbnQtc2NhbGU7XG5cbiAgLm1hdC1mb3JtLWZpZWxkLWFwcGVhcmFuY2UtbGVnYWN5IHtcbiAgICAubWF0LWZvcm0tZmllbGQtd3JhcHBlciB7XG4gICAgICBwYWRkaW5nLWJvdHRvbTogJHdyYXBwZXItcGFkZGluZy1ib3R0b207XG4gICAgfVxuXG4gICAgLm1hdC1mb3JtLWZpZWxkLWluZml4IHtcbiAgICAgIHBhZGRpbmc6ICRpbmZpeC1wYWRkaW5nIDA7XG4gICAgfVxuXG4gICAgJi5tYXQtZm9ybS1maWVsZC1jYW4tZmxvYXQge1xuICAgICAgJi5tYXQtZm9ybS1maWVsZC1zaG91bGQtZmxvYXQgLm1hdC1mb3JtLWZpZWxkLWxhYmVsLFxuICAgICAgLm1hdC1pbnB1dC1zZXJ2ZXI6Zm9jdXMgKyAubWF0LWZvcm0tZmllbGQtbGFiZWwtd3JhcHBlciAubWF0LWZvcm0tZmllbGQtbGFiZWwge1xuICAgICAgICBAaW5jbHVkZSBfbWF0LWZvcm0tZmllbGQtbGVnYWN5LWxhYmVsLWZsb2F0aW5nKFxuICAgICAgICAgICAgICAgICRzdWJzY3JpcHQtZm9udC1zY2FsZSwgJGluZml4LXBhZGRpbmcsICRpbmZpeC1tYXJnaW4tdG9wKTtcbiAgICAgIH1cblxuICAgICAgLy8gQGJyZWFraW5nLWNoYW5nZSA4LjAuMCB3aWxsIHJlbHkgb24gQXV0b2ZpbGxNb25pdG9yIGluc3RlYWQuXG4gICAgICAubWF0LWZvcm0tZmllbGQtYXV0b2ZpbGwtY29udHJvbDotd2Via2l0LWF1dG9maWxsICsgLm1hdC1mb3JtLWZpZWxkLWxhYmVsLXdyYXBwZXJcbiAgICAgIC5tYXQtZm9ybS1maWVsZC1sYWJlbCB7XG4gICAgICAgIEBpbmNsdWRlIF9tYXQtZm9ybS1maWVsZC1sZWdhY3ktbGFiZWwtZmxvYXRpbmcoXG4gICAgICAgICAgICAgICAgJHN1YnNjcmlwdC1mb250LXNjYWxlLCAkaW5maXgtcGFkZGluZywgJGluZml4LW1hcmdpbi10b3ApO1xuICAgICAgfVxuXG4gICAgICAvLyBTZXJ2ZXItc2lkZSByZW5kZXJlZCBtYXRJbnB1dCB3aXRoIGEgbGFiZWwgYXR0cmlidXRlIGJ1dCBsYWJlbCBub3Qgc2hvd25cbiAgICAgIC8vICh1c2VkIGFzIGEgcHVyZSBDU1Mgc3RhbmQtaW4gZm9yIG1hdC1mb3JtLWZpZWxkLXNob3VsZC1mbG9hdCkuXG4gICAgICAubWF0LWlucHV0LXNlcnZlcltsYWJlbF06bm90KDpsYWJlbC1zaG93bikgKyAubWF0LWZvcm0tZmllbGQtbGFiZWwtd3JhcHBlclxuICAgICAgLm1hdC1mb3JtLWZpZWxkLWxhYmVsIHtcbiAgICAgICAgQGluY2x1ZGUgX21hdC1mb3JtLWZpZWxkLWxlZ2FjeS1sYWJlbC1mbG9hdGluZyhcbiAgICAgICAgICAgICAgICAkc3Vic2NyaXB0LWZvbnQtc2NhbGUsICRpbmZpeC1wYWRkaW5nLCAkaW5maXgtbWFyZ2luLXRvcCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLm1hdC1mb3JtLWZpZWxkLWxhYmVsIHtcbiAgICAgIHRvcDogJGluZml4LW1hcmdpbi10b3AgKyAkaW5maXgtcGFkZGluZztcbiAgICB9XG5cbiAgICAubWF0LWZvcm0tZmllbGQtdW5kZXJsaW5lIHtcbiAgICAgIC8vIFdlIHdhbnQgdGhlIHVuZGVybGluZSB0byBzdGFydCBhdCB0aGUgZW5kIG9mIHRoZSBjb250ZW50IGJveCwgbm90IHRoZSBwYWRkaW5nIGJveCxcbiAgICAgIC8vIHNvIHdlIG1vdmUgaXQgdXAgYnkgdGhlIHBhZGRpbmcgYW1vdW50LlxuICAgICAgYm90dG9tOiAkd3JhcHBlci1wYWRkaW5nLWJvdHRvbTtcbiAgICB9XG5cbiAgICAubWF0LWZvcm0tZmllbGQtc3Vic2NyaXB0LXdyYXBwZXIge1xuICAgICAgbWFyZ2luLXRvcDogJHN1YnNjcmlwdC1tYXJnaW4tdG9wO1xuXG4gICAgICAvLyBXZSB3YW50IHRoZSBzdWJzY3JpcHQgdG8gc3RhcnQgYXQgdGhlIGVuZCBvZiB0aGUgY29udGVudCBib3gsIG5vdCB0aGUgcGFkZGluZyBib3gsXG4gICAgICAvLyBzbyB3ZSBtb3ZlIGl0IHVwIGJ5IHRoZSBwYWRkaW5nIGFtb3VudCAoYWRqdXN0ZWQgZm9yIHRoZSBzbWFsbGVyIGZvbnQgc2l6ZSk7XG4gICAgICB0b3A6IGNhbGMoMTAwJSAtICN7JHdyYXBwZXItcGFkZGluZy1ib3R0b20gLyAkc3Vic2NyaXB0LWZvbnQtc2NhbGV9KTtcbiAgICB9XG4gIH1cblxuICAvLyB0cmFuc2xhdGVaIGNhdXNlcyB0aGUgbGFiZWwgdG8gbm90IGFwcGVhciB3aGlsZSBwcmludGluZywgc28gd2Ugb3ZlcnJpZGUgaXQgdG8gbm90XG4gIC8vIGFwcGx5IHRyYW5zbGF0ZVogd2hpbGUgcHJpbnRpbmdcbiAgQG1lZGlhIHByaW50IHtcbiAgICAubWF0LWZvcm0tZmllbGQtYXBwZWFyYW5jZS1sZWdhY3kge1xuICAgICAgJi5tYXQtZm9ybS1maWVsZC1jYW4tZmxvYXQge1xuICAgICAgICAmLm1hdC1mb3JtLWZpZWxkLXNob3VsZC1mbG9hdCAubWF0LWZvcm0tZmllbGQtbGFiZWwsXG4gICAgICAgIC5tYXQtaW5wdXQtc2VydmVyOmZvY3VzICsgLm1hdC1mb3JtLWZpZWxkLWxhYmVsLXdyYXBwZXIgLm1hdC1mb3JtLWZpZWxkLWxhYmVsIHtcbiAgICAgICAgICBAaW5jbHVkZSBfbWF0LWZvcm0tZmllbGQtbGVnYWN5LWxhYmVsLWZsb2F0aW5nLXByaW50KFxuICAgICAgICAgICAgICAgICAgJHN1YnNjcmlwdC1mb250LXNjYWxlLCAkaW5maXgtcGFkZGluZywgJGluZml4LW1hcmdpbi10b3ApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQGJyZWFraW5nLWNoYW5nZSA4LjAuMCB3aWxsIHJlbHkgb24gQXV0b2ZpbGxNb25pdG9yIGluc3RlYWQuXG4gICAgICAgIC5tYXQtZm9ybS1maWVsZC1hdXRvZmlsbC1jb250cm9sOi13ZWJraXQtYXV0b2ZpbGwgKyAubWF0LWZvcm0tZmllbGQtbGFiZWwtd3JhcHBlclxuICAgICAgICAubWF0LWZvcm0tZmllbGQtbGFiZWwge1xuICAgICAgICAgIEBpbmNsdWRlIF9tYXQtZm9ybS1maWVsZC1sZWdhY3ktbGFiZWwtZmxvYXRpbmctcHJpbnQoXG4gICAgICAgICAgICAgICAgICAkc3Vic2NyaXB0LWZvbnQtc2NhbGUsICRpbmZpeC1wYWRkaW5nLCAkaW5maXgtbWFyZ2luLXRvcCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXJ2ZXItc2lkZSByZW5kZXJlZCBtYXRJbnB1dCB3aXRoIGEgbGFiZWwgYXR0cmlidXRlIGJ1dCBsYWJlbCBub3Qgc2hvd25cbiAgICAgICAgLy8gKHVzZWQgYXMgYSBwdXJlIENTUyBzdGFuZC1pbiBmb3IgbWF0LWZvcm0tZmllbGQtc2hvdWxkLWZsb2F0KS5cbiAgICAgICAgLm1hdC1pbnB1dC1zZXJ2ZXJbbGFiZWxdOm5vdCg6bGFiZWwtc2hvd24pICsgLm1hdC1mb3JtLWZpZWxkLWxhYmVsLXdyYXBwZXJcbiAgICAgICAgLm1hdC1mb3JtLWZpZWxkLWxhYmVsIHtcbiAgICAgICAgICBAaW5jbHVkZSBfbWF0LWZvcm0tZmllbGQtbGVnYWN5LWxhYmVsLWZsb2F0aW5nLXByaW50KFxuICAgICAgICAgICAgICAgICAgJHN1YnNjcmlwdC1mb250LXNjYWxlLCAkaW5maXgtcGFkZGluZywgJGluZml4LW1hcmdpbi10b3ApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiBfbWF0LWZvcm0tZmllbGQtbGVnYWN5LWRlbnNpdHkoJGNvbmZpZy1vci10aGVtZSkge31cblxuQG1peGluIG1hdC1mb3JtLWZpZWxkLWxlZ2FjeS10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKSB7XG4gICR0aGVtZTogX21hdC1sZWdhY3ktZ2V0LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICBAaW5jbHVkZSBfbWF0LWNoZWNrLWR1cGxpY2F0ZS10aGVtZS1zdHlsZXMoJHRoZW1lLCAnbWF0LWZvcm0tZmllbGQtbGVnYWN5Jykge1xuICAgICRjb2xvcjogbWF0LWdldC1jb2xvci1jb25maWcoJHRoZW1lKTtcbiAgICAkZGVuc2l0eTogbWF0LWdldC1kZW5zaXR5LWNvbmZpZygkdGhlbWUpO1xuICAgICR0eXBvZ3JhcGh5OiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCR0aGVtZSk7XG5cbiAgICBAaWYgJGNvbG9yICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LWZvcm0tZmllbGQtbGVnYWN5LWNvbG9yKCRjb2xvcik7XG4gICAgfVxuICAgIEBpZiAkZGVuc2l0eSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIF9tYXQtZm9ybS1maWVsZC1sZWdhY3ktZGVuc2l0eSgkZGVuc2l0eSk7XG4gICAgfVxuICAgIEBpZiAkdHlwb2dyYXBoeSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1mb3JtLWZpZWxkLWxlZ2FjeS10eXBvZ3JhcGh5KCR0eXBvZ3JhcGh5KTtcbiAgICB9XG4gIH1cbn1cblxuXG5cblxuXG5cblxuXG4vLyBUaGVtZSBzdHlsZXMgdGhhdCBvbmx5IGFwcGx5IHRvIHRoZSBvdXRsaW5lIGFwcGVhcmFuY2Ugb2YgdGhlIGZvcm0tZmllbGQuXG5cbkBtaXhpbiBtYXQtZm9ybS1maWVsZC1vdXRsaW5lLWNvbG9yKCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC1jb2xvci1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gICRwcmltYXJ5OiBtYXAtZ2V0KCRjb25maWcsIHByaW1hcnkpO1xuICAkYWNjZW50OiBtYXAtZ2V0KCRjb25maWcsIGFjY2VudCk7XG4gICR3YXJuOiBtYXAtZ2V0KCRjb25maWcsIHdhcm4pO1xuICAkZm9yZWdyb3VuZDogbWFwLWdldCgkY29uZmlnLCBmb3JlZ3JvdW5kKTtcbiAgJGlzLWRhcmstdGhlbWU6IG1hcC1nZXQoJGNvbmZpZywgaXMtZGFyayk7XG5cbiAgJGxhYmVsLWRpc2FibGVkLWNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIGRpc2FibGVkLXRleHQpO1xuICAkb3V0bGluZS1jb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBkaXZpZGVyLCBpZigkaXMtZGFyay10aGVtZSwgMC4zLCAwLjEyKSk7XG4gICRvdXRsaW5lLWNvbG9yLWhvdmVyOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIGRpdmlkZXIsIGlmKCRpcy1kYXJrLXRoZW1lLCAxLCAwLjg3KSk7XG4gICRvdXRsaW5lLWNvbG9yLXByaW1hcnk6IG1hdC1jb2xvcigkcHJpbWFyeSk7XG4gICRvdXRsaW5lLWNvbG9yLWFjY2VudDogbWF0LWNvbG9yKCRhY2NlbnQpO1xuICAkb3V0bGluZS1jb2xvci13YXJuOiBtYXQtY29sb3IoJHdhcm4pO1xuICAkb3V0bGluZS1jb2xvci1kaXNhYmxlZDogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBkaXZpZGVyLCBpZigkaXMtZGFyay10aGVtZSwgMC4xNSwgMC4wNikpO1xuXG4gIC5tYXQtZm9ybS1maWVsZC1hcHBlYXJhbmNlLW91dGxpbmUge1xuICAgIC5tYXQtZm9ybS1maWVsZC1vdXRsaW5lIHtcbiAgICAgIGNvbG9yOiAkb3V0bGluZS1jb2xvcjtcbiAgICB9XG5cbiAgICAubWF0LWZvcm0tZmllbGQtb3V0bGluZS10aGljayB7XG4gICAgICBjb2xvcjogJG91dGxpbmUtY29sb3ItaG92ZXI7XG4gICAgfVxuXG4gICAgJi5tYXQtZm9jdXNlZCB7XG4gICAgICAubWF0LWZvcm0tZmllbGQtb3V0bGluZS10aGljayB7XG4gICAgICAgIGNvbG9yOiAkb3V0bGluZS1jb2xvci1wcmltYXJ5O1xuICAgICAgfVxuXG4gICAgICAmLm1hdC1hY2NlbnQgLm1hdC1mb3JtLWZpZWxkLW91dGxpbmUtdGhpY2sge1xuICAgICAgICBjb2xvcjogJG91dGxpbmUtY29sb3ItYWNjZW50O1xuICAgICAgfVxuXG4gICAgICAmLm1hdC13YXJuIC5tYXQtZm9ybS1maWVsZC1vdXRsaW5lLXRoaWNrIHtcbiAgICAgICAgY29sb3I6ICRvdXRsaW5lLWNvbG9yLXdhcm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2xhc3MgcmVwZWF0ZWQgc28gdGhhdCBydWxlIGlzIHNwZWNpZmljIGVub3VnaCB0byBvdmVycmlkZSBmb2N1c2VkIGFjY2VudCBjb2xvciBjYXNlLlxuICAgICYubWF0LWZvcm0tZmllbGQtaW52YWxpZC5tYXQtZm9ybS1maWVsZC1pbnZhbGlkIHtcbiAgICAgIC5tYXQtZm9ybS1maWVsZC1vdXRsaW5lLXRoaWNrIHtcbiAgICAgICAgY29sb3I6ICRvdXRsaW5lLWNvbG9yLXdhcm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgJi5tYXQtZm9ybS1maWVsZC1kaXNhYmxlZCB7XG4gICAgICAubWF0LWZvcm0tZmllbGQtbGFiZWwge1xuICAgICAgICBjb2xvcjogJGxhYmVsLWRpc2FibGVkLWNvbG9yO1xuICAgICAgfVxuXG4gICAgICAubWF0LWZvcm0tZmllbGQtb3V0bGluZSB7XG4gICAgICAgIGNvbG9yOiAkb3V0bGluZS1jb2xvci1kaXNhYmxlZDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLy8gVXNlZCB0byBtYWtlIGluc3RhbmNlcyBvZiB0aGUgX21hdC1mb3JtLWZpZWxkLWxhYmVsLWZsb2F0aW5nIG1peGluIG5lZ2xpZ2libHkgZGlmZmVyZW50LFxuLy8gYW5kIHByZXZlbnQgR29vZ2xlJ3MgQ1NTIE9wdGltaXplciBmcm9tIGNvbGxhcHNpbmcgdGhlIGRlY2xhcmF0aW9ucy4gVGhpcyBpcyBuZWVkZWQgYmVjYXVzZSBzb21lXG4vLyBvZiB0aGUgc2VsZWN0b3JzIGNvbnRhaW4gcHNldWRvLWNsYXNzZXMgbm90IHJlY29nbml6ZWQgaW4gYWxsIGJyb3dzZXJzLiBJZiBhIGJyb3dzZXIgZW5jb3VudGVyc1xuLy8gYW4gdW5rbm93biBwc2V1ZG8tY2xhc3MgaXQgd2lsbCBkaXNjYXJkIHRoZSBlbnRpcmUgcnVsZSBzZXQuXG4kbWF0LWZvcm0tZmllbGQtb3V0bGluZS1kZWR1cGU6IDA7XG5cbi8vIEFwcGxpZXMgYSBmbG9hdGluZyBsYWJlbCBhYm92ZSB0aGUgZm9ybSBmaWVsZCBjb250cm9sIGl0c2VsZi5cbkBtaXhpbiBfbWF0LWZvcm0tZmllbGQtb3V0bGluZS1sYWJlbC1mbG9hdGluZygkZm9udC1zY2FsZSwgJGluZml4LXBhZGRpbmcsICRpbmZpeC1tYXJnaW4tdG9wKSB7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtJGluZml4LW1hcmdpbi10b3AgLSAkaW5maXgtcGFkZGluZyArICRtYXQtZm9ybS1maWVsZC1vdXRsaW5lLWRlZHVwZSlcbiAgc2NhbGUoJGZvbnQtc2NhbGUpO1xuICB3aWR0aDogMTAwJSAvICRmb250LXNjYWxlICsgJG1hdC1mb3JtLWZpZWxkLW91dGxpbmUtZGVkdXBlO1xuXG4gICRtYXQtZm9ybS1maWVsZC1vdXRsaW5lLWRlZHVwZTogJG1hdC1mb3JtLWZpZWxkLW91dGxpbmUtZGVkdXBlICsgMC4wMDAwMSAhZ2xvYmFsO1xufVxuXG5AbWl4aW4gbWF0LWZvcm0tZmllbGQtb3V0bGluZS10eXBvZ3JhcGh5KCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgLy8gVGhlIHVuaXQtbGVzcyBsaW5lLWhlaWdodCBmcm9tIHRoZSBmb250IGNvbmZpZy5cbiAgJGxpbmUtaGVpZ2h0OiBtYXQtbGluZS1oZWlnaHQoJGNvbmZpZywgaW5wdXQpO1xuICAvLyBUaGUgYW1vdW50IHRvIHNjYWxlIHRoZSBmb250IGZvciB0aGUgZmxvYXRpbmcgbGFiZWwgYW5kIHN1YnNjcmlwdC5cbiAgJHN1YnNjcmlwdC1mb250LXNjYWxlOiAwLjc1O1xuICAvLyBUaGUgcGFkZGluZyBhYm92ZSBhbmQgYmVsb3cgdGhlIGluZml4LlxuICAkaW5maXgtcGFkZGluZzogMWVtO1xuICAvLyBUaGUgbWFyZ2luIGFwcGxpZWQgdG8gdGhlIGZvcm0tZmllbGQtaW5maXggdG8gcmVzZXJ2ZSBzcGFjZSBmb3IgdGhlIGZsb2F0aW5nIGxhYmVsLlxuICAkaW5maXgtbWFyZ2luLXRvcDogMWVtICogJGxpbmUtaGVpZ2h0ICogJHN1YnNjcmlwdC1mb250LXNjYWxlO1xuICAvLyBUaGUgc3BhY2UgYmV0d2VlbiB0aGUgYm90dG9tIG9mIHRoZSAubWF0LWZvcm0tZmllbGQtZmxleCBhcmVhIGFuZCB0aGUgc3Vic2NyaXB0IHdyYXBwZXIuXG4gIC8vIE1vY2tzIHNob3cgaGFsZiBvZiB0aGUgdGV4dCBzaXplLCBidXQgdGhpcyBtYXJnaW4gaXMgYXBwbGllZCB0byBhbiBlbGVtZW50IHdpdGggdGhlIHN1YnNjcmlwdFxuICAvLyB0ZXh0IGZvbnQgc2l6ZSwgc28gd2UgbmVlZCB0byBkaXZpZGUgYnkgdGhlIHNjYWxlIGZhY3RvciB0byBtYWtlIGl0IGhhbGYgb2YgdGhlIG9yaWdpbmFsIHRleHRcbiAgLy8gc2l6ZS5cbiAgJHN1YnNjcmlwdC1tYXJnaW4tdG9wOiAwLjVlbSAvICRzdWJzY3JpcHQtZm9udC1zY2FsZTtcbiAgLy8gVGhlIHBhZGRpbmcgYXBwbGllZCB0byB0aGUgZm9ybS1maWVsZC13cmFwcGVyIHRvIHJlc2VydmUgc3BhY2UgZm9yIHRoZSBzdWJzY3JpcHQsIHNpbmNlIGl0J3NcbiAgLy8gYWJzb2x1dGVseSBwb3NpdGlvbmVkLiBUaGlzIGlzIGEgY29tYmluYXRpb24gb2YgdGhlIHN1YnNjcmlwdCdzIG1hcmdpbiBhbmQgbGluZS1oZWlnaHQsIGJ1dCB3ZVxuICAvLyBuZWVkIHRvIG11bHRpcGx5IGJ5IHRoZSBzdWJzY3JpcHQgZm9udCBzY2FsZSBmYWN0b3Igc2luY2UgdGhlIHdyYXBwZXIgaGFzIGEgbGFyZ2VyIGZvbnQgc2l6ZS5cbiAgJHdyYXBwZXItcGFkZGluZy1ib3R0b206ICgkc3Vic2NyaXB0LW1hcmdpbi10b3AgKyAkbGluZS1oZWlnaHQpICogJHN1YnNjcmlwdC1mb250LXNjYWxlO1xuICAvLyBUaGUgYW1vdW50IHdlIG9mZnNldCB0aGUgbGFiZWwgZnJvbSB0aGUgaW5wdXQgdGV4dCBpbiB0aGUgb3V0bGluZSBhcHBlYXJhbmNlLlxuICAkb3V0bGluZS1hcHBlYXJhbmNlLWxhYmVsLW9mZnNldDogLTAuMjVlbTtcblxuICAubWF0LWZvcm0tZmllbGQtYXBwZWFyYW5jZS1vdXRsaW5lIHtcbiAgICAubWF0LWZvcm0tZmllbGQtaW5maXgge1xuICAgICAgcGFkZGluZzogJGluZml4LXBhZGRpbmcgMCAkaW5maXgtcGFkZGluZyAwO1xuICAgIH1cblxuICAgIC5tYXQtZm9ybS1maWVsZC1sYWJlbCB7XG4gICAgICB0b3A6ICRpbmZpeC1tYXJnaW4tdG9wICsgJGluZml4LXBhZGRpbmc7XG4gICAgICBtYXJnaW4tdG9wOiAkb3V0bGluZS1hcHBlYXJhbmNlLWxhYmVsLW9mZnNldDtcbiAgICB9XG5cbiAgICAmLm1hdC1mb3JtLWZpZWxkLWNhbi1mbG9hdCB7XG4gICAgICAmLm1hdC1mb3JtLWZpZWxkLXNob3VsZC1mbG9hdCAubWF0LWZvcm0tZmllbGQtbGFiZWwsXG4gICAgICAubWF0LWlucHV0LXNlcnZlcjpmb2N1cyArIC5tYXQtZm9ybS1maWVsZC1sYWJlbC13cmFwcGVyIC5tYXQtZm9ybS1maWVsZC1sYWJlbCB7XG4gICAgICAgIEBpbmNsdWRlIF9tYXQtZm9ybS1maWVsZC1vdXRsaW5lLWxhYmVsLWZsb2F0aW5nKFxuICAgICAgICAgICAgICAgICRzdWJzY3JpcHQtZm9udC1zY2FsZSwgJGluZml4LXBhZGRpbmcgKyAkb3V0bGluZS1hcHBlYXJhbmNlLWxhYmVsLW9mZnNldCxcbiAgICAgICAgICAgICAgICAkaW5maXgtbWFyZ2luLXRvcCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFNlcnZlci1zaWRlIHJlbmRlcmVkIG1hdElucHV0IHdpdGggYSBsYWJlbCBhdHRyaWJ1dGUgYnV0IGxhYmVsIG5vdCBzaG93blxuICAgICAgLy8gKHVzZWQgYXMgYSBwdXJlIENTUyBzdGFuZC1pbiBmb3IgbWF0LWZvcm0tZmllbGQtc2hvdWxkLWZsb2F0KS5cbiAgICAgIC5tYXQtaW5wdXQtc2VydmVyW2xhYmVsXTpub3QoOmxhYmVsLXNob3duKSArIC5tYXQtZm9ybS1maWVsZC1sYWJlbC13cmFwcGVyXG4gICAgICAubWF0LWZvcm0tZmllbGQtbGFiZWwge1xuICAgICAgICBAaW5jbHVkZSBfbWF0LWZvcm0tZmllbGQtb3V0bGluZS1sYWJlbC1mbG9hdGluZyhcbiAgICAgICAgICAgICAgICAkc3Vic2NyaXB0LWZvbnQtc2NhbGUsICRpbmZpeC1wYWRkaW5nICsgJG91dGxpbmUtYXBwZWFyYW5jZS1sYWJlbC1vZmZzZXQsXG4gICAgICAgICAgICAgICAgJGluZml4LW1hcmdpbi10b3ApO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gX21hdC1mb3JtLWZpZWxkLW91dGxpbmUtZGVuc2l0eSgkY29uZmlnLW9yLXRoZW1lKSB7fVxuXG5AbWl4aW4gbWF0LWZvcm0tZmllbGQtb3V0bGluZS10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKSB7XG4gICR0aGVtZTogX21hdC1sZWdhY3ktZ2V0LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICBAaW5jbHVkZSBfbWF0LWNoZWNrLWR1cGxpY2F0ZS10aGVtZS1zdHlsZXMoJHRoZW1lLCAnbWF0LWZvcm0tZmllbGQtb3V0bGluZScpIHtcbiAgICAkY29sb3I6IG1hdC1nZXQtY29sb3ItY29uZmlnKCR0aGVtZSk7XG4gICAgJGRlbnNpdHk6IG1hdC1nZXQtZGVuc2l0eS1jb25maWcoJHRoZW1lKTtcbiAgICAkdHlwb2dyYXBoeTogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkdGhlbWUpO1xuXG4gICAgQGlmICRjb2xvciAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1mb3JtLWZpZWxkLW91dGxpbmUtY29sb3IoJGNvbG9yKTtcbiAgICB9XG4gICAgQGlmICRkZW5zaXR5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgX21hdC1mb3JtLWZpZWxkLW91dGxpbmUtZGVuc2l0eSgkZGVuc2l0eSk7XG4gICAgfVxuICAgIEBpZiAkdHlwb2dyYXBoeSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1mb3JtLWZpZWxkLW91dGxpbmUtdHlwb2dyYXBoeSgkdHlwb2dyYXBoeSk7XG4gICAgfVxuICB9XG59XG5cblxuXG5cblxuXG5cblxuXG4vLyBUaGVtZSBzdHlsZXMgdGhhdCBvbmx5IGFwcGx5IHRvIHRoZSBzdGFuZGFyZCBhcHBlYXJhbmNlIG9mIHRoZSBmb3JtLWZpZWxkLlxuXG5AbWl4aW4gbWF0LWZvcm0tZmllbGQtc3RhbmRhcmQtY29sb3IoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgJGZvcmVncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgZm9yZWdyb3VuZCk7XG4gICRpcy1kYXJrLXRoZW1lOiBtYXAtZ2V0KCRjb25maWcsIGlzLWRhcmspO1xuXG4gICR1bmRlcmxpbmUtY29sb3I6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgZGl2aWRlciwgaWYoJGlzLWRhcmstdGhlbWUsIDAuNywgMC40MikpO1xuXG4gIC5tYXQtZm9ybS1maWVsZC1hcHBlYXJhbmNlLXN0YW5kYXJkIHtcbiAgICAubWF0LWZvcm0tZmllbGQtdW5kZXJsaW5lIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICR1bmRlcmxpbmUtY29sb3I7XG4gICAgfVxuXG4gICAgJi5tYXQtZm9ybS1maWVsZC1kaXNhYmxlZCAubWF0LWZvcm0tZmllbGQtdW5kZXJsaW5lIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1jb250cm9sLWRpc2FibGVkLXVuZGVybGluZSgkdW5kZXJsaW5lLWNvbG9yKTtcbiAgICB9XG4gIH1cbn1cblxuQG1peGluIG1hdC1mb3JtLWZpZWxkLXN0YW5kYXJkLXR5cG9ncmFwaHkoJGNvbmZpZy1vci10aGVtZSkge31cblxuQG1peGluIF9tYXQtZm9ybS1maWVsZC1zdGFuZGFyZC1kZW5zaXR5KCRjb25maWctb3ItdGhlbWUpIHt9XG5cbkBtaXhpbiBtYXQtZm9ybS1maWVsZC1zdGFuZGFyZC10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKSB7XG4gICR0aGVtZTogX21hdC1sZWdhY3ktZ2V0LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICBAaW5jbHVkZSBfbWF0LWNoZWNrLWR1cGxpY2F0ZS10aGVtZS1zdHlsZXMoJHRoZW1lLCAnbWF0LWZvcm0tZmllbGQtc3RhbmRhcmQnKSB7XG4gICAgJGNvbG9yOiBtYXQtZ2V0LWNvbG9yLWNvbmZpZygkdGhlbWUpO1xuICAgICRkZW5zaXR5OiBtYXQtZ2V0LWRlbnNpdHktY29uZmlnKCR0aGVtZSk7XG4gICAgJHR5cG9ncmFwaHk6IG1hdC1nZXQtdHlwb2dyYXBoeS1jb25maWcoJHRoZW1lKTtcblxuICAgIEBpZiAkY29sb3IgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtZm9ybS1maWVsZC1zdGFuZGFyZC1jb2xvcigkY29sb3IpO1xuICAgIH1cbiAgICBAaWYgJGRlbnNpdHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBfbWF0LWZvcm0tZmllbGQtc3RhbmRhcmQtZGVuc2l0eSgkZGVuc2l0eSk7XG4gICAgfVxuICAgIEBpZiAkdHlwb2dyYXBoeSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1mb3JtLWZpZWxkLXN0YW5kYXJkLXR5cG9ncmFwaHkoJHR5cG9ncmFwaHkpO1xuICAgIH1cbiAgfVxufVxuXG5cbi8vIENvbG9yIHN0eWxlcyB0aGF0IGFwcGx5IHRvIGFsbCBhcHBlYXJhbmNlcyBvZiB0aGUgZm9ybS1maWVsZC5cbkBtaXhpbiBtYXQtZm9ybS1maWVsZC1jb2xvcigkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtY29sb3ItY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAkcHJpbWFyeTogbWFwLWdldCgkY29uZmlnLCBwcmltYXJ5KTtcbiAgJGFjY2VudDogbWFwLWdldCgkY29uZmlnLCBhY2NlbnQpO1xuICAkd2FybjogbWFwLWdldCgkY29uZmlnLCB3YXJuKTtcbiAgJGJhY2tncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgYmFja2dyb3VuZCk7XG4gICRmb3JlZ3JvdW5kOiBtYXAtZ2V0KCRjb25maWcsIGZvcmVncm91bmQpO1xuICAkaXMtZGFyay10aGVtZTogbWFwLWdldCgkY29uZmlnLCBpcy1kYXJrKTtcblxuICAvLyBMYWJlbCBjb2xvcnMuIFJlcXVpcmVkIGlzIHVzZWQgZm9yIHRoZSBgKmAgc3RhciBzaG93biBpbiB0aGUgbGFiZWwuXG4gICRsYWJlbC1jb2xvcjogbWF0LWNvbG9yKCRmb3JlZ3JvdW5kLCBzZWNvbmRhcnktdGV4dCwgaWYoJGlzLWRhcmstdGhlbWUsIDAuNywgMC42KSk7XG4gICRmb2N1c2VkLWxhYmVsLWNvbG9yOiBtYXQtY29sb3IoJHByaW1hcnksIHRleHQpO1xuICAkcmVxdWlyZWQtbGFiZWwtY29sb3I6IG1hdC1jb2xvcigkYWNjZW50LCB0ZXh0KTtcblxuICAvLyBVbmRlcmxpbmUgY29sb3JzLlxuICAkdW5kZXJsaW5lLWNvbG9yLWJhc2U6IG1hdC1jb2xvcigkZm9yZWdyb3VuZCwgZGl2aWRlciwgaWYoJGlzLWRhcmstdGhlbWUsIDEsIDAuODcpKTtcbiAgJHVuZGVybGluZS1jb2xvci1hY2NlbnQ6IG1hdC1jb2xvcigkYWNjZW50LCB0ZXh0KTtcbiAgJHVuZGVybGluZS1jb2xvci13YXJuOiBtYXQtY29sb3IoJHdhcm4sIHRleHQpO1xuICAkdW5kZXJsaW5lLWZvY3VzZWQtY29sb3I6IG1hdC1jb2xvcigkcHJpbWFyeSwgdGV4dCk7XG5cbiAgLm1hdC1mb3JtLWZpZWxkLWxhYmVsIHtcbiAgICBjb2xvcjogJGxhYmVsLWNvbG9yO1xuICB9XG5cbiAgLm1hdC1oaW50IHtcbiAgICBjb2xvcjogJGxhYmVsLWNvbG9yO1xuICB9XG5cbiAgLm1hdC1mb3JtLWZpZWxkLm1hdC1mb2N1c2VkIC5tYXQtZm9ybS1maWVsZC1sYWJlbCB7XG4gICAgY29sb3I6ICRmb2N1c2VkLWxhYmVsLWNvbG9yO1xuXG4gICAgJi5tYXQtYWNjZW50IHtcbiAgICAgIGNvbG9yOiAkdW5kZXJsaW5lLWNvbG9yLWFjY2VudDtcbiAgICB9XG5cbiAgICAmLm1hdC13YXJuIHtcbiAgICAgIGNvbG9yOiAkdW5kZXJsaW5lLWNvbG9yLXdhcm47XG4gICAgfVxuICB9XG5cbiAgLm1hdC1mb2N1c2VkIC5tYXQtZm9ybS1maWVsZC1yZXF1aXJlZC1tYXJrZXIge1xuICAgIGNvbG9yOiAkcmVxdWlyZWQtbGFiZWwtY29sb3I7XG4gIH1cblxuICAubWF0LWZvcm0tZmllbGQtcmlwcGxlIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkdW5kZXJsaW5lLWNvbG9yLWJhc2U7XG4gIH1cblxuICAubWF0LWZvcm0tZmllbGQubWF0LWZvY3VzZWQge1xuICAgIC5tYXQtZm9ybS1maWVsZC1yaXBwbGUge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHVuZGVybGluZS1mb2N1c2VkLWNvbG9yO1xuXG4gICAgICAmLm1hdC1hY2NlbnQge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkdW5kZXJsaW5lLWNvbG9yLWFjY2VudDtcbiAgICAgIH1cblxuICAgICAgJi5tYXQtd2FybiB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR1bmRlcmxpbmUtY29sb3Itd2FybjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAubWF0LWZvcm0tZmllbGQtdHlwZS1tYXQtbmF0aXZlLXNlbGVjdC5tYXQtZm9jdXNlZDpub3QoLm1hdC1mb3JtLWZpZWxkLWludmFsaWQpIHtcbiAgICAubWF0LWZvcm0tZmllbGQtaW5maXg6OmFmdGVyIHtcbiAgICAgIGNvbG9yOiAkdW5kZXJsaW5lLWZvY3VzZWQtY29sb3I7XG4gICAgfVxuXG4gICAgJi5tYXQtYWNjZW50IC5tYXQtZm9ybS1maWVsZC1pbmZpeDo6YWZ0ZXIge1xuICAgICAgY29sb3I6ICR1bmRlcmxpbmUtY29sb3ItYWNjZW50O1xuICAgIH1cblxuICAgICYubWF0LXdhcm4gLm1hdC1mb3JtLWZpZWxkLWluZml4OjphZnRlciB7XG4gICAgICBjb2xvcjogJHVuZGVybGluZS1jb2xvci13YXJuO1xuICAgIH1cbiAgfVxuXG4gIC8vIFN0eWxpbmcgZm9yIHRoZSBlcnJvciBzdGF0ZSBvZiB0aGUgZm9ybSBmaWVsZC4gTm90ZSB0aGF0IHdoaWxlIHRoZSBzYW1lIGNhbiBiZVxuICAvLyBhY2hpZXZlZCB3aXRoIHRoZSBuZy0qIGNsYXNzZXMsIHdlIHVzZSB0aGlzIGFwcHJvYWNoIGluIG9yZGVyIHRvIGVuc3VyZSB0aGF0IHRoZSBzYW1lXG4gIC8vIGxvZ2ljIGlzIHVzZWQgdG8gc3R5bGUgdGhlIGVycm9yIHN0YXRlIGFuZCB0byBzaG93IHRoZSBlcnJvciBtZXNzYWdlcy5cbiAgLm1hdC1mb3JtLWZpZWxkLm1hdC1mb3JtLWZpZWxkLWludmFsaWQge1xuICAgIC5tYXQtZm9ybS1maWVsZC1sYWJlbCB7XG4gICAgICBjb2xvcjogJHVuZGVybGluZS1jb2xvci13YXJuO1xuXG4gICAgICAmLm1hdC1hY2NlbnQsXG4gICAgICAubWF0LWZvcm0tZmllbGQtcmVxdWlyZWQtbWFya2VyIHtcbiAgICAgICAgY29sb3I6ICR1bmRlcmxpbmUtY29sb3Itd2FybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAubWF0LWZvcm0tZmllbGQtcmlwcGxlLFxuICAgIC5tYXQtZm9ybS1maWVsZC1yaXBwbGUubWF0LWFjY2VudCB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkdW5kZXJsaW5lLWNvbG9yLXdhcm47XG4gICAgfVxuICB9XG5cbiAgLm1hdC1lcnJvciB7XG4gICAgY29sb3I6ICR1bmRlcmxpbmUtY29sb3Itd2FybjtcbiAgfVxuXG4gIEBpbmNsdWRlIG1hdC1mb3JtLWZpZWxkLWxlZ2FjeS1jb2xvcigkY29uZmlnKTtcbiAgQGluY2x1ZGUgbWF0LWZvcm0tZmllbGQtc3RhbmRhcmQtY29sb3IoJGNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC1mb3JtLWZpZWxkLWZpbGwtY29sb3IoJGNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC1mb3JtLWZpZWxkLW91dGxpbmUtY29sb3IoJGNvbmZpZyk7XG59XG5cbi8vIFVzZWQgdG8gbWFrZSBpbnN0YW5jZXMgb2YgdGhlIF9tYXQtZm9ybS1maWVsZC1sYWJlbC1mbG9hdGluZyBtaXhpbiBuZWdsaWdpYmx5IGRpZmZlcmVudCxcbi8vIGFuZCBwcmV2ZW50IEdvb2dsZSdzIENTUyBPcHRpbWl6ZXIgZnJvbSBjb2xsYXBzaW5nIHRoZSBkZWNsYXJhdGlvbnMuIFRoaXMgaXMgbmVlZGVkIGJlY2F1c2Ugc29tZVxuLy8gb2YgdGhlIHNlbGVjdG9ycyBjb250YWluIHBzZXVkby1jbGFzc2VzIG5vdCByZWNvZ25pemVkIGluIGFsbCBicm93c2Vycy4gSWYgYSBicm93c2VyIGVuY291bnRlcnNcbi8vIGFuIHVua25vd24gcHNldWRvLWNsYXNzIGl0IHdpbGwgZGlzY2FyZCB0aGUgZW50aXJlIHJ1bGUgc2V0LlxuJG1hdC1mb3JtLWZpZWxkLWRlZHVwZTogMDtcblxuLy8gQXBwbGllcyBhIGZsb2F0aW5nIGxhYmVsIGFib3ZlIHRoZSBmb3JtIGZpZWxkIGNvbnRyb2wgaXRzZWxmLlxuQG1peGluIF9tYXQtZm9ybS1maWVsZC1sYWJlbC1mbG9hdGluZygkZm9udC1zY2FsZSwgJGluZml4LXBhZGRpbmcsICRpbmZpeC1tYXJnaW4tdG9wKSB7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtJGluZml4LW1hcmdpbi10b3AgLSAkaW5maXgtcGFkZGluZyArICRtYXQtZm9ybS1maWVsZC1kZWR1cGUpXG4gICAgICAgICAgICAgc2NhbGUoJGZvbnQtc2NhbGUpO1xuICB3aWR0aDogMTAwJSAvICRmb250LXNjYWxlICsgJG1hdC1mb3JtLWZpZWxkLWRlZHVwZTtcblxuICAkbWF0LWZvcm0tZmllbGQtZGVkdXBlOiAkbWF0LWZvcm0tZmllbGQtZGVkdXBlICsgMC4wMDAwMSAhZ2xvYmFsO1xufVxuXG5AbWl4aW4gbWF0LWZvcm0tZmllbGQtdHlwb2dyYXBoeSgkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtdHlwb2dyYXBoeS1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gIC8vIFRoZSB1bml0LWxlc3MgbGluZS1oZWlnaHQgZnJvbSB0aGUgZm9udCBjb25maWcuXG4gICRsaW5lLWhlaWdodDogbWF0LWxpbmUtaGVpZ2h0KCRjb25maWcsIGlucHV0KTtcblxuICAvLyBUaGUgYW1vdW50IHRvIHNjYWxlIHRoZSBmb250IGZvciB0aGUgZmxvYXRpbmcgbGFiZWwgYW5kIHN1YnNjcmlwdC5cbiAgJHN1YnNjcmlwdC1mb250LXNjYWxlOiAwLjc1O1xuICAvLyBUaGUgYW1vdW50IHRvIHNjYWxlIHRoZSBmb250IGZvciB0aGUgcHJlZml4IGFuZCBzdWZmaXggaWNvbnMuXG4gICRwcmVmaXgtc3VmZml4LWljb24tZm9udC1zY2FsZTogMS41O1xuXG4gIC8vIFRoZSBwYWRkaW5nIG9uIHRoZSBpbmZpeC4gTW9ja3Mgc2hvdyBoYWxmIG9mIHRoZSB0ZXh0IHNpemUuXG4gICRpbmZpeC1wYWRkaW5nOiAwLjVlbTtcbiAgLy8gVGhlIG1hcmdpbiBhcHBsaWVkIHRvIHRoZSBmb3JtLWZpZWxkLWluZml4IHRvIHJlc2VydmUgc3BhY2UgZm9yIHRoZSBmbG9hdGluZyBsYWJlbC5cbiAgJGluZml4LW1hcmdpbi10b3A6IDFlbSAqICRsaW5lLWhlaWdodCAqICRzdWJzY3JpcHQtZm9udC1zY2FsZTtcbiAgLy8gRm9udCBzaXplIHRvIHVzZSBmb3IgdGhlIGxhYmVsIGFuZCBzdWJzY3JpcHQgdGV4dC5cbiAgJHN1YnNjcmlwdC1mb250LXNpemU6ICRzdWJzY3JpcHQtZm9udC1zY2FsZSAqIDEwMCU7XG4gIC8vIEZvbnQgc2l6ZSB0byB1c2UgZm9yIHRoZSBmb3IgdGhlIHByZWZpeCBhbmQgc3VmZml4IGljb25zLlxuICAkcHJlZml4LXN1ZmZpeC1pY29uLWZvbnQtc2l6ZTogJHByZWZpeC1zdWZmaXgtaWNvbi1mb250LXNjYWxlICogMTAwJTtcbiAgLy8gVGhlIHNwYWNlIGJldHdlZW4gdGhlIGJvdHRvbSBvZiB0aGUgLm1hdC1mb3JtLWZpZWxkLWZsZXggYXJlYSBhbmQgdGhlIHN1YnNjcmlwdCB3cmFwcGVyLlxuICAvLyBNb2NrcyBzaG93IGhhbGYgb2YgdGhlIHRleHQgc2l6ZSwgYnV0IHRoaXMgbWFyZ2luIGlzIGFwcGxpZWQgdG8gYW4gZWxlbWVudCB3aXRoIHRoZSBzdWJzY3JpcHRcbiAgLy8gdGV4dCBmb250IHNpemUsIHNvIHdlIG5lZWQgdG8gZGl2aWRlIGJ5IHRoZSBzY2FsZSBmYWN0b3IgdG8gbWFrZSBpdCBoYWxmIG9mIHRoZSBvcmlnaW5hbCB0ZXh0XG4gIC8vIHNpemUuXG4gICRzdWJzY3JpcHQtbWFyZ2luLXRvcDogMC41ZW0gLyAkc3Vic2NyaXB0LWZvbnQtc2NhbGU7XG4gIC8vIFRoZSBwYWRkaW5nIGFwcGxpZWQgdG8gdGhlIGZvcm0tZmllbGQtd3JhcHBlciB0byByZXNlcnZlIHNwYWNlIGZvciB0aGUgc3Vic2NyaXB0LCBzaW5jZSBpdCdzXG4gIC8vIGFic29sdXRlbHkgcG9zaXRpb25lZC4gVGhpcyBpcyBhIGNvbWJpbmF0aW9uIG9mIHRoZSBzdWJzY3JpcHQncyBtYXJnaW4gYW5kIGxpbmUtaGVpZ2h0LCBidXQgd2VcbiAgLy8gbmVlZCB0byBtdWx0aXBseSBieSB0aGUgc3Vic2NyaXB0IGZvbnQgc2NhbGUgZmFjdG9yIHNpbmNlIHRoZSB3cmFwcGVyIGhhcyBhIGxhcmdlciBmb250IHNpemUuXG4gICR3cmFwcGVyLXBhZGRpbmctYm90dG9tOiAoJHN1YnNjcmlwdC1tYXJnaW4tdG9wICsgJGxpbmUtaGVpZ2h0KSAqICRzdWJzY3JpcHQtZm9udC1zY2FsZTtcblxuICAubWF0LWZvcm0tZmllbGQge1xuICAgIEBpbmNsdWRlIG1hdC10eXBvZ3JhcGh5LWxldmVsLXRvLXN0eWxlcygkY29uZmlnLCBpbnB1dCk7XG4gIH1cblxuICAubWF0LWZvcm0tZmllbGQtd3JhcHBlciB7XG4gICAgcGFkZGluZy1ib3R0b206ICR3cmFwcGVyLXBhZGRpbmctYm90dG9tO1xuICB9XG5cbiAgLm1hdC1mb3JtLWZpZWxkLXByZWZpeCxcbiAgLm1hdC1mb3JtLWZpZWxkLXN1ZmZpeCB7XG4gICAgLy8gQWxsb3cgaWNvbnMgaW4gYSBwcmVmaXggb3Igc3VmZml4IHRvIGFkYXB0IHRvIHRoZSBjb3JyZWN0IHNpemUuXG4gICAgLm1hdC1pY29uIHtcbiAgICAgIGZvbnQtc2l6ZTogJHByZWZpeC1zdWZmaXgtaWNvbi1mb250LXNpemU7XG4gICAgICBsaW5lLWhlaWdodDogJGxpbmUtaGVpZ2h0O1xuICAgIH1cblxuICAgIC8vIEFsbG93IGljb24gYnV0dG9ucyBpbiBhIHByZWZpeCBvciBzdWZmaXggdG8gYWRhcHQgdG8gdGhlIGNvcnJlY3Qgc2l6ZS5cbiAgICAubWF0LWljb24tYnV0dG9uIHtcbiAgICAgIGhlaWdodDogJHByZWZpeC1zdWZmaXgtaWNvbi1mb250LXNjYWxlICogMWVtO1xuICAgICAgd2lkdGg6ICRwcmVmaXgtc3VmZml4LWljb24tZm9udC1zY2FsZSAqIDFlbTtcblxuICAgICAgLm1hdC1pY29uIHtcbiAgICAgICAgaGVpZ2h0OiAkbGluZS1oZWlnaHQgKiAxZW07XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAkbGluZS1oZWlnaHQ7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLm1hdC1mb3JtLWZpZWxkLWluZml4IHtcbiAgICBwYWRkaW5nOiAkaW5maXgtcGFkZGluZyAwO1xuICAgIC8vIFRocm93cyBvZmYgdGhlIGJhc2VsaW5lIGlmIHdlIGRvIGl0IGFzIGEgcmVhbCBtYXJnaW4sIHNvIHdlIGRvIGl0IGFzIGEgYm9yZGVyIGluc3RlYWQuXG4gICAgYm9yZGVyLXRvcDogJGluZml4LW1hcmdpbi10b3Agc29saWQgdHJhbnNwYXJlbnQ7XG4gIH1cblxuICAubWF0LWZvcm0tZmllbGQtY2FuLWZsb2F0IHtcbiAgICAmLm1hdC1mb3JtLWZpZWxkLXNob3VsZC1mbG9hdCAubWF0LWZvcm0tZmllbGQtbGFiZWwsXG4gICAgLm1hdC1pbnB1dC1zZXJ2ZXI6Zm9jdXMgKyAubWF0LWZvcm0tZmllbGQtbGFiZWwtd3JhcHBlciAubWF0LWZvcm0tZmllbGQtbGFiZWwge1xuICAgICAgQGluY2x1ZGUgX21hdC1mb3JtLWZpZWxkLWxhYmVsLWZsb2F0aW5nKFxuICAgICAgICAgICAgICAkc3Vic2NyaXB0LWZvbnQtc2NhbGUsICRpbmZpeC1wYWRkaW5nLCAkaW5maXgtbWFyZ2luLXRvcCk7XG4gICAgfVxuXG4gICAgLy8gU2VydmVyLXNpZGUgcmVuZGVyZWQgbWF0SW5wdXQgd2l0aCBhIGxhYmVsIGF0dHJpYnV0ZSBidXQgbGFiZWwgbm90IHNob3duXG4gICAgLy8gKHVzZWQgYXMgYSBwdXJlIENTUyBzdGFuZC1pbiBmb3IgbWF0LWZvcm0tZmllbGQtc2hvdWxkLWZsb2F0KS5cbiAgICAubWF0LWlucHV0LXNlcnZlcltsYWJlbF06bm90KDpsYWJlbC1zaG93bikgKyAubWF0LWZvcm0tZmllbGQtbGFiZWwtd3JhcHBlclxuICAgICAgICAubWF0LWZvcm0tZmllbGQtbGFiZWwge1xuICAgICAgQGluY2x1ZGUgX21hdC1mb3JtLWZpZWxkLWxhYmVsLWZsb2F0aW5nKFxuICAgICAgICAgICAgICAkc3Vic2NyaXB0LWZvbnQtc2NhbGUsICRpbmZpeC1wYWRkaW5nLCAkaW5maXgtbWFyZ2luLXRvcCk7XG4gICAgfVxuICB9XG5cbiAgLm1hdC1mb3JtLWZpZWxkLWxhYmVsLXdyYXBwZXIge1xuICAgIHRvcDogLSRpbmZpeC1tYXJnaW4tdG9wO1xuICAgIHBhZGRpbmctdG9wOiAkaW5maXgtbWFyZ2luLXRvcDtcbiAgfVxuXG4gIC5tYXQtZm9ybS1maWVsZC1sYWJlbCB7XG4gICAgdG9wOiAkaW5maXgtbWFyZ2luLXRvcCArICRpbmZpeC1wYWRkaW5nO1xuICB9XG5cbiAgLm1hdC1mb3JtLWZpZWxkLXVuZGVybGluZSB7XG4gICAgLy8gV2Ugd2FudCB0aGUgdW5kZXJsaW5lIHRvIHN0YXJ0IGF0IHRoZSBlbmQgb2YgdGhlIGNvbnRlbnQgYm94LCBub3QgdGhlIHBhZGRpbmcgYm94LFxuICAgIC8vIHNvIHdlIG1vdmUgaXQgdXAgYnkgdGhlIHBhZGRpbmcgYW1vdW50LlxuICAgIGJvdHRvbTogJHdyYXBwZXItcGFkZGluZy1ib3R0b207XG4gIH1cblxuICAubWF0LWZvcm0tZmllbGQtc3Vic2NyaXB0LXdyYXBwZXIge1xuICAgIGZvbnQtc2l6ZTogJHN1YnNjcmlwdC1mb250LXNpemU7XG4gICAgbWFyZ2luLXRvcDogJHN1YnNjcmlwdC1tYXJnaW4tdG9wO1xuXG4gICAgLy8gV2Ugd2FudCB0aGUgc3Vic2NyaXB0IHRvIHN0YXJ0IGF0IHRoZSBlbmQgb2YgdGhlIGNvbnRlbnQgYm94LCBub3QgdGhlIHBhZGRpbmcgYm94LFxuICAgIC8vIHNvIHdlIG1vdmUgaXQgdXAgYnkgdGhlIHBhZGRpbmcgYW1vdW50IChhZGp1c3RlZCBmb3IgdGhlIHNtYWxsZXIgZm9udCBzaXplKTtcbiAgICB0b3A6IGNhbGMoMTAwJSAtICN7JHdyYXBwZXItcGFkZGluZy1ib3R0b20gLyAkc3Vic2NyaXB0LWZvbnQtc2NhbGV9KTtcbiAgfVxuXG4gIEBpbmNsdWRlIG1hdC1mb3JtLWZpZWxkLWxlZ2FjeS10eXBvZ3JhcGh5KCRjb25maWcpO1xuICBAaW5jbHVkZSBtYXQtZm9ybS1maWVsZC1zdGFuZGFyZC10eXBvZ3JhcGh5KCRjb25maWcpO1xuICBAaW5jbHVkZSBtYXQtZm9ybS1maWVsZC1maWxsLXR5cG9ncmFwaHkoJGNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC1mb3JtLWZpZWxkLW91dGxpbmUtdHlwb2dyYXBoeSgkY29uZmlnKTtcbn1cblxuQG1peGluIF9tYXQtZm9ybS1maWVsZC1kZW5zaXR5KCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGRlbnNpdHktc2NhbGU6IG1hdC1nZXQtZGVuc2l0eS1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gIEBpbmNsdWRlIF9tYXQtZm9ybS1maWVsZC1sZWdhY3ktZGVuc2l0eSgkZGVuc2l0eS1zY2FsZSk7XG4gIEBpbmNsdWRlIF9tYXQtZm9ybS1maWVsZC1zdGFuZGFyZC1kZW5zaXR5KCRkZW5zaXR5LXNjYWxlKTtcbiAgQGluY2x1ZGUgX21hdC1mb3JtLWZpZWxkLWZpbGwtZGVuc2l0eSgkZGVuc2l0eS1zY2FsZSk7XG4gIEBpbmNsdWRlIF9tYXQtZm9ybS1maWVsZC1vdXRsaW5lLWRlbnNpdHkoJGRlbnNpdHktc2NhbGUpO1xufVxuXG5AbWl4aW4gbWF0LWZvcm0tZmllbGQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZykge1xuICAkdGhlbWU6IF9tYXQtbGVnYWN5LWdldC10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKTtcbiAgQGluY2x1ZGUgX21hdC1jaGVjay1kdXBsaWNhdGUtdGhlbWUtc3R5bGVzKCR0aGVtZSwgJ21hdC1mb3JtLWZpZWxkJykge1xuICAgICRjb2xvcjogbWF0LWdldC1jb2xvci1jb25maWcoJHRoZW1lKTtcbiAgICAkZGVuc2l0eTogbWF0LWdldC1kZW5zaXR5LWNvbmZpZygkdGhlbWUpO1xuICAgICR0eXBvZ3JhcGh5OiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCR0aGVtZSk7XG5cbiAgICBAaWYgJGNvbG9yICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LWZvcm0tZmllbGQtY29sb3IoJGNvbG9yKTtcbiAgICB9XG4gICAgQGlmICRkZW5zaXR5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgX21hdC1mb3JtLWZpZWxkLWRlbnNpdHkoJGRlbnNpdHkpO1xuICAgIH1cbiAgICBAaWYgJHR5cG9ncmFwaHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtZm9ybS1maWVsZC10eXBvZ3JhcGh5KCR0eXBvZ3JhcGh5KTtcbiAgICB9XG4gIH1cbn1cblxuXG5cblxuXG5cbiRtYXQtdHJlZS1ub2RlLWhlaWdodDogNDhweCAhZGVmYXVsdDtcbi8vIE1pbmltdW0gaGVpZ2h0IGZvciB0cmVlIG5vZGVzIGluIGhpZ2hlc3QgZGVuc2l0eSBpcyBkaWZmaWN1bHQgdG8gZGV0ZXJtaW5lIGFzXG4vLyBkZXZlbG9wZXJzIGNhbiBkaXNwbGF5IGFyYml0cmFyeSBjb250ZW50LiBXZSB1c2UgYSBtaW5pbXVtIGhlaWdodCB3aGljaCBlbnN1cmVzXG4vLyB0aGF0IGNvbW1vbiBjb250ZW50IHBsYWNlZCBpbiB0cmVlIG5vZGVzIGRvZXMgbm90IGV4Y2VlZCAoZS5nLiBpY29ucywgY2hlY2tib3hlcykuXG4kbWF0LXRyZWUtbm9kZS1taW5pbXVtLWhlaWdodDogMjRweCAhZGVmYXVsdDtcbiRtYXQtdHJlZS1ub2RlLW1heGltdW0taGVpZ2h0OiAkbWF0LXRyZWUtbm9kZS1oZWlnaHQgIWRlZmF1bHQ7XG5cbiRtYXQtdHJlZS1kZW5zaXR5LWNvbmZpZzogKFxuICBoZWlnaHQ6IChcbiAgICBkZWZhdWx0OiAkbWF0LXRyZWUtbm9kZS1oZWlnaHQsXG4gICAgbWF4aW11bTogJG1hdC10cmVlLW5vZGUtbWF4aW11bS1oZWlnaHQsXG4gICAgbWluaW11bTogJG1hdC10cmVlLW5vZGUtbWluaW11bS1oZWlnaHQsXG4gIClcbikgIWRlZmF1bHQ7XG5cblxuQG1peGluIG1hdC10cmVlLWNvbG9yKCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC1jb2xvci1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gICRiYWNrZ3JvdW5kOiBtYXAtZ2V0KCRjb25maWcsIGJhY2tncm91bmQpO1xuICAkZm9yZWdyb3VuZDogbWFwLWdldCgkY29uZmlnLCBmb3JlZ3JvdW5kKTtcblxuICAubWF0LXRyZWUge1xuICAgIGJhY2tncm91bmQ6IG1hdC1jb2xvcigkYmFja2dyb3VuZCwgJ2NhcmQnKTtcbiAgfVxuXG4gIC5tYXQtdHJlZS1ub2RlLFxuICAubWF0LW5lc3RlZC10cmVlLW5vZGUge1xuICAgIGNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIHRleHQpO1xuICB9XG59XG5cbkBtaXhpbiBtYXQtdHJlZS10eXBvZ3JhcGh5KCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogbWF0LWdldC10eXBvZ3JhcGh5LWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgLm1hdC10cmVlIHtcbiAgICBmb250LWZhbWlseTogbWF0LWZvbnQtZmFtaWx5KCRjb25maWcpO1xuICB9XG5cbiAgLm1hdC10cmVlLW5vZGUsXG4gIC5tYXQtbmVzdGVkLXRyZWUtbm9kZSB7XG4gICAgZm9udC13ZWlnaHQ6IG1hdC1mb250LXdlaWdodCgkY29uZmlnLCBib2R5LTEpO1xuICAgIGZvbnQtc2l6ZTogbWF0LWZvbnQtc2l6ZSgkY29uZmlnLCBib2R5LTEpO1xuICB9XG59XG5cbkBtaXhpbiBfbWF0LXRyZWUtZGVuc2l0eSgkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRkZW5zaXR5LXNjYWxlOiBtYXQtZ2V0LWRlbnNpdHktY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAkaGVpZ2h0OiBfbWF0LWRlbnNpdHktcHJvcC12YWx1ZSgkbWF0LXRyZWUtZGVuc2l0eS1jb25maWcsICRkZW5zaXR5LXNjYWxlLCBoZWlnaHQpO1xuXG4gIEBpbmNsdWRlIF9tYXQtZGVuc2l0eS1sZWdhY3ktY29tcGF0aWJpbGl0eSgpIHtcbiAgICAubWF0LXRyZWUtbm9kZSB7XG4gICAgICBtaW4taGVpZ2h0OiAkaGVpZ2h0O1xuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gbWF0LXRyZWUtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZykge1xuICAkdGhlbWU6IF9tYXQtbGVnYWN5LWdldC10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKTtcbiAgQGluY2x1ZGUgX21hdC1jaGVjay1kdXBsaWNhdGUtdGhlbWUtc3R5bGVzKCR0aGVtZSwgJ21hdC10cmVlJykge1xuICAgICRjb2xvcjogbWF0LWdldC1jb2xvci1jb25maWcoJHRoZW1lKTtcbiAgICAkZGVuc2l0eTogbWF0LWdldC1kZW5zaXR5LWNvbmZpZygkdGhlbWUpO1xuICAgICR0eXBvZ3JhcGh5OiBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCR0aGVtZSk7XG5cbiAgICBAaWYgJGNvbG9yICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgbWF0LXRyZWUtY29sb3IoJGNvbG9yKTtcbiAgICB9XG4gICAgQGlmICRkZW5zaXR5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgX21hdC10cmVlLWRlbnNpdHkoJGRlbnNpdHkpO1xuICAgIH1cbiAgICBAaWYgJHR5cG9ncmFwaHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBtYXQtdHJlZS10eXBvZ3JhcGh5KCR0eXBvZ3JhcGh5KTtcbiAgICB9XG4gIH1cbn1cblxuXG5cblxuLy8gSW5jbHVkZXMgYWxsIG9mIHRoZSB0eXBvZ3JhcGhpYyBzdHlsZXMuXG5AbWl4aW4gYW5ndWxhci1tYXRlcmlhbC10eXBvZ3JhcGh5KCRjb25maWctb3ItdGhlbWU6IG51bGwpIHtcbiAgJGNvbmZpZzogaWYoX21hdC1pcy10aGVtZS1vYmplY3QoJGNvbmZpZy1vci10aGVtZSksXG4gICAgICBtYXQtZ2V0LXR5cG9ncmFwaHktY29uZmlnKCRjb25maWctb3ItdGhlbWUpLCAkY29uZmlnLW9yLXRoZW1lKTtcblxuICAvLyBJZiBubyBhY3R1YWwgY29sb3IgY29uZmlndXJhdGlvbiBoYXMgYmVlbiBzcGVjaWZpZWQsIGNyZWF0ZSBhIGRlZmF1bHQgb25lLlxuICBAaWYgbm90ICRjb25maWcge1xuICAgICRjb25maWc6IG1hdC10eXBvZ3JhcGh5LWNvbmZpZygpO1xuICB9XG5cbiAgLy8gVE9ETzogQ09NUC0zMDk6IERvIG5vdCB1c2UgaW5kaXZpZHVhbCBtaXhpbnMuIEluc3RlYWQsIHVzZSB0aGUgYWxsLXRoZW1lIG1peGluIGFuZCBvbmx5XG4gIC8vIHNwZWNpZnkgYSBgdHlwb2dyYXBoeWAgY29uZmlnIHdoaWxlIHNldHRpbmcgYGNvbG9yYCBhbmQgYGRlbnNpdHlgIHRvIGBudWxsYC4gVGhpcyBpcyBjdXJyZW50bHlcbiAgLy8gbm90IHBvc3NpYmxlIGFzIGl0IHdvdWxkIGludHJvZHVjZSBhIGNpcmN1bGFyIGRlcGVuZGVuY3kgZm9yIHR5cG9ncmFwaHkgYmVjYXVzZSB0aGUgYG1hdC1jb3JlYFxuICAvLyBtaXhpbiB0aGF0IGlzIHRyYW5zaXRpdmVseSBsb2FkZWQgYnkgdGhlIGBhbGwtdGhlbWVgIGZpbGUsIGltcG9ydHMgYGFsbC10eXBvZ3JhcGh5YCB3aGljaFxuICAvLyB3b3VsZCB0aGVuIGxvYWQgYGFsbC10aGVtZWAgYWdhaW4uIFRoaXMgdWx0aW1hdGVseSByZXN1bHRzIGEgY2lyY3VsYXIgZGVwZW5kZW5jeS5cblxuICBAaW5jbHVkZSBtYXQtYmFkZ2UtdHlwb2dyYXBoeSgkY29uZmlnKTtcbiAgQGluY2x1ZGUgbWF0LWJhc2UtdHlwb2dyYXBoeSgkY29uZmlnKTtcbiAgQGluY2x1ZGUgbWF0LWF1dG9jb21wbGV0ZS10eXBvZ3JhcGh5KCRjb25maWcpO1xuICBAaW5jbHVkZSBtYXQtYm90dG9tLXNoZWV0LXR5cG9ncmFwaHkoJGNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC1idXR0b24tdHlwb2dyYXBoeSgkY29uZmlnKTtcbiAgQGluY2x1ZGUgbWF0LWJ1dHRvbi10b2dnbGUtdHlwb2dyYXBoeSgkY29uZmlnKTtcbiAgQGluY2x1ZGUgbWF0LWNhcmQtdHlwb2dyYXBoeSgkY29uZmlnKTtcbiAgQGluY2x1ZGUgbWF0LWNoZWNrYm94LXR5cG9ncmFwaHkoJGNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC1jaGlwcy10eXBvZ3JhcGh5KCRjb25maWcpO1xuICBAaW5jbHVkZSBtYXQtZGl2aWRlci10eXBvZ3JhcGh5KCRjb25maWcpO1xuICBAaW5jbHVkZSBtYXQtdGFibGUtdHlwb2dyYXBoeSgkY29uZmlnKTtcbiAgQGluY2x1ZGUgbWF0LWRhdGVwaWNrZXItdHlwb2dyYXBoeSgkY29uZmlnKTtcbiAgQGluY2x1ZGUgbWF0LWRpYWxvZy10eXBvZ3JhcGh5KCRjb25maWcpO1xuICBAaW5jbHVkZSBtYXQtZXhwYW5zaW9uLXBhbmVsLXR5cG9ncmFwaHkoJGNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC1mb3JtLWZpZWxkLXR5cG9ncmFwaHkoJGNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC1ncmlkLWxpc3QtdHlwb2dyYXBoeSgkY29uZmlnKTtcbiAgQGluY2x1ZGUgbWF0LWljb24tdHlwb2dyYXBoeSgkY29uZmlnKTtcbiAgQGluY2x1ZGUgbWF0LWlucHV0LXR5cG9ncmFwaHkoJGNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC1tZW51LXR5cG9ncmFwaHkoJGNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC1wYWdpbmF0b3ItdHlwb2dyYXBoeSgkY29uZmlnKTtcbiAgQGluY2x1ZGUgbWF0LXByb2dyZXNzLWJhci10eXBvZ3JhcGh5KCRjb25maWcpO1xuICBAaW5jbHVkZSBtYXQtcHJvZ3Jlc3Mtc3Bpbm5lci10eXBvZ3JhcGh5KCRjb25maWcpO1xuICBAaW5jbHVkZSBtYXQtcmFkaW8tdHlwb2dyYXBoeSgkY29uZmlnKTtcbiAgQGluY2x1ZGUgbWF0LXNlbGVjdC10eXBvZ3JhcGh5KCRjb25maWcpO1xuICBAaW5jbHVkZSBtYXQtc2lkZW5hdi10eXBvZ3JhcGh5KCRjb25maWcpO1xuICBAaW5jbHVkZSBtYXQtc2xpZGUtdG9nZ2xlLXR5cG9ncmFwaHkoJGNvbmZpZyk7XG4gIEBpbmNsdWRlIG1hdC1zbGlkZXItdHlwb2dyYXBoeSgkY29uZmlnKTtcbiAgQGluY2x1ZGUgbWF0LXN0ZXBwZXItdHlwb2dyYXBoeSgkY29uZmlnKTtcbiAgQGluY2x1ZGUgbWF0LXNvcnQtdHlwb2dyYXBoeSgkY29uZmlnKTtcbiAgQGluY2x1ZGUgbWF0LXRhYnMtdHlwb2dyYXBoeSgkY29uZmlnKTtcbiAgQGluY2x1ZGUgbWF0LXRvb2xiYXItdHlwb2dyYXBoeSgkY29uZmlnKTtcbiAgQGluY2x1ZGUgbWF0LXRvb2x0aXAtdHlwb2dyYXBoeSgkY29uZmlnKTtcbiAgQGluY2x1ZGUgbWF0LWxpc3QtdHlwb2dyYXBoeSgkY29uZmlnKTtcbiAgQGluY2x1ZGUgbWF0LW9wdGlvbi10eXBvZ3JhcGh5KCRjb25maWcpO1xuICBAaW5jbHVkZSBtYXQtb3B0Z3JvdXAtdHlwb2dyYXBoeSgkY29uZmlnKTtcbiAgQGluY2x1ZGUgbWF0LXNuYWNrLWJhci10eXBvZ3JhcGh5KCRjb25maWcpO1xuICBAaW5jbHVkZSBtYXQtdHJlZS10eXBvZ3JhcGh5KCRjb25maWcpO1xufVxuXG5cbi8vIE1peGluIHRoYXQgcmVuZGVycyBhbGwgb2YgdGhlIGNvcmUgc3R5bGVzIHRoYXQgYXJlIG5vdCB0aGVtZS1kZXBlbmRlbnQuXG5AbWl4aW4gbWF0LWNvcmUoJHR5cG9ncmFwaHktY29uZmlnOiBudWxsKSB7XG4gIEBpbmNsdWRlIGFuZ3VsYXItbWF0ZXJpYWwtdHlwb2dyYXBoeSgkdHlwb2dyYXBoeS1jb25maWcpO1xuICBAaW5jbHVkZSBtYXQtcmlwcGxlKCk7XG4gIEBpbmNsdWRlIGNkay1hMTF5KCk7XG4gIEBpbmNsdWRlIGNkay1vdmVybGF5KCk7XG4gIEBpbmNsdWRlIGNkay10ZXh0LWZpZWxkKCk7XG5cbiAgQGluY2x1ZGUgX21hdC1zdHJvbmctZm9jdXMtaW5kaWNhdG9ycy1wb3NpdGlvbmluZygpO1xuICBAaW5jbHVkZSBfbWF0LW1kYy1jb3JlKCk7XG59XG5cbkBtaXhpbiBtYXQtY29yZS1jb2xvcigkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IG1hdC1nZXQtY29sb3ItY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAvLyBXcmFwcGVyIGVsZW1lbnQgdGhhdCBwcm92aWRlcyB0aGUgdGhlbWUgYmFja2dyb3VuZCB3aGVuIHRoZSB1c2VyJ3MgY29udGVudCBpc24ndFxuICAvLyBpbnNpZGUgb2YgYSBgbWF0LXNpZGVuYXYtY29udGFpbmVyYC4gTm90ZSB0aGF0IHdlIG5lZWQgdG8gZXhjbHVkZSB0aGUgYW1wZXJzYW5kXG4gIC8vIHNlbGVjdG9yIGluIGNhc2UgdGhlIG1peGluIGlzIGluY2x1ZGVkIGF0IHRoZSB0b3AgbGV2ZWwuXG4gIC5tYXQtYXBwLWJhY2tncm91bmQje2lmKCYsICcsICYubWF0LWFwcC1iYWNrZ3JvdW5kJywgJycpfSB7XG4gICAgJGJhY2tncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgYmFja2dyb3VuZCk7XG4gICAgJGZvcmVncm91bmQ6IG1hcC1nZXQoJGNvbmZpZywgZm9yZWdyb3VuZCk7XG5cbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBtYXQtY29sb3IoJGJhY2tncm91bmQsIGJhY2tncm91bmQpO1xuICAgIGNvbG9yOiBtYXQtY29sb3IoJGZvcmVncm91bmQsIHRleHQpO1xuICB9XG5cbiAgLy8gUHJvdmlkZXMgZXh0ZXJuYWwgQ1NTIGNsYXNzZXMgZm9yIGVhY2ggZWxldmF0aW9uIHZhbHVlLiBFYWNoIENTUyBjbGFzcyBpcyBmb3JtYXR0ZWQgYXNcbiAgLy8gYG1hdC1lbGV2YXRpb24teiR6VmFsdWVgIHdoZXJlIGAkelZhbHVlYCBjb3JyZXNwb25kcyB0byB0aGUgei1zcGFjZSB0byB3aGljaCB0aGUgZWxlbWVudCBpc1xuICAvLyBlbGV2YXRlZC5cbiAgQGZvciAkelZhbHVlIGZyb20gMCB0aHJvdWdoIDI0IHtcbiAgICAuI3skX21hdC1lbGV2YXRpb24tcHJlZml4fSN7JHpWYWx1ZX0ge1xuICAgICAgQGluY2x1ZGUgX21hdC10aGVtZS1lbGV2YXRpb24oJHpWYWx1ZSwgJGNvbmZpZyk7XG4gICAgfVxuICB9XG5cbiAgLy8gTWFya2VyIHRoYXQgaXMgdXNlZCB0byBkZXRlcm1pbmUgd2hldGhlciB0aGUgdXNlciBoYXMgYWRkZWQgYSB0aGVtZSB0byB0aGVpciBwYWdlLlxuICBAYXQtcm9vdCB7XG4gICAgLm1hdC10aGVtZS1sb2FkZWQtbWFya2VyIHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuICB9XG59XG5cbi8vIE1peGluIHRoYXQgcmVuZGVycyBhbGwgb2YgdGhlIGNvcmUgc3R5bGVzIHRoYXQgZGVwZW5kIG9uIHRoZSB0aGVtZS5cbkBtaXhpbiBtYXQtY29yZS10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKSB7XG4gICR0aGVtZTogX21hdC1sZWdhY3ktZ2V0LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICAvLyBXcmFwIHRoZSBzdWItdGhlbWUgaW5jbHVkZXMgaW4gdGhlIGR1cGxpY2F0ZSB0aGVtZSBzdHlsZXMgbWl4aW4uIFRoaXMgZW5zdXJlcyB0aGF0XG4gIC8vIHRoZXJlIHdvbid0IGJlIG11bHRpcGxlIHdhcm5pbmdzLiBlLmcuIGlmIGBtYXQtY29yZS10aGVtZWAgcmVwb3J0cyBhIHdhcm5pbmcsIHRoZW5cbiAgLy8gdGhlIGltcG9ydGVkIHRoZW1lcyAoc3VjaCBhcyBgbWF0LXJpcHBsZS10aGVtZWApIHNob3VsZCBub3QgcmVwb3J0IGFnYWluLlxuICBAaW5jbHVkZSBfbWF0LWNoZWNrLWR1cGxpY2F0ZS10aGVtZS1zdHlsZXMoJHRoZW1lLCAnbWF0LWNvcmUnKSB7XG4gICAgQGluY2x1ZGUgbWF0LXJpcHBsZS10aGVtZSgkdGhlbWUpO1xuICAgIEBpbmNsdWRlIG1hdC1vcHRpb24tdGhlbWUoJHRoZW1lKTtcbiAgICBAaW5jbHVkZSBtYXQtb3B0Z3JvdXAtdGhlbWUoJHRoZW1lKTtcbiAgICBAaW5jbHVkZSBtYXQtcHNldWRvLWNoZWNrYm94LXRoZW1lKCR0aGVtZSk7XG5cbiAgICAkY29sb3I6IG1hdC1nZXQtY29sb3ItY29uZmlnKCR0aGVtZSk7XG4gICAgQGlmICRjb2xvciAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIG1hdC1jb3JlLWNvbG9yKCRjb2xvcik7XG4gICAgfVxuICB9XG59XG5cbi8vIE1peGluIHRoYXQgcmVuZGVycyBhbGwgb2YgdGhlIGNvcmUgTURDIHN0eWxlcy4gUHJpdmF0ZSBtaXhpbiBpbmNsdWRlZCB3aXRoIGBtYXQtY29yZWAuXG5AbWl4aW4gX21hdC1tZGMtY29yZSgpIHtcbiAgQGluY2x1ZGUgX21hdC1tZGMtc3Ryb25nLWZvY3VzLWluZGljYXRvcnMtcG9zaXRpb25pbmcoKTtcbn1cblxuLy8gTWl4aW4gdGhhdCBlbnN1cmVzIGZvY3VzIGluZGljYXRvciBob3N0IGVsZW1lbnRzIGFyZSBwb3NpdGlvbmVkIHNvIHRoYXQgdGhlIGZvY3VzIGluZGljYXRvclxuLy8gcHNldWRvIGVsZW1lbnQgd2l0aGluIGlzIHBvc2l0aW9uZWQgcmVsYXRpdmUgdG8gdGhlIGhvc3QuIFByaXZhdGUgbWl4aW4gaW5jbHVkZWQgd2l0aGluXG4vLyBgX21hdC1tZGMtY29yZWAuXG5AbWl4aW4gX21hdC1tZGMtc3Ryb25nLWZvY3VzLWluZGljYXRvcnMtcG9zaXRpb25pbmcoKSB7XG4gIC5tYXQtbWRjLWZvY3VzLWluZGljYXRvciB7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB9XG59XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbi8vIENyZWF0ZSBhIHRoZW1lLlxuQG1peGluIGFuZ3VsYXItbWF0ZXJpYWwtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZykge1xuICBAaW5jbHVkZSBfbWF0LWNoZWNrLWR1cGxpY2F0ZS10aGVtZS1zdHlsZXMoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZywgJ2FuZ3VsYXItbWF0ZXJpYWwtdGhlbWUnKSB7XG4gICAgQGluY2x1ZGUgbWF0LWNvcmUtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gICAgQGluY2x1ZGUgbWF0LWF1dG9jb21wbGV0ZS10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKTtcbiAgICBAaW5jbHVkZSBtYXQtYmFkZ2UtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gICAgQGluY2x1ZGUgbWF0LWJvdHRvbS1zaGVldC10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKTtcbiAgICBAaW5jbHVkZSBtYXQtYnV0dG9uLXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICAgIEBpbmNsdWRlIG1hdC1idXR0b24tdG9nZ2xlLXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICAgIEBpbmNsdWRlIG1hdC1jYXJkLXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICAgIEBpbmNsdWRlIG1hdC1jaGVja2JveC10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKTtcbiAgICBAaW5jbHVkZSBtYXQtY2hpcHMtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gICAgQGluY2x1ZGUgbWF0LXRhYmxlLXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICAgIEBpbmNsdWRlIG1hdC1kYXRlcGlja2VyLXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICAgIEBpbmNsdWRlIG1hdC1kaWFsb2ctdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gICAgQGluY2x1ZGUgbWF0LWRpdmlkZXItdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gICAgQGluY2x1ZGUgbWF0LWV4cGFuc2lvbi1wYW5lbC10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKTtcbiAgICBAaW5jbHVkZSBtYXQtZm9ybS1maWVsZC10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKTtcbiAgICBAaW5jbHVkZSBtYXQtZ3JpZC1saXN0LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICAgIEBpbmNsdWRlIG1hdC1pY29uLXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICAgIEBpbmNsdWRlIG1hdC1pbnB1dC10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKTtcbiAgICBAaW5jbHVkZSBtYXQtbGlzdC10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKTtcbiAgICBAaW5jbHVkZSBtYXQtbWVudS10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKTtcbiAgICBAaW5jbHVkZSBtYXQtcGFnaW5hdG9yLXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICAgIEBpbmNsdWRlIG1hdC1wcm9ncmVzcy1iYXItdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gICAgQGluY2x1ZGUgbWF0LXByb2dyZXNzLXNwaW5uZXItdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gICAgQGluY2x1ZGUgbWF0LXJhZGlvLXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICAgIEBpbmNsdWRlIG1hdC1zZWxlY3QtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gICAgQGluY2x1ZGUgbWF0LXNpZGVuYXYtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gICAgQGluY2x1ZGUgbWF0LXNsaWRlLXRvZ2dsZS10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKTtcbiAgICBAaW5jbHVkZSBtYXQtc2xpZGVyLXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICAgIEBpbmNsdWRlIG1hdC1zdGVwcGVyLXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICAgIEBpbmNsdWRlIG1hdC1zb3J0LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICAgIEBpbmNsdWRlIG1hdC10YWJzLXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICAgIEBpbmNsdWRlIG1hdC10b29sYmFyLXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICAgIEBpbmNsdWRlIG1hdC10b29sdGlwLXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICAgIEBpbmNsdWRlIG1hdC10cmVlLXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICAgIEBpbmNsdWRlIG1hdC1zbmFjay1iYXItdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gIH1cbn1cblxuXG4vLyBJbmNsdWRlcyBhbGwgb2YgdGhlIGNvbG9yIHN0eWxlcy5cbkBtaXhpbiBhbmd1bGFyLW1hdGVyaWFsLWNvbG9yKCRjb25maWctb3ItdGhlbWUpIHtcbiAgLy8gSW4gY2FzZSBhIHRoZW1lIG9iamVjdCBoYXMgYmVlbiBwYXNzZWQgaW5zdGVhZCBvZiBhIGNvbmZpZ3VyYXRpb24gZm9yXG4gIC8vIHRoZSBjb2xvciBzeXN0ZW0sIGV4dHJhY3QgdGhlIGNvbG9yIGNvbmZpZyBmcm9tIHRoZSB0aGVtZSBvYmplY3QuXG4gICRjb25maWc6IGlmKF9tYXQtaXMtdGhlbWUtb2JqZWN0KCRjb25maWctb3ItdGhlbWUpLFxuICAgICAgbWF0LWdldC1jb2xvci1jb25maWcoJGNvbmZpZy1vci10aGVtZSksICRjb25maWctb3ItdGhlbWUpO1xuXG4gIEBpZiAkY29uZmlnID09IG51bGwge1xuICAgIEBlcnJvciAnTm8gY29sb3IgY29uZmlndXJhdGlvbiBzcGVjaWZpZWQuJztcbiAgfVxuXG4gIEBpbmNsdWRlIGFuZ3VsYXItbWF0ZXJpYWwtdGhlbWUoKFxuICAgIGNvbG9yOiAkY29uZmlnLFxuICAgIHR5cG9ncmFwaHk6IG51bGwsXG4gICAgZGVuc2l0eTogbnVsbCxcbiAgKSk7XG59XG5cblxuXG4vLyBJbmNsdWRlcyBhbGwgb2YgdGhlIGRlbnNpdHkgc3R5bGVzLlxuQG1peGluIF9hbmd1bGFyLW1hdGVyaWFsLWRlbnNpdHkoJGNvbmZpZy1vci10aGVtZSkge1xuICAvLyBJbiBjYXNlIGEgdGhlbWUgb2JqZWN0IGhhcyBiZWVuIHBhc3NlZCBpbnN0ZWFkIG9mIGEgY29uZmlndXJhdGlvbiBmb3JcbiAgLy8gdGhlIGRlbnNpdHkgc3lzdGVtLCBleHRyYWN0IHRoZSBkZW5zaXR5IGNvbmZpZyBmcm9tIHRoZSB0aGVtZSBvYmplY3QuXG4gICRjb25maWc6IGlmKF9tYXQtaXMtdGhlbWUtb2JqZWN0KCRjb25maWctb3ItdGhlbWUpLFxuICAgICAgbWF0LWdldC1kZW5zaXR5LWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKSwgJGNvbmZpZy1vci10aGVtZSk7XG5cbiAgQGlmICRjb25maWcgPT0gbnVsbCB7XG4gICAgQGVycm9yICdObyBkZW5zaXR5IGNvbmZpZ3VyYXRpb24gc3BlY2lmaWVkLic7XG4gIH1cblxuICBAaW5jbHVkZSBhbmd1bGFyLW1hdGVyaWFsLXRoZW1lKChcbiAgICBjb2xvcjogbnVsbCxcbiAgICB0eXBvZ3JhcGh5OiBudWxsLFxuICAgIGRlbnNpdHk6ICRjb25maWcsXG4gICkpO1xufVxuXG5cblxuIiwiQGltcG9ydCBcIn5zcmMvQGNvbmRvL3N0eWxlcy9jb25kb1wiO1xuXG4uZmFjaWxpdHktdmlldy1jYWxlbmRhci13cmFwcGVyIHtcbiAgICBAaW5jbHVkZSBmdC1jYWxjKCRmb250LXNtYWxsKTtcbn0iLCJcbi8vIERPTlQgTU9ESUZZXG4gIEBtaXhpbiBwdWJsaWMtcmVndWxhciB7XG4gICAgZm9udC1mYW1pbHk6ICdSYWxld2F5Jywgc2Fucy1zZXJpZjtcbiAgICBmb250LXdlaWdodDogNDAwO1xuICAgIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkO1xuICAgIC1tb3otb3N4LWZvbnQtc21vb3RoaW5nOiBhbnRpYWxpYXNlZDtcbiAgfVxuICBcbiAgQG1peGluIHB1YmxpYy1tZWRpdW0ge1xuICAgIGZvbnQtZmFtaWx5OiAnUmFsZXdheScsIHNhbnMtc2VyaWY7XG4gICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBhbnRpYWxpYXNlZDtcbiAgICAtbW96LW9zeC1mb250LXNtb290aGluZzogYW50aWFsaWFzZWQ7XG4gIH1cblxuICBAbWl4aW4gcHVibGljLWJvbGQge1xuICAgIGZvbnQtZmFtaWx5OiAnUmFsZXdheScsIHNhbnMtc2VyaWY7XG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBhbnRpYWxpYXNlZDtcbiAgICAtbW96LW9zeC1mb250LXNtb290aGluZzogYW50aWFsaWFzZWQ7XG4gIH1cblxuICBAbWl4aW4gZGVzcC1yZWd1bGFyIHtcbiAgICBmb250LWZhbWlseTogJ0ludGVyJywgc2Fucy1zZXJpZjtcbiAgICBmb250LXdlaWdodDogNDAwO1xuICAgIGxldHRlci1zcGFjaW5nOiAwLjNweDsgICBcbiAgICAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBpbmhlcml0O1xuICAgIC1tb3otb3N4LWZvbnQtc21vb3RoaW5nOiBpbmhlcml0O1xuICB9XG4gIFxuICBAbWl4aW4gZGVzcC1tZWRpdW0ge1xuICAgIGZvbnQtZmFtaWx5OiAnSW50ZXInLCBzYW5zLXNlcmlmO1xuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgbGV0dGVyLXNwYWNpbmc6IDAuM3B4O1xuICAgIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkO1xuICAgIC1tb3otb3N4LWZvbnQtc21vb3RoaW5nOiBncmF5c2NhbGU7XG4gICAgdGV4dC1yZW5kZXJpbmc6IG9wdGltaXplTGVnaWJpbGl0eTtcbiAgfVxuICBcbiAgQG1peGluIGRlc3AtYm9sZCB7XG4gICAgZm9udC1mYW1pbHk6ICdJbnRlcicsIHNhbnMtc2VyaWY7XG4gICAgZm9udC13ZWlnaHQ6IDcwMDtcbiAgICBsZXR0ZXItc3BhY2luZzogMC4zcHg7XG4gICAgLXdlYmtpdC1mb250LXNtb290aGluZzogYW50aWFsaWFzZWQ7XG4gICAgLW1vei1vc3gtZm9udC1zbW9vdGhpbmc6IGdyYXlzY2FsZTtcbiAgICB0ZXh0LXJlbmRlcmluZzogb3B0aW1pemVMZWdpYmlsaXR5O1xuICB9XG5cbiAgQG1peGluIGZ0LWNhbGMoJHBpeGVscykge1xuICAgIGZvbnQtc2l6ZTogKCAkcGl4ZWxzIC8gJHJlbS1iYXNlICkgKyByZW07XG4gIH1cbiAgIl19 */\";","import { Component, OnInit, ViewChild, Input } from '@angular/core';\nimport { FacilityService } from 'src/app/api/controllers/Facility';\nimport { SharedService } from 'src/app/shared/services/shared.service';\nimport { SessionService } from 'src/app/core/session/session.service';\nimport { MatDialog } from '@angular/material/dialog';\nimport { FacilityModalComponent } from '../facility-modal/facility-modal.component';\n\nimport interactionPlugin from \"@fullcalendar/interaction\";\nimport resourceTimelinePlugin from \"@fullcalendar/resource-timeline\";\n\nimport * as moment from 'moment';\nimport _moment from \"moment-timezone\";\n\nimport resourceTimeline from \"@fullcalendar/resource-timeline\";\n\n@Component({\n  selector: 'app-facility-calender',\n  templateUrl: './facility-calender.component.html',\n  styleUrls: ['./facility-calender.component.scss']\n})\nexport class FacilityCalenderComponent implements OnInit {\n  plugins:any = [ interactionPlugin, resourceTimelinePlugin ];\n  header:any = {\n    left: 'prev,next',\n    center: 'title',\n    right: 'resourceTimelineDay,resourceTimelineWeek,resourceTimelineMonth'\n  };\n  initialView:string = 'resourceTimelineDay';\n  calendarResult:any = [];\n  rooms:any = [];\n  schedulerLicenseKey:string = \"CC-Attribution-NonCommercial-NoDerivatives\";\n\n  @Input('popUpInfo') info:any = {};\n  loadingData = false;\n\n  timeZone:any;\n\n  constructor(private facilityService:FacilityService,private sessionService:SessionService,\n    private sharedService:SharedService,\n    public dialog: MatDialog,) {}\n  \n  addEvent(calendarInfo) {\n    if(!this.info.facilityId) {\n      const dialogRef = this.dialog.open(FacilityModalComponent, {\n        panelClass: 'material-dialog-big',\n        height:'inherit',\n        width:'auto',\n        data: {\n          type:'facility-booking',\n          info: {\n            type : 'create',\n            dataFrom:'calendar',\n            calendarData: calendarInfo\n          }\n        }\n      });\n      dialogRef.afterClosed().subscribe(result => {\n        if(result) {\n          this.facilityBookingList()\n        }\n      });\n    }\n  }\n\n  dateEventClick(info) {\n    if(!this.info.facilityId) {\n      let id = info.event.extendedProps.apartmentFacilityBookingId\n      const dialogRef = this.dialog.open(FacilityModalComponent, {\n        panelClass: 'material-dialog-big',\n        height:'inherit',\n        width:'auto',\n        data: {\n          type:'facility-booking',\n          info: {\n            type : 'view',\n            dataFrom:'calendar',\n            bookingId:id\n          }\n        }\n      });\n      dialogRef.afterClosed().subscribe(result => {\n        if(result) {\n          this.facilityBookingList()\n        }\n      });\n    }\n  }\n\n  facilityBookingList() {\n    let bookingParams = {\n      apartmentId: this.sessionService.apartmentId,\n      facilityBookingStatusID: 188, //ApprovedId\n    }\n    this.facilityService.getApartmentFacilityBookingsByApartmentId(bookingParams).subscribe((res:any) => {\n      if(res.length > 0) {\n        if(this.info.facilityId) {  //popup\n          for(let data of res) {\n            if(this.info.facilityId == data.apartmentFacilityId) {\n              data.resourceId = data.apartmentFacilityId;\n              data.title = data.eventName;\n              data.start =  `${moment(data.bookedForDate).format('YYYY-MM-DD')} ${data.bookedFromTime}`;\n              data.end =  `${moment(data.bookedForDate).format('YYYY-MM-DD')} ${data.bookedToTime}`;\n              data.color = 'red';\n              break;\n            } \n          }\n        } else {                       //router\n          res.forEach((data)=>{\n            data.resourceId = data.apartmentFacilityId;\n            data.title = data.eventName;\n            data.start =  `${moment(data.bookedForDate).format('YYYY-MM-DD')} ${data.bookedFromTime}`;\n            data.end =  `${moment(data.bookedForDate).format('YYYY-MM-DD')} ${data.bookedToTime}`;\n            data.color = 'red';\n          })\n        }\n        this.calendarResult = res;\n      }\n      this.loadingData = true;\n    })\n  }\n\n  ngOnInit(){\n\n    this.sharedService.timezonecast.subscribe( timeZone => this.timeZone = timeZone )\n\n    //Facility List\n    let categoryParams = {\n      apartmentId: this.sessionService.apartmentId\n    }\n    this.facilityService.getApartmentFacilitiesByApartmentId(categoryParams).subscribe((res:any) => {\n      if(res.length > 0) {\n        let rooms = [];\n        if(this.info.facilityId) {  //popup\n          for(let facility of res) {\n            if(this.info.facilityId == facility.apartmentFacilityId) {\n              rooms.push({id:facility.apartmentFacilityId,title:facility.facilityName});\n              break;\n            }\n          }\n        } else {                        //router\n          res.forEach((data)=>{\n            rooms.push({id:data.apartmentFacilityId,title:data.facilityName});\n          })\n        }\n        this.rooms = rooms;\n      }\n    })\n    this.facilityBookingList();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { FacilityCreateBookingComponent } from './facility-create-booking/facility-create-booking.component';\nimport { FacilityCalenderComponent } from './facility-calender/facility-calender.component';\nimport { UserFacilityBookingListComponent } from './user-facility-booking-list/user-facility-booking-list.component';\nimport { AuthGuard } from 'src/app/core/auth/guards/auth.guard';\n\nconst routes: Routes = [\n\t{ path: '', redirectTo: 'create-booking', pathMatch: 'full'},\n  \t{ path: 'create-booking', component: FacilityCreateBookingComponent, canActivate: [AuthGuard]},\n\t{ path: 'edit-booking/:id', component: FacilityCreateBookingComponent, canActivate: [AuthGuard]},\n\t{ path: 'view-booking/:id', component: FacilityCreateBookingComponent, canActivate: [AuthGuard]},\n\t{ path: 'view-facility-calendar', component: FacilityCalenderComponent, canActivate: [AuthGuard]},\n\t{ path: 'all-bookings', component: UserFacilityBookingListComponent, canActivate: [AuthGuard]},\n\t{ path: '**', redirectTo: 'create-booking', pathMatch: 'full'}\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class FacilityCreateBookingRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { FacilityCreateBookingRoutingModule } from './facility-create-booking-routing.module';\nimport { FacilityCalenderComponent } from './facility-calender/facility-calender.component';\nimport { FacilityCreateBookingComponent } from './facility-create-booking/facility-create-booking.component';\nimport { FacilityModalComponent } from './facility-modal/facility-modal.component';\nimport { FacilityExpectedVisitorComponent } from './facility-expected-visitor/facility-expected-visitor.component';\nimport { UserFacilityBookingListComponent } from './user-facility-booking-list/user-facility-booking-list.component';\nimport { NgxIntlTelInputModule } from 'ngx-intl-tel-input';\nimport { SelectModule } from 'src/app/modules/ui/select/select.module';\nimport { CondoMessageModule } from 'src/app/modules/ui/message/message.module';\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport { CondoCardModule } from 'src/app/modules/ui/card/card.module';\nimport { HelpTooltipModule } from 'src/app/modules/ui/help-tooltip/help-tooltip.module';\n\nimport { DatepickerModule } from 'src/app/modules/ui/datepicker/datepicker.module';\nimport { TranslateModule } from '@ngx-translate/core';\n\n\n@NgModule({\n  declarations: [\n    FacilityCalenderComponent,\n    FacilityCreateBookingComponent,\n    FacilityModalComponent,\n    FacilityExpectedVisitorComponent,\n    UserFacilityBookingListComponent,\n  ],\n  imports: [\n    CommonModule,\n    NgxIntlTelInputModule,\n    SelectModule,\n    CondoMessageModule,\n    CondoCardModule,\n    SharedModule,\n    DatepickerModule.forRoot(),\n    FacilityCreateBookingRoutingModule,\n    HelpTooltipModule,\n    TranslateModule\n  ]\n})\nexport class FacilityCreateBookingModule { }\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvYW1zL2ZhY2lsaXR5L2ZhY2lsaXR5LWNyZWF0ZS1ib29raW5nL2ZhY2lsaXR5LWNyZWF0ZS1ib29raW5nL2ZhY2lsaXR5LWNyZWF0ZS1ib29raW5nLmNvbXBvbmVudC5zY3NzIn0= */\";","import { Component, OnInit, ChangeDetectorRef, ViewChild, Input, Output, EventEmitter, ViewEncapsulation } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { ApartmentService } from 'src/app/api/controllers/Apartment';\nimport { UserService } from 'src/app/api/controllers/User';\nimport { FacilityService } from 'src/app/api/controllers/Facility';\nimport { LookupService } from 'src/app/api/controllers/Lookup';\nimport { SharedService } from 'src/app/shared/services/shared.service';\nimport { SessionService } from 'src/app/core/session/session.service';\nimport { MatDialog } from '@angular/material/dialog';\nimport * as moment from 'moment';\nimport _moment from \"moment-timezone\";\nimport { VisitorService } from 'src/app/api/controllers/Visitor';\nimport { CondoAnimations } from 'src/@condo/animations';\nimport { FacilityModalComponent } from '../facility-modal/facility-modal.component';\nimport { ConfirmDialogModel, CommonConfirmModalComponent } from 'src/app/shared/components/common-confirm-modal/common-confirm-modal.component';\n\n@Component({\n  selector: 'app-facility-create-booking',\n  templateUrl: './facility-create-booking.component.html',\n  styleUrls: ['./facility-create-booking.component.scss'],\n  encapsulation  : ViewEncapsulation.None,\n  animations   : CondoAnimations\n})\n\nexport class FacilityCreateBookingComponent implements OnInit {\n  @Input('popUpInfo') info:any = {};  //value got from pop-up (edit mode,view mode and Calendar create Mode)\n  @Output() modalResult = new EventEmitter()\n  @ViewChild('facilityBookingForm') facilityBookingForm:any;\n  isBookingSubmitted:boolean;\n  pesoValue:string;\n  facilityBookingDetail:any;\n  facilitySlotData:any = [];\n  towerList:any = [];\n  unitList:any = [];\n  facilityStatus:any = [];\n  facilityCatList:any = [];\n  taxPecentage:number = 0;\n  visitorsList = [];\n  urlType:string;\n  booking:any = {\n    apartmentFacilityId : null,\n    slotId : null,\n    apartmentBlockId : null,\n    apartmentBlockUnitId : null,\n    facilityBookingStatusId : null,\n    tax : null\n  };\n  primaryName:string = '';\n  termsCondion:string;\n  message:any;\n  advanceBookingDate:any = moment();\n\n  timeZone:any;\n  selectedCountryISO:any;\n\n  constructor(\n    private router: Router,\n    private route: ActivatedRoute,\n    private userService:UserService,\n    private changeDetect:ChangeDetectorRef,\n    private facilityService:FacilityService,\n    private lookupService: LookupService,\n    private sharedService:SharedService,\n    private apartmentService:ApartmentService,\n    private sessionService:SessionService,\n    public dialog: MatDialog,\n    private visitorService:VisitorService,\n  ) { \n    this.route.url.subscribe((data)=>{\n      let path = data[0].path;\n      if(path == 'create-booking') \n        this.urlType = 'create';\n      else if(path == 'edit-booking')\n        this.urlType = 'edit';\n      else if(path == 'view-booking')\n        this.urlType = 'view';\n    })\n  }\n\n  resetField() {\n    let radio = this.booking.isBookingforGuest;\n    this.booking = {};\n    this.facilityBookingForm.reset();\n    this.booking.isBookingforGuest = radio;\n    this.booking.bookedForDate = moment();\n  }\n\n  setBookedForDate(event) {\n    this.booking.bookedForDate = event;\n  }\n\n  isAdmin(){\n    return this.sessionService.isAdmin()\n  }\n\n  bookedForChange(){\n    if(this.urlType != 'view' && !this.booking.isBookingforGuest) {\n      this.booking.guestName = null;\n      this.booking.guestPhone = null;\n      this.booking.guestRelation = null;\n      this.booking.totalofguestsforevent = null;\n    }\n  }\n\n  isDisable() {\n    return this.urlType == 'view'? true : false;\n  }\n\n  getFacilityCategoryList() {\n    let categoryParams = {\n      apartmentId: this.sessionService.apartmentId\n    }\n    return this.facilityService.getApartmentFacilitiesByApartmentId(categoryParams);\n  }\n\n  getTower() {\n    let tower = {\n      apartmentId: this.sessionService.apartmentId\n    }\n    return this.apartmentService.getApartmentBlockAndBlockUnitByApartmentId(tower);\n  }\n\n  setFacility(event) {\n    this.booking.apartmentFacilityId = event[0].apartmentFacilityId;\n    if(event.length > 0)\n    this.selectFacility('change');\n    else {\n      this.booking.slotId = '';\n      this.booking.bookedFromTime = null;\n      this.booking.bookedToTime = null;\n      this.facilityBookingDetail = null;\n      this.booking.securityDepositAmount = null;\n      this.booking.rateBaseId = null;\n      this.facilitySlotData = [];\n      this.booking.totalBillAmount = null;\n      this.booking.amount = null;\n      this.booking.tax = null;\n      this.termsCondion = '';\n      this.booking.bookedForDate = null;\n    }\n  }\n\n  selectFacility(event) {\n    if(event) {\n      this.booking.slotId = '';\n      this.booking.bookedFromTime = null;\n      this.booking.bookedToTime = null;\n      this.booking.bookedForDate = null;\n    }\n    let selectedFacility = this.facilityCatList.filter(item => {\n      if(item.apartmentFacilityId === parseInt(this.booking.apartmentFacilityId))\n      return item;\n    });\n    if(selectedFacility.length > 0) {\n      this.facilityBookingDetail = selectedFacility[0];\n      let advanceBookingDays = selectedFacility[0].advanceBookingindays;\n      if(advanceBookingDays) {\n        this.advanceBookingDate =  moment().add(advanceBookingDays, 'days')\n        this.booking.bookedForDate =this.advanceBookingDate; \n      }\n      this.booking.securityDepositAmount = this.facilityBookingDetail.cautionDeposit; \n      this.booking.rateBaseId =  this.facilityBookingDetail.rateBaseId;\n      if(this.facilityBookingDetail.apartmentFacilitySlot.length > 0)\n        this.facilitySlotData = selectedFacility[0].apartmentFacilitySlot;\n      else {\n        this.facilitySlotData = [];\n        if(event) {\n          this.booking.totalBillAmount = parseInt(this.facilityBookingDetail.amount);\n        }\n        this.booking.amount = parseInt(this.facilityBookingDetail.amount);\n        this.booking.tax = parseInt((this.booking.amount *  (this.taxPecentage/100)).toFixed(2));\n      }\n      if(this.facilityBookingDetail.description) {\n        this.termsCondion = this.facilityBookingDetail.description.replace(/<[^>]*>/g, '');\n      }\n    }\n  }\n\n  viewBookingDetails() {\n    this.dialog.open(FacilityModalComponent, {\n      panelClass: 'material-dialog-big',\n      data: {\n        type:'view-calendar-booking',\n        info: {\n          facilityId:this.booking.apartmentFacilityId\n        }\n      }\n    });\n  }\n\n  showBookingDetail() {\n    if(this.booking.apartmentFacilityId) \n      return this.booking.apartmentFacilityId && this.booking.bookedForDate && ((this.facilityBookingDetail && this.facilityBookingDetail.facilityTypeId == 184 && this.booking.slotId) || (this.booking.bookedFromTime && this.booking.bookedToTime && this.booking.amount))\n    else \n      return false;\n  }\n \n  getSlotTime(time) {\n    let date = moment(time, 'HH:mm:ss').toDate();\n    return moment(date).format('hh:mm A');\n  }\n\n  selectSlot() {\n    this.facilitySlotData.forEach((data)=>{\n      if(this.booking.slotId == data.apartmentFacilitySlotId) {\n        this.booking.amount = parseInt(data.cost);\n        this.booking.tax = parseInt((this.booking.amount *  (this.taxPecentage/100)).toFixed(2));\n        this.booking.totalBillAmount = parseInt((this.booking.amount + this.booking.tax).toFixed(2));\n        this.booking.discount = 0;\n        this.booking.membershipDiscountAmount = 0;\n      }\n    })\n  }\n\n  setMinTime() {\n    let fromTime = this.booking.bookedFromTime;\n    let toTime =   this.booking.bookedToTime;\n    let difference;\n    if(fromTime && toTime) {\n      difference = moment.duration(moment(toTime).diff(moment(fromTime)));\n      let diffHours = difference.hours();\n      let diffMinutes = difference.minutes();\n      let totalDiffHrs = diffHours + (diffMinutes/60);\n      if(totalDiffHrs >= this.facilityBookingDetail.minHoursBooking) {\n        let cost = ((this.facilityBookingDetail.amount/(this.facilityBookingDetail.minHoursBooking*60))*((diffHours*60)+(diffMinutes)));\n        this.booking.amount = parseInt(cost.toFixed(2));\n        this.booking.tax = parseInt((this.booking.amount *  (this.taxPecentage/100)).toFixed(2));\n        this.booking.totalBillAmount = parseInt((this.booking.amount + this.booking.tax).toFixed(2));\n       // this.facilityBookingForm.controls.bookedToTime.setErrors(null);\n      } else {\n        //this.facilityBookingForm.controls.bookedToTime.setErrors({min:true});\n        this.booking.amount = 0;\n        this.booking.totalBillAmount = 0;\n        this.booking.tax = 0;\n      }\n    }\n  }\n\n  calcDiscount() {\n    let discount,memberShipDis,amount,totalDiscount;\n    discount = parseInt(this.booking.discount ? this.booking.discount : 0);\n    memberShipDis = parseInt(this.booking.membershipDiscountAmount ? this.booking.membershipDiscountAmount : 0);\n    amount = parseInt(this.booking.amount ? this.booking.amount : 0);\n    totalDiscount = parseInt(discount + memberShipDis);\n    if(amount >= totalDiscount) {\n      this.booking.totalBillAmount =  parseInt(((amount + this.booking.tax) - totalDiscount).toFixed(2));\n      //this.facilityBookingForm.controls.discountAmt.setErrors({min:false})\n    } else {\n      //this.facilityBookingForm.controls.discountAmt.setErrors({min:true})\n      this.booking.totalBillAmount = 0;\n    }\n  }\n\n  setSelectedBlock(event) {\n    this.booking.apartmentBlockId = event[0].block_Id;\n    this.getUnits('change');\n  }\n\n  getUnits(type) {\n    if(type == 'change') {\n      this.booking.apartmentBlockUnitId = null;\n      this.booking.apartmentBlockUnitUserId = null;\n    } \n    for(let data of this.towerList) {\n      if(this.booking.apartmentBlockId == data.block_Id) {\n        this.unitList = data.blockUnit;\n        if(type == 'edit') {\n          this.getVisitorsList();\n          this.getPrimaryName();\n        }\n        break;\n      }\n    }\n  }\n\n  setSelectedBlockUnit(event) {\n    this.booking.apartmentBlockUnitId = event[0].buId;\n    this.booking.neededUserId = null;\n    this.visitorsList = [];\n    this.getVisitorsList();\n    this.getPrimaryName();\n  }\n\n  getPrimaryName() {\n    for(let data of this.unitList) {\n      if(this.booking.apartmentBlockUnitId == data.buId) {\n        this.primaryName = data.pc_Label;\n        this.booking.apartmentBlockUnitUserId = data.blockUnitUserId;\n        break;\n      }\n    }\n  }\n\n  createVisitor() {\n    const dialogRef = this.dialog.open(FacilityModalComponent, {\n      panelClass: 'material-dialog-big',\n      data: {\n        type:'create-visitor',\n        info: {\n          apartmentBlockUnitId : this.booking.apartmentBlockUnitId,\n          location : this.selectedCountryISO\n        }\n      }\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      if(result && result.message && result.id) {\n        let id = result.id.split('#');\n        this.booking.neededUserId = Number(id[0]);\n        this.getVisitorsList();\n      }\n    });\n  }\n\n  getVisitorsList() {\n    let params = {\n      apartmentUnitId: this.booking.apartmentBlockUnitId\n    }\n    this.visitorService.getExpectedVisitorsByApartmentUnitId(params).subscribe((res:any) => {\n      if(res.length > 0) {\n        this.visitorsList =res;\n        this.visitorsList.forEach((ele)=>{\n          ele.customLabel = `${ele.expectedVisitorName} ${ele.block_Unit} ${ele.expectedVisitorInTime} ${ele.expectedVisitorOutTime}` \n        });\n      } \n    }) \n  }\n\n  setVisitor(event) {\n    this.booking.neededUserId = event[0].expectedVisitorId;\n  }\n\n  routerConfig() {\n    if(this.isAdmin()) {\n      if(this.booking.facilityBookingStatusId == 188)\n      this.router.navigate(['/ams/facility/bookings-status/confirmed']);\n      else if(this.booking.facilityBookingStatusId == 189)\n        this.router.navigate(['/ams/facility/bookings-status/pending']);\n      else if(this.booking.facilityBookingStatusId == 208)\n        this.router.navigate(['/ams/facility/bookings-status/cancelled']);\n      else if(this.booking.facilityBookingStatusId == 385)\n        this.router.navigate(['/ams/facility/bookings-status/rejected']);\n    } else {\n      this.router.navigate(['/user/facility/bookings/all-bookings']);\n    }\n  }\n\n  pageNavigate(res,type) {\n    if(res.message) {\n      if(this.info.type == 'create')  //popup\n        this.modalResult.emit(true);      \n      else  {\n        if(type == 'create')\n          this.sharedService.openSnackBar('ApartmentFacilityBooking Created','success');\n        else\n          this.sharedService.openSnackBar('ApartmentFacilityBooking Updated','success');\n          this.routerConfig();\n      }\n    } else {\n      this.sharedService.openSnackBar(res.errorMessage,'error');\n    }\n  }\n\n  setSlotStructure() {\n    if( this.booking.rateBaseId == 139) {  //BookingPerDay \n      this.booking.slotId = null;\n      this.booking.isSlotBooking = false;\n      this.booking.bookedFromTime = \"00:00:01\";\n      this.booking.bookedToTime = \"23:59:00\";\n      this.booking.apartmentFacilityIsSlotBooking_List = [{\n        \"slotId\": null,\n        \"isSlotBooking\": false,\n        \"bookedForDate\": this.booking.bookedForDate,\n        \"bookedFromTime\": \"00:00:01\",\n        \"bookedToTime\": \"23:59:00\"\n      }]\n    } else if(this.facilitySlotData.length == 0 &&  this.booking.rateBaseId == 138) {  // BookingPerHour Without Slot\n      this.booking.slotId = null;\n      this.booking.isSlotBooking = false;\n      this.booking.bookedFromTime = moment(this.booking.bookedFromTime).format('HH:mm:ss');\n      this.booking.bookedToTime =  moment(this.booking.bookedToTime).format('HH:mm:ss');\n      this.booking.apartmentFacilityIsSlotBooking_List = [{\n        \"slotId\": null,\n        \"isSlotBooking\": false,\n        \"bookedForDate\": this.booking.bookedForDate,\n        \"bookedFromTime\": this.booking.bookedFromTime,\n        \"bookedToTime\": this.booking.bookedToTime \n      }]\n    } else if(this.facilitySlotData.length > 0 &&  this.booking.rateBaseId == 138) { //BookingPerHour with Slot\n      this.booking.isSlotBooking = true;\n      this.booking.bookedFromTime = null;\n      this.booking.bookedToTime = null;\n      this.booking.apartmentFacilityIsSlotBooking_List = [{\n        \"slotId\": this.booking.slotId,\n        \"isSlotBooking\": true,\n        \"bookedForDate\": this.booking.bookedForDate,\n        \"bookedFromTime\":  null,\n        \"bookedToTime\": null \n      }]\n    }\n    if(!this.booking.isBookingforGuest) {  //Booked for USer\n      this.booking.guestName = null;\n      this.booking.guestPhone = null;\n      this.booking.guestRelation = null;\n      this.booking.totalofguestsforevent = null;\n    }\n  }\n\n  setStatus(event) {\n    this.booking.facilityBookingStatusId = event[0].lookupValueId;\n  }\n\n  createFacilityBooking() {\n    this.message = null;\n    if(!this.facilityBookingForm.valid){\n      window.scroll({\n        top: 0,\n        behavior: 'smooth'\n      });\n      // Show the validation message\n      this.message = {\n        appearance: 'outline',\n        content   : \"Fill the Required Fields\",\n        shake     : true,\n        showIcon  : true,\n        type      : 'error'\n      };\n      //Mark for check\n      this.changeDetect.markForCheck();\n    } else {\n      this.isBookingSubmitted = true;\n      this.setSlotStructure();\n      let params = {\n        apartmentFacilityBooking: {\n          ...this.booking,\n          isCancelled: false,\n          cancelledBy:null,\n          cancelledOn: '',\n          cancelledAmount: 0,\n          rateBaseIdName :  this.booking.rateBaseId == 138 ? 'Hour' : 'Day',\n          isApproved: false,\n          apartmentId: this.sessionService.apartmentId,\n          bookedOn: _moment().toISOString(),\n          isActive: true,\n          insertedBy: this.sessionService.userId,\n          insertedOn: _moment().toISOString(),\n          updatedBy: null,\n          updatedOn: null,\n        }\n      }\n      this.facilityService.addApartmentFacilityBooking(params).subscribe((res:any) => {\n        this.isBookingSubmitted = false;\n        this.pageNavigate(res,'create');\n      },(error)=>{\n        this.isBookingSubmitted = false;\n        this.sharedService.openSnackBar('Server Error','error');\n      }) \n    }\n  }\n\n  updateFacilityBooking() {\n    this.message = null;\n    if(!this.facilityBookingForm.valid){\n      window.scroll({\n        top: 0,\n        behavior: 'smooth'\n      });\n      // Show the validation message\n      this.message = {\n        appearance: 'outline',\n        content   : \"Fill the Required Fields\",\n        shake     : true,\n        showIcon  : true,\n        type      : 'error'\n      };\n      //Mark for check\n      this.changeDetect.markForCheck();\n    } else {\n      this.isBookingSubmitted = true;\n      this.setSlotStructure();\n      let params = {\n        apartmentFacilityBooking: {\n          ...this.booking,\n          rateBaseIdName :  this.booking.rateBaseId == 138 ? 'Hour' : 'Day',\n          updatedBy: this.sessionService.userId,\n          updatedOn: _moment().toISOString(),\n        }\n      }\n      this.facilityService.updateApartmentFacilityBooking(params).subscribe((res:any) => {\n        this.isBookingSubmitted = false;\n        this.pageNavigate(res,'update');\n      },(error)=>{\n        this.isBookingSubmitted = false;\n        this.sharedService.openSnackBar('Server Error','error');\n      }) \n    }\n  }\n\n  back() {\n    const message = `Are you sure, you want to exit the screen ?`;\n    const dialogData = new ConfirmDialogModel(\"Confirm Action\", message);\n    const dialogRef = this.dialog.open(CommonConfirmModalComponent, {\n      panelClass: 'material-dialog-medium',\n      disableClose: true,\n      data: dialogData\n    });\n    dialogRef.afterClosed().subscribe(dialogResult => {\n      if(dialogResult) {\n        this.routerConfig();\n      }\n    })\n  }\n\n  editFacilityBooking(id) {\n    let params = {\n      apartmentFacilityBookingId: id,\n    }\n    this.facilityService.getApartmentFacilityBookingsByFacilityBookingId(params).subscribe((res:any)=>{\n      let {bookedFromTime,bookedToTime,bookedForDate, ...response} = res[0];\n      this.booking = response;\n      this.booking.bookedFromTime = moment(bookedFromTime,'HH:mm:ss');\n      this.booking.bookedToTime = moment(bookedToTime,'HH:mm:ss');\n      this.getFacilityCategoryList().subscribe((facility)=>{\n        if(res.length > 0) {\n          this.facilityCatList = facility;\n          this.selectFacility(null);\n        }\n      })\n      this.getTower().subscribe((tower:any)=>{\n        if(res.length > 0) {\n          this.towerList = tower;\n          this.getUnits('edit');\n        }\n      })\n    })\n  }\n\n  ngOnInit() {\n\n    this.sharedService.timezonecast.subscribe( timeZone => this.timeZone = timeZone )\n\n      // Set TimeZone \n    if(this.route.parent) {\n      this.route.parent.parent.parent.data.subscribe((data)=>{\n        if(data) {\n          let response = data.initialData.apartment;\n          this.selectedCountryISO = response.country.toLowerCase();\n        }\n      })\n    }\n   \n\n    //User Login\n    if(!this.isAdmin()) {  \n      this.booking.apartmentBlockId = this.sessionService.apartmentBlockID;\n      this.booking.apartmentBlockUnitId = this.sessionService.apartmentBlockUnitID;\n      this.booking.apartmentBlockUnitUserId = this.sessionService.apartmentBlockUnitUserId;\n      this.booking.facilityBookingStatusId = 189 //pending\n    } else {\n       // Facility Status\n       let statusParams = {\n        LookupTypeId: 40,\n        ApartmentId: this.sessionService.apartmentId\n      }\n      this.lookupService.getLookupValueByLookupTypeId(statusParams).subscribe((res:any) => {\n        if(res.length > 0)\n        this.facilityStatus = res;\n      });\n    }\n    this.booking.isBookingforGuest = true;\n    this.booking.discount = 0;\n\n    // Create Method Using POPUP \n    if(this.info && this.info.type == 'create')\n      this.urlType = 'create';\n    else if(this.info && this.info.type == 'view') \n      this.urlType = 'view';\n   \n    if(this.urlType == 'create') {\n       // Facility Category List \n      this.getFacilityCategoryList().subscribe((res:any) => {\n        if(res.length > 0) {\n          this.facilityCatList = res;\n          if(this.info.type) {\n            let calendarInfo = this.info.calendarData;\n            this.booking.apartmentFacilityId = Number(calendarInfo.resource._resource.id);\n            this.booking.bookedForDate =  moment(calendarInfo.startStr).format(),\n            this.selectFacility(null);\n          }\n        }\n      })\n      // Tower List\n      this.getTower().subscribe((res:any)=>{\n        if(res.length > 0)\n        this.towerList = res;\n      })\n    }\n\n     // Currency Type\n    let pesoParams = {\n      LookupTypeId: 101,\n      ApartmentId: this.sessionService.apartmentId\n    }\n    this.lookupService.getLookupValueByLookupTypeId(pesoParams).subscribe((res:any) => {\n      if(res.length > 0)\n      this.pesoValue = res[0].lookupValueName;\n    });\n\n     // Tax List\n    let taxListParams = {\n\t\t\tApartmentId: this.sessionService.apartmentId,\n\t\t\tLookupTypeId: 183\n\t\t}\n\t\tthis.lookupService.getLookupValueByLookupTypeId(taxListParams).subscribe((res: any) => {\n\t\t\tif (res.length > 0) {\n\t\t\t\tthis.taxPecentage = parseInt(res[0].lookupValueName);\n\t\t\t}\n    });\n\n    if(this.urlType && this.urlType != 'create') {\n      let id;\n      if(this.route.params['value'] && this.route.params['value'].id)\n        id = this.route.params['value'].id;\n      else if(this.info.bookingId) \n        id = this.info.bookingId;\n      this.editFacilityBooking(id);\n    }\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvYW1zL2ZhY2lsaXR5L2ZhY2lsaXR5LWNyZWF0ZS1ib29raW5nL2ZhY2lsaXR5LWV4cGVjdGVkLXZpc2l0b3IvZmFjaWxpdHktZXhwZWN0ZWQtdmlzaXRvci5jb21wb25lbnQuc2NzcyJ9 */\";","import { Component, OnInit, Output, EventEmitter, Input, ViewEncapsulation, ChangeDetectionStrategy, ViewChild, ChangeDetectorRef} from '@angular/core';\nimport { LookupService } from 'src/app/api/controllers/Lookup';\nimport { SessionService } from 'src/app/core/session/session.service';\nimport * as moment from 'moment';\nimport _moment from \"moment-timezone\";\nimport { SearchCountryField, CountryISO } from 'ngx-intl-tel-input';\nimport { CondoAnimations } from 'src/@condo/animations';\nimport { VisitorService } from 'src/app/api/controllers/Visitor';\nimport { SharedService } from 'src/app/shared/services/shared.service';\nimport { ActivatedRoute } from '@angular/router';\n\n@Component({\n  selector: 'app-facility-expected-visitor',\n  templateUrl: './facility-expected-visitor.component.html',\n  styleUrls: ['./facility-expected-visitor.component.scss'],\n  encapsulation  : ViewEncapsulation.None,\n  animations   : CondoAnimations\n})\n\nexport class FacilityExpectedVisitorComponent implements OnInit {\n  \n  @ViewChild('expectedVisitorForm') form:any;\n  @Input('popUpInfo') info:any = {};\n  @Output() modalResult = new EventEmitter()\n  visitor:any = {};\n  expectedDurationInfo:string = '';\n  visitTypeList:any = [];\n  visitCategoryList:any = [];\n  isDataSubmitted:boolean = false;\n\n  separateDialCode = true;\n  SearchCountryField = SearchCountryField;\n  CountryISO = CountryISO;\n  preferredCountries: CountryISO[] = [CountryISO.UnitedStates, CountryISO.UnitedKingdom];\n  selectedCountryISO:string = CountryISO.Philippines;\n\n\n  message: any = null;\n  timeZone:any;\n\n  constructor(\n    private visitorService:VisitorService,\n    private lookupService: LookupService,\n    private sharedService:SharedService,\n    private sessionService:SessionService,\n    private activateRouter:ActivatedRoute,\n    private _changeDetectorRef: ChangeDetectorRef,\n  ) { \n  }\n\n  getExpectedVisitorInDate(event) {\n    this.visitor.expectedVisitorInTime = event;\n    this.expectedDurationChange();\n  }\n\n  getExpectedVisitorOutDate(event) {\n    this.visitor.expectedVisitorOutTime = event;\n    this.expectedDurationChange();\n  }\n\n  expectedDurationChange() {\n    if(this.visitor.expectedVisitorInTime && this.visitor.expectedVisitorOutTime) {\n      let inDate = moment(this.visitor.expectedVisitorInTime);\n      let outDate = moment(this.visitor.expectedVisitorOutTime);\n      let diffDuration = moment.duration(outDate.diff(inDate));\n      this.expectedDurationInfo = diffDuration.days()+\" days \"+this.isSingleDigit(diffDuration.hours())+\":\"+ this.isSingleDigit(diffDuration.minutes())+\" hours\";\n      let hours = diffDuration.asHours();\n      this.visitor.expectedDuration = Math.round(hours);\n    }\n  }\n\n  isSingleDigit(digit){\n    if(digit <= 0){\n      return '00';\n    } else {\n      return (digit.toString().length > 1) ? digit : '0'+digit;\n    }\n  }\n\n  resetField() {\n    this.visitor={};\n    this.visitor.visitTypeId = null;\n    this.visitor.visitorCategoryId = null;\n    this.expectedDurationInfo='';\n  }\n\n  createExpectedVisitor() {\n\n    this.isDataSubmitted = true;\n\n    this.message = null;\n    if(!this.form.valid){\n      window.scroll({\n        top: 0,\n        behavior: 'smooth'\n      });\n      // Show the validation message\n      this.message = {\n        appearance: 'outline',\n        content   : \"Fill the Required Fields\",\n        shake     : true,\n        showIcon  : true,\n        type      : 'error'\n      };\n      //Mark for check\n      this._changeDetectorRef.markForCheck();\n    } else {\n      let params = {\n        expectedVisitor : {\n          ...this.visitor,\n          \"apartmentUnitId\": this.info.apartmentBlockUnitId,\n          \"apartmentId\" : this.sessionService.apartmentId,\n          \"expectedVisitorPhone\": this.visitor.expectedVisitorPhone.number,\n          \"isActive\": true,\n          \"insertedBy\": this.sessionService.userId,\n          \"insertedOn\": _moment().toISOString(),\n          \"updatedBy\": null,\n          \"updatedOn\": null,\n          \"enteredBy\": parseInt(this.sessionService.userId),\n          \"meetingPersonId\": 1,\n          \"visitorsOrg\": \"string\",\n          \"entryGateId\": null,\n          \"exitGateId\": null,\n          \"tomeetStaffId\": this.visitor.tomeetStaffId,\n          \"phonecountrycode\":  this.visitor.expectedVisitorPhone.countryCode,\n        }\n      }\n      this.visitorService.addExpectedVisitor(params).subscribe((res:any) => {\n        this.isDataSubmitted = false;\n        if(res.message) {\n          this.modalResult.emit({message:'success',id:res.message});\n        }\n      })\n    }\n  }\n\n  ngOnInit() {\n\n    this.sharedService.timezonecast.subscribe( timeZone => this.timeZone = timeZone )\n\n    this.visitor.expectedVisitorInTime = moment().add(this.timeZone.offset, 'hours')\n\n    this.resetField();\n     //visit type\n    let visitParams = {\n      ApartmentId: this.sessionService.apartmentId,\n      LookupTypeId: 15\n    }\n    this.lookupService.getLookupValueByLookupTypeId(visitParams).subscribe((res:any) => {\n      this.visitTypeList = res;\n    });\n    //Visit Category\n    let visitCategoryParams = {\n      ApartmentId: this.sessionService.apartmentId,\n      LookupTypeId: 100\n    }\n    this.lookupService.getLookupValueByLookupTypeId(visitCategoryParams).subscribe((res:any) => {\n      this.visitCategoryList = res\n    });\n\n    this.selectedCountryISO = this.info.location;\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvYW1zL2ZhY2lsaXR5L2ZhY2lsaXR5LWNyZWF0ZS1ib29raW5nL2ZhY2lsaXR5LW1vZGFsL2ZhY2lsaXR5LW1vZGFsLmNvbXBvbmVudC5zY3NzIn0= */\";","import { Component, OnInit, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\n\n@Component({\n  selector: 'app-facility-modal',\n  templateUrl: './facility-modal.component.html',\n  styleUrls: ['./facility-modal.component.scss']\n})\nexport class FacilityModalComponent implements OnInit {\n\n  constructor(\n    public dialogRef: MatDialogRef<FacilityModalComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: any,\n  ) { }\n\n  ngOnInit(): void {\n  }\n\n  popUpResult(event) {\n    this.dialogRef.close(event);\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvYW1zL2ZhY2lsaXR5L2ZhY2lsaXR5LWNyZWF0ZS1ib29raW5nL3VzZXItZmFjaWxpdHktYm9va2luZy1saXN0L3VzZXItZmFjaWxpdHktYm9va2luZy1saXN0LmNvbXBvbmVudC5zY3NzIn0= */\";","import { Component, OnInit, HostListener, ViewChild, Injector } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { FacilityService } from 'src/app/api/controllers/Facility';\nimport { SharedService } from 'src/app/shared/services/shared.service';\nimport { SessionService } from 'src/app/core/session/session.service';\nimport * as moment from 'moment';\nimport _moment from \"moment-timezone\";\nimport { jqxGridComponent } from 'src/app/shared/jqwidgets-scripts/jqwidgets-ts/angular_jqxgrid';\nimport { MatDialog } from '@angular/material/dialog';\nimport { ModalService } from 'src/app/shared/services/modal.service';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-user-facility-booking-list',\n  templateUrl: './user-facility-booking-list.component.html',\n  styleUrls: ['./user-facility-booking-list.component.scss']\n})\n\nexport class UserFacilityBookingListComponent implements OnInit { \n  @ViewChild('datagrid', { static: false }) datagrid: jqxGridComponent;\n  columnData:any;\n  bookingListData:any;\n  bookingSearch:string = '';\n  modalService:any;\n  isBookingDataLoaded:boolean = false;\n  totalItems:number = 0;\n  apiSubscribe:Subscription;\n  \n  constructor(\n    private facilityService:FacilityService,\n    private sessionService:SessionService,\n    private router: Router,\n    private injector: Injector,\n    private sharedService:SharedService,\n    public dialog: MatDialog,\n  ) {\n    this.modalService = this.injector.get(ModalService);\n  }\n  \n  @HostListener('window:onEditFacility', ['$event.detail'])\n  editBooking(detail) {\n    let dataRecord = this.datagrid.getrowdata(detail.rowId);\n    this.router.navigate(['user/facility/bookings/edit-booking',dataRecord.apartmentFacilityBookingId]);\n  }\n\n  @HostListener('window:onDeleteFacility', ['$event.detail'])\n  deleteBooking(detail) {\n    this.modalService.showConfirmModal(detail.rowId);\n  }\n\n  onGlSearchFilter(event) {\n    if(event != \"\"){\n      let filtergroup = new jqx.filter();\n      let filter_or_operator = 1;\n      let filtervalue = event;\n      let filtercondition = 'contains';\n      let filterData = filtergroup.createfilter('stringfilter', filtervalue, filtercondition);\n      filtergroup.operator = 'or';\n      filtergroup.addfilter(filter_or_operator, filterData);\n      this.datagrid.showfiltercolumnbackground(false);\n      this.columnData.forEach(item => {\n        if(item.datafield != 'Actions') {\n          this.datagrid.addfilter(item.datafield, filtergroup, true);\n        }\n      })\n      this.datagrid.applyfilters();\n    }\n    else {\n      this.datagrid.clearfilters();\n    }\n  }\n  \n  getPrintParams(event) {\n    this.datagrid.exportdata(event, 'BookingList');\n  }\n\n  getBookingList() {\n    this.isBookingDataLoaded = false;\n    let params = {\n      apartmentId: this.sessionService.apartmentId,\n      apartmentBlockUnitUserId: this.sessionService.apartmentBlockUnitUserId\n    }\n    this.facilityService.getApartmentFacilityBookingsByBlockunituserId(params).subscribe((res:any) => {\n      if(res.length > 0) {\n        let facility = {\n          localdata: res.reverse(),\n          datatype: \"array\"\n        }\n        this.totalItems = facility.localdata.length;\n        this.bookingListData = new jqx.dataAdapter(facility);\n      }\n      this.isBookingDataLoaded = true;\n    })\n  }\n\n  ngOnInit() {\n    this.getBookingList();\n    var cellsrenderer = (row, column, value) => {\n      return '<div class=\"jqx-custom-inner-cell\">' + value + '</div>';\n    }\n    var columnrenderer = (value) => {\n      return '<div style=\"padding: 14px\">' + value + '</div>';\n    }\n\n    this.columnData = [{\n      text: 'Booking Id',\n      datafield: 'serialNo',\n      cellsrenderer: cellsrenderer,\n      minwidth: 80,\n      renderer: columnrenderer\n    },{\n      text: 'Facility Name',\n      datafield: 'apartmentFacilityName',\n      cellsrenderer: cellsrenderer,\n      minwidth: 80,\n      renderer: columnrenderer\n    },{\n      text: 'Event Date',\n      datafield: 'bookedForDate',\n      cellsrenderer: (row, column, value) => {\n        return '<div class=\"jqx-custom-inner-cell\">'+ moment(value).format(\"DD-MM-YYYY\")+'</div>'\n      },\n      minwidth: 80,\n      renderer: columnrenderer,\n    },{\n      text: 'Event Time',\n      datafield: 'bookedFromTime',\n        cellsrenderer: (row, column, value) => {\n          let time,fromTime,toTime = this.bookingListData.loadedData[row].bookedToTime;\n          if(value && toTime)  {\n          fromTime = moment(value,'HH:mm:ss').format('hh:mm A');\n          toTime = moment(toTime,'HH:mm:ss').format('hh:mm A');\n          time = `${fromTime} - ${toTime}`\n          } else {\n            time = '-'\n          }\n        return '<div class=\"jqx-custom-inner-cell\">'+ time +'</div>'\n      },\n      cellsalign: 'center', \n      align: 'center',\n      minwidth: 160,\n      renderer: columnrenderer\n    },{\n      text: 'Total Hours',\n      datafield: 'bookedToTime',\n      cellsrenderer: (row, column, value) => {\n        let time,toTime,fromTime = this.bookingListData.loadedData[row].bookedFromTime;\n        if(fromTime && value) {\n          fromTime = moment(fromTime,'HH:mm:ss').format();\n          toTime = moment(value,'HH:mm:ss').format();\n          time = moment.duration(moment(toTime).diff(moment(fromTime)));\n          if(time.minutes() == 0) {\n            time = `${time.hours()}hrs`\n          } else {\n            time = `${time.hours()}hrs ${time.minutes()}mins`\n          }\n          if(time == '23hrs 58mins') {\n            time = '24hrs'\n          }\n        } else {\n          time = '-'\n        }\n        return '<div class=\"jqx-custom-inner-cell ml-4\">'+ time +'</div>'\n      },\n      minwidth: 80,\n      renderer: columnrenderer\n    },{\n      text: 'Rate Type',\n      datafield: 'rateBaseIdName',\n      cellsrenderer: cellsrenderer,\n      minwidth: 80,\n      renderer: columnrenderer\n    },{\n      text: 'Cost',\n      datafield: 'amount',\n      cellsrenderer: cellsrenderer,\n      minwidth: 80,\n      renderer: columnrenderer\n    },{\n      text: 'Discount',\n      datafield: 'discount',\n      cellsrenderer: cellsrenderer,\n      minwidth: 80,\n      renderer: columnrenderer\n    },{\n      text: 'Final Bill',\n      datafield: 'totalBillAmount',\n      cellsalign: 'center', \n      align: 'center',\n      cellsrenderer: cellsrenderer,\n      minwidth: 80,\n      renderer: columnrenderer,\n    },{\n      text: 'Booked For',\n      datafield: 'isBookingforGuest',\n      cellsrenderer: (row, column, value) => {\n        value =  value ? 'Guest' : 'Unit User';\n        return '<div class=\"jqx-custom-inner-cell\">'+ value +'</div>'\n      },\n      minwidth: 80,\n      renderer: columnrenderer\n    },{\n      text: 'Status',\n      datafield: 'facilityBookingStatusId',\n      cellsrenderer: (row, column, value) => {\n        let status;\n        if(value == 189) {  //Pending\n          status = 'purple';\n        } else if (value == 188) {  //completed\n          status =  'green';\n        }  else if (value == 208 || value == 385) {  //Cancelled || Rejected\n          status = 'red';\n        }\n        return `<div class=\"jqx-custom-inner-cell\">\n          <div class=\"status-badge bg-status-${status}-700\">\n            <span class=\"font-bold text-status-${status}-900 text-uppercase\">${this.bookingListData.loadedData[row].facilityBookingStatusId_Label}</span>\n          </div>\n        </div>`\n      },\n      cellsalign: 'center', \n      align: 'center',\n      minwidth: 100,\n      renderer: columnrenderer\n    },{\n      text: 'Actions',\n      cellsalign: 'center',\n      cellsrenderer: (row: number): string => {\n        return '<div class=\"simple-actions\">'\n        +'<a href=\"javascript:void(0)\" class=\"mr-3\" onClick=\"editFacilityBooking('+ row +')\" title=\"Edit Facility\"><i class=\"fa fa-pencil icon edit\" aria-hidden=\"true\"></i></a>'\n        +'<a href=\"javascript:void(0)\" onClick=\"deleteFacilityBooking(' + row + ')\" title=\"Delete Facility\"><i class=\"fa fa-trash icon delete\" aria-hidden=\"true\"></i></a>'\n        +'</div>'\n      },\n      minwidth: 80,\n      renderer: columnrenderer\n    }];\n    //delete item\n    this.apiSubscribe = this.sharedService.unitlistdeleteindexcast.subscribe( id => {\n      if(id != null) {\n        let dataRecord = this.datagrid.getrowdata(id);\n        let params = {\n          apartmentFacilityBookingId: dataRecord.apartmentFacilityBookingId,\n          deleteBy: parseInt(this.sessionService.userId)\n        }\n        this.facilityService.deleteApartmentFacilityBooking(params).subscribe((res:any) => {\n          this.sharedService.setUnitListDeleteIndex(null);\n          if(res.message) {\n            this.datagrid.deleterow(id);\n            this.datagrid.refresh();\n            this.sharedService.openSnackBar(res.message,'success');\n          }  else {\n            this.sharedService.openSnackBar(res.errorMessage,'error');\n          }\n        });\n      }\n    });\n    \n  }\n\n  ngOnDestroy(){\n\t\tthis.apiSubscribe.unsubscribe();\n\t}\n}\n  \nfunction editFacilityBooking(row) {  \n  var event = new CustomEvent('onEditFacility', {\n    detail: {\n      rowId: row\n    }\n  })\n  window.dispatchEvent(event);\n}\n(window as any).editFacilityBooking = editFacilityBooking;\n\nfunction deleteFacilityBooking(row) {\n  var event = new CustomEvent('onDeleteFacility', {\n    detail: {\n      rowId: row\n    }\n  })\n  window.dispatchEvent(event);\n}\n(window as any).deleteFacilityBooking = deleteFacilityBooking;\n  \n"]}